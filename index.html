<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <link rel="dns-prefetch" href="http://yoursite.com">
  <title>Cellophane</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Cellophane">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Cellophane">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Cellophane">
  
    <link rel="alternative" href="/atom.xml" title="Cellophane" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" type="text/css" href="/./main.0cf68a.css">
  <style type="text/css">
  
    #container.show {
      background: linear-gradient(200deg,#a0cfe4,#e8c37e);
    }
  </style>
  

  

</head>

<body>
  <div id="container" q-class="show:isCtnShow">
    <canvas id="anm-canvas" class="anm-canvas"></canvas>
    <div class="left-col" q-class="show:isShow">
      
<div class="overlay" style="background: #4d4d4d"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="null" class="profilepic">
			<img src="/images/me3.jpg" class="js-avatar">
		</a>
		<hgroup>
		  <h1 class="header-author"><a href="null">Cellophane</a></h1>
		</hgroup>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/index.html">首页</a></li>
	        
				<li><a href="/archives">文章</a></li>
	        
				<li><a href="/tags">标签</a></li>
	        
				<li><a href="/categories">分类</a></li>
	        
				<li><a href="/about">关于</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
    		
    			
    			<a q-on="click: openSlider(e, 'innerArchive')" href="javascript:void(0)">所有文章</a>
    			
            
    			
    			<a q-on="click: openSlider(e, 'aboutme')" href="javascript:void(0)">关于我</a>
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="GitHub" target="_blank" href="https://github.com/liuyuqi21" title="GitHub"><i class="icon-GitHub"></i></a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col" q-class="show:isShow,hide:isShow|isFalse">
      
<nav id="mobile-nav">
  	<div class="overlay js-overlay" style="background: #4d4d4d"></div>
	<div class="btnctn js-mobile-btnctn">
  		<div class="slider-trigger list" q-on="click: openSlider(e)"><i class="icon icon-sort"></i></div>
	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img src="/images/me3.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author js-header-author">Cellophane</h1>
			</hgroup>
			
			
			
				
			
				
			
				
			
				
			
				
			
			
			
			<nav class="header-nav">
				<div class="social">
					
						<a class="GitHub" target="_blank" href="https://github.com/liuyuqi21" title="GitHub"><i class="icon-GitHub"></i></a>
			        
				</div>
			</nav>

			<nav class="header-menu js-header-menu">
				<ul style="width: 70%">
				
				
					<li style="width: 20%"><a href="/index.html">首页</a></li>
		        
					<li style="width: 20%"><a href="/archives">文章</a></li>
		        
					<li style="width: 20%"><a href="/tags">标签</a></li>
		        
					<li style="width: 20%"><a href="/categories">分类</a></li>
		        
					<li style="width: 20%"><a href="/about">关于</a></li>
		        
				</ul>
			</nav>
		</header>				
	</div>
	<div class="mobile-mask" style="display:none" q-show="isShow"></div>
</nav>

      <div id="wrapper" class="body-wrap">
        <div class="menu-l">
          <div class="canvas-wrap">
            <canvas data-colors="#eaeaea" data-sectionHeight="100" data-contentId="js-content" id="myCanvas1" class="anm-canvas"></canvas>
          </div>
          <div id="js-content" class="content-ll">
            
  
    <article id="post-Redis-底层原理" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/11/10/Redis-底层原理/">Redis-底层原理</a>
    </h1>
  

        
        <a href="/2019/11/10/Redis-底层原理/" class="archive-article-date">
  	<time datetime="2019-11-10T12:36:32.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2019-11-10</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="高并发和快速的原因"><a href="#高并发和快速的原因" class="headerlink" title="高并发和快速的原因"></a>高并发和快速的原因</h2><ul>
<li>redis 是基于内存的</li>
<li>redis 是单线程的，省去了很多上下文切换线程的时间</li>
<li>redis 使用<strong>多路复用</strong>技术，可以处理并发的连接。非阻塞 IO 内部实现采用 epoll，采用了 epoll + 自己实现的简单的事件框架。epoll中的读、写、关闭、连接都转化成了事件，然后利用 epoll 的多路复用特性，绝不在 IO 上浪费一点时间。</li>
</ul>
<h3 id="为什么单线程"><a href="#为什么单线程" class="headerlink" title="为什么单线程"></a>为什么单线程</h3><p>Redis 的性能瓶颈不在于 <strong>CPU 资源</strong>，而在于内存访问和网络 IO。采用单线程设计的好处是，极大简化了数据结构和算法的实现，不需要各种<strong>锁的性能消耗</strong>。Redis 通过<strong>异步 IO 和 pipeline</strong> 等机制来实现高速的并发访问。</p>
<h4 id="其他开源软件采用的模型"><a href="#其他开源软件采用的模型" class="headerlink" title="其他开源软件采用的模型"></a>其他开源软件采用的模型</h4><ul>
<li>Nginx 多进程单线程</li>
<li>Memcached 单进程多线程</li>
</ul>
<h3 id="单线程的劣势"><a href="#单线程的劣势" class="headerlink" title="单线程的劣势"></a>单线程的劣势</h3><p>无法发挥多核 CPU 的性能，不过可以通过在单机开多个 Redis 实例来完善。</p>
<h3 id="IO-多路复用技术"><a href="#IO-多路复用技术" class="headerlink" title="IO 多路复用技术"></a>IO 多路复用技术</h3><p><strong>多路</strong>指的是多个 socket 连接，<strong>复用</strong> 值得是复用一个线程。多路复用主要有三种技术：select，poll，epoll。</p>
<h2 id="数据淘汰策略"><a href="#数据淘汰策略" class="headerlink" title="数据淘汰策略"></a>数据淘汰策略</h2><h1 id="底层数据结构"><a href="#底层数据结构" class="headerlink" title="底层数据结构"></a>底层数据结构</h1><h2 id="SDS-简单动态字符串"><a href="#SDS-简单动态字符串" class="headerlink" title="SDS 简单动态字符串"></a>SDS 简单动态字符串</h2><ul>
<li>常数复杂度获取字符串长度</li>
<li>杜绝缓冲区溢出</li>
<li>减少修改字符串长度时所需的内存重分配次数。</li>
<li>二进制安全</li>
<li>兼容部分 C 字符串函数</li>
</ul>
<p>一个 sds 字符串的完整结构，由在内存地址上前后相邻的两部分构成。</p>
<ul>
<li>一个 header，通常包含字符串的长度（len）、最大容量（alloc）和 flags。sdshdr5 有所不同</li>
<li>一个字符数组。长度等于最大容量 +1。为了放 null 结束符，和传统 C 字符串做兼容。<h3 id="header"><a href="#header" class="headerlink" title="header"></a>header</h3>sds 包含一个 header 结构，sds 一共有5 种类型的 header，之所以有 5 种，是为了能让不同长度的字符串可以使用不同大小的 header。</li>
</ul>
<p>除 sdshdr5 之外，其他 4 个 header 的结构都包含 3 个字段。</p>
<ul>
<li>len：表示字符串的真正长度（不包含 bull 结束符在内）</li>
<li>alloc：表示字符串的最大容量（不包含最后最后多余的那个字节）</li>
<li>flags：总是占用一个字节。其中的最低 3 个 bit 用来表示 header 的类型。<br>sdshdr5 与其他几个 header 结构不同，不包含 alloc 字段，长度使用 flags 的高 5 位来存储。因此，它不能为字符串分配空余空间。如果字符串需要动态增长，它就必要要重新分配内存。这种类型更适合存储静态的短字符串（长度小于 32）</li>
</ul>
<p>可以看出，header 存放在真正的字符串数据前面（低地址方向），这样有几个好处</p>
<ul>
<li>header 和数据相邻，而不用分成两块内存空间来单独分配。这样有利于减少内存碎片，提高存储效率。</li>
<li>虽然 header 有多个类型，但是 sds 可以统一用 char* 来表示。且它与传统的C语言字符串保持类型兼容。如果一个sds里面存储的是可打印字符串，那么我们可以直接把它传给C函数，比如使用strcmp比较字符串大小，或者使用printf进行打印。</li>
</ul>
<h3 id="SDS-的定义"><a href="#SDS-的定义" class="headerlink" title="SDS 的定义"></a>SDS 的定义</h3><p>SDS 包含三个部分,free,len,buf[]</p>
<ul>
<li>buf[]：字节数组，用来存放实际字符串</li>
<li>len：记录 buf 数组中已经使用的字节数量</li>
<li>free：记录 buf 数组中未使用的字节的数量</li>
</ul>
<h3 id="O-1-获取字符串的长度"><a href="#O-1-获取字符串的长度" class="headerlink" title="O(1) 获取字符串的长度"></a>O(1) 获取字符串的长度</h3><p>直接获取len</p>
<h3 id="杜绝缓冲区溢出"><a href="#杜绝缓冲区溢出" class="headerlink" title="杜绝缓冲区溢出"></a>杜绝缓冲区溢出</h3><p>C 语言字符串不记录自身长度，所以 strcat 假定用户在执行这个函数时， 已经为 dest 分配了足够多的内存， 可以容纳 src 字符串中的所有内容， 而一旦这个假定不成立时， 就会产生缓冲区溢出。</p>
<p>SDS 的 SDS 的空间分配策略完全杜绝了发生缓冲区溢出的可能性： 当 SDS API 需要对 SDS 进行修改时， API 会先检查 SDS 的空间是否满足修改所需的要求， 如果不满足的话， API 会自动将 SDS 的空间扩展至执行修改所需的大小， 然后才执行实际的修改操作。</p>
<h3 id="减少内存分配次数"><a href="#减少内存分配次数" class="headerlink" title="减少内存分配次数"></a>减少内存分配次数</h3><p>而在 SDS 中我们在对一个 SDS 初始化的时候会根据实际 buf[] 字符串的长度进行预先空间分配，并且标记为 free。这种方式叫做<strong>空间预分配</strong>。free 的空间分配的策略是根据 buf[] 大小来决定的，如果 buf[] 大小小于 1MB，则 len 多大 free 就多大；如果 buf[] 大小大于 1MB，则 free 固定设置为 1MB。</p>
<p>如果 SDS 的字符串长度减少，那么 SDS 会将减少的长度存放到 free 中，而不是直接回收，这样可以方便下次如果再次使用，减少内存重新分配。这种策略叫做<strong>惰性空间释放</strong>。</p>
<h3 id="二进制安全"><a href="#二进制安全" class="headerlink" title="二进制安全"></a>二进制安全</h3><p>这是由于 Redis 不依赖一 ‘\0’ 空字符作为结束字符。C 语言之所以不支持就是因为二进制流中会携带 ‘\0’ 字符，导致无法知道字符串真实的结束位置。这就带来了另一个 Redis 特性，就是二进制的安全性。</p>
<h2 id="robj（Redis-Object）"><a href="#robj（Redis-Object）" class="headerlink" title="robj（Redis Object）"></a>robj（Redis Object）</h2><p>类似于 php 的 zvalue</p>
<h2 id="dict-字典"><a href="#dict-字典" class="headerlink" title="dict 字典"></a>dict 字典</h2><ul>
<li>Redis 的一个 database 中所有的 key 到 value 的映射，就是使用一个 dict 来维护的。</li>
<li>一个 Redis hash 结构，当它的 field 较多时，会采用 dict 来存储。</li>
<li>zset 使用 dict 和 skiplist 共同维护</li>
</ul>
<p>Redis 的字典使用哈希表作为底层实现，一个哈希表里面可以有多个哈希表的节点，而每个哈希表节点就保存了字典的一个键值对。</p>
<h3 id="哈希表"><a href="#哈希表" class="headerlink" title="哈希表"></a>哈希表</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> dictht&#123;</div><div class="line">    <span class="comment">//哈希表数组， 数组中的每个元素都是一个指向 dict.h/dictEntry 结构的指针， 每个 dictEntry 结构保存着一个键值对。</span></div><div class="line">    dictEntry **table;</div><div class="line"></div><div class="line">    <span class="comment">//哈希表大小</span></div><div class="line">    <span class="keyword">unsigned</span> <span class="keyword">long</span> size;</div><div class="line"></div><div class="line">    <span class="comment">//哈希表大小掩码，用于计算索引值</span></div><div class="line">    <span class="comment">//总是等于 size-1</span></div><div class="line">    <span class="keyword">unsigned</span> <span class="keyword">long</span> sizemask;</div><div class="line"></div><div class="line">    <span class="comment">//该哈希表已有节点的数量，这个属性和哈希值一起决定一个键应该被放到 table 数组的哪个索引上面。</span></div><div class="line">    <span class="keyword">unsigned</span> <span class="keyword">long</span> userd;</div><div class="line">&#125; dictht;</div></pre></td></tr></table></figure>
<h3 id="哈希表节点"><a href="#哈希表节点" class="headerlink" title="哈希表节点"></a>哈希表节点</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> dictEntry&#123;</div><div class="line">    <span class="comment">//键</span></div><div class="line">    <span class="keyword">void</span> *key;</div><div class="line"></div><div class="line">    <span class="comment">//值</span></div><div class="line">    <span class="keyword">union</span>&#123;</div><div class="line">        <span class="keyword">void</span> *val;</div><div class="line">        <span class="keyword">uint64_t</span> u64;</div><div class="line">        <span class="keyword">int64_t</span> s64;</div><div class="line">    &#125; v;</div><div class="line"></div><div class="line">    <span class="comment">//指向下个哈希表节点，形成链表</span></div><div class="line">    <span class="comment">//这个指针可以将多个哈希值相同的键值对连接在一起，以此来解决键冲突的问题</span></div><div class="line">    <span class="keyword">struct</span> dictEntry *next;</div><div class="line">&#125; dictEntry;</div></pre></td></tr></table></figure>
<h3 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> dict&#123;</div><div class="line">    <span class="comment">//类型特定函数</span></div><div class="line">    dictType *type;</div><div class="line"></div><div class="line">    <span class="comment">//私有数据</span></div><div class="line">    <span class="keyword">void</span> *privdata;</div><div class="line"></div><div class="line">    <span class="comment">//哈希表</span></div><div class="line">    dictht ht[<span class="number">2</span>];</div><div class="line"></div><div class="line">    <span class="comment">//rehash 索引</span></div><div class="line">    <span class="comment">//当 rehash 不在进行时，值为 -1</span></div><div class="line">    <span class="keyword">int</span> rehashidx;</div><div class="line">&#125; dict;</div></pre></td></tr></table></figure>
<ul>
<li>type 属性是一个指向 dictType 结构的指针，每个 ditType 结构保存了一簇用于操作特定类型键值对的函数，Redis 会为用途不同的字典设置不同的类型特定函数。</li>
<li>privdata 属性保存了需要传给那些类型特定函数的可选参数。</li>
<li>ht 属性是一个包含两个项的数组，数组中的每个项都是一个 dictht 哈希表，一般情况下， 字典只使用 ht[0] 哈希表， ht[1] 哈希表只会在对 ht[0] 哈希表进行 rehash 时使用。</li>
<li>rehashidx 记录了 rehash 目前的进度， 如果目前没有在进行 rehash ， 那么它的值为 -1 。</li>
</ul>
<h3 id="哈希算法"><a href="#哈希算法" class="headerlink" title="哈希算法"></a>哈希算法</h3><p>当要将一个新的键值对添加到字典里面时， 程序需要先根据键值对的键计算出哈希值和索引值， 然后再根据索引值， 将包含新键值对的哈希表节点放到哈希表数组的指定索引上面。</p>
<h3 id="解决键冲突"><a href="#解决键冲突" class="headerlink" title="解决键冲突"></a>解决键冲突</h3><p>Redis 的哈希表使用拉链法解决冲突，每个哈希表都有一个 next 指针，多个哈希表节点可以用 next 指针构成一个单向链表。</p>
<h3 id="rehash（重新散列）"><a href="#rehash（重新散列）" class="headerlink" title="rehash（重新散列）"></a>rehash（重新散列）</h3><p>随着操作的不断执行， 哈希表保存的键值对会逐渐地增多或者减少， 为了让哈希表的负载因子（load factor）维持在一个合理的范围之内， 当哈希表保存的键值对数量太多或者太少时， 程序需要对哈希表的大小进行相应的扩展或者收缩。<br><code>负载因子 = 哈希表已保存节点数量 / 哈希表大小</code></p>
<ol>
<li>为字典的 <code>hash[1]</code> 哈希表分配空间</li>
<li>将保存在 <code>ht[0]</code> 中的所有键值对 rehash 到 <code>ht[1]</code> 上面： rehash 指的是重新计算键的哈希值和索引值， 然后将键值对放置到 <code>ht[1]</code> 哈希表的指定位置上。</li>
<li>当 <code>ht[0]</code> 包含的所有键值对都迁移到了 <code>ht[1]</code> 之后 （<code>ht[0]</code> 变为空表）， 释放 <code>ht[0]</code> ， 将 <code>ht[1]</code> 设置为 <code>ht[0]</code> ， 并在 <code>ht[1]</code> 新创建一个空白哈希表， 为下一次 rehash 做准备。 </li>
</ol>
<h3 id="渐进式-rehash"><a href="#渐进式-rehash" class="headerlink" title="渐进式 rehash"></a>渐进式 rehash</h3><ol>
<li>为 <code>ht[1]</code> 分配空间，让字典同时持有 <code>ht[0]</code> 和 <code>ht[1]</code> 两个哈希表</li>
<li>在字典中维持一个索引计数器变量 rehashidx，并将它的值设为 0，表示 rehash 工作正式开始</li>
<li>在 rehash 进行期间，每次对字典执行添加、删除、查找或者更新操作时，程序除了执行指定的操作以外，还会顺带将 <code>ht[0]</code> 哈希表在 rehashidx 索引上的所有键值对 rehash 到 <code>ht[1]</code>，当 rehash 工作完成之后，程序将 rehashidx 属性的值增一。</li>
<li>rehash 操作完成后，程序将 rehashidx 属性的值设为 -1。<br>渐进式 rehash 的好处在于它采取分而治之的方式， 将 rehash 键值对所需的计算工作均摊到对字典的每个添加、删除、查找和更新操作上， 从而避免了集中式 rehash 而带来的庞大计算量。</li>
</ol>
<p>因为在进行渐进式 rehash 的过程中，字典会同时使用 <code>ht[0]</code> 和 <code>ht[1]</code> 两个哈希表，所以在渐进式 rehash 进行期间，字典的删除（delete）、查找（find）、更新（update）等操作会在两个哈希表上进行。比如说，要在字典里面查找一个键的话，程序会先在 <code>ht[0]</code> 里面进行查找，如果没找到的话，就会继续到 <code>ht[1]</code> 里面进行查找，诸如此类。</p>
<p>另外， 在渐进式 rehash 执行期间， 新添加到字典的键值对一律会被保存到 <code>ht[1]</code> 里面， 而 <code>ht[0]</code> 则不再进行任何添加操作。这一措施保证了 <code>ht[0]</code> 包含的键值对数量会只减不增， 并随着 rehash 操作的执行而最终变成空表。</p>
<h2 id="链表"><a href="#链表" class="headerlink" title="链表"></a>链表</h2><p>链表由 list 结构和 listNode 结构组成。</p>
<p>listNode 结构有 <code>prev</code>，<code>next</code>，<code>value</code>。</p>
<p>list 结构为链表提供了表头指针 <code>head</code>、表尾指针 <code>tail</code>、 以及链表长度计数器 <code>len</code> ， 而 <code>dup</code> 、 <code>free</code> 和 <code>match</code> 成员则是用于实现多态链表所需的类型特定函数：</p>
<ul>
<li>dup 函数用于复制链表节点所保存的值</li>
<li>free 函数用于释放链表节点所保存的值</li>
<li>match 函数用于对比链表节点所保存的值和另一个输入值是否相等</li>
</ul>
<h2 id="跳跃表"><a href="#跳跃表" class="headerlink" title="跳跃表"></a>跳跃表</h2><p>跳跃表是一种有序数据结构，它通过在每个节点中维持多个指向其他节点的指针， 从而达到快速访问节点的目的。zskiplistNode 结构用于表示跳跃表节点，而 zskiplist 结构用于保存跳跃表节点的相关信息。</p>
<p>Redis 只在两个地方用到了跳跃表， 一个是实现有序集合键， 另一个是在集群节点中用作内部数据结构。</p>
<h3 id="zskiplist-结构"><a href="#zskiplist-结构" class="headerlink" title="zskiplist 结构"></a>zskiplist 结构</h3><ul>
<li>header 指向跳跃表的表头节点</li>
<li>tail 表头节点的层数不计算在内</li>
<li>level 记录目前跳跃表内，层数最大的那个节点的层数（表头节点的层数不计算在内）</li>
<li>length 记录跳跃表的长度（表头节点的层数不计算在内）</li>
</ul>
<h3 id="zskiplistNode-结构"><a href="#zskiplistNode-结构" class="headerlink" title="zskiplistNode 结构"></a>zskiplistNode 结构</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> zskiplistNode &#123;</div><div class="line"></div><div class="line">    <span class="comment">// 后退指针</span></div><div class="line">    <span class="comment">// 在程序从表尾向表头遍历时使用</span></div><div class="line">    <span class="keyword">struct</span> zskiplistNode *backward;</div><div class="line"></div><div class="line">    <span class="comment">// 分值</span></div><div class="line">    <span class="comment">// 节点按各自所保存的分值从小到大排列</span></div><div class="line">    <span class="keyword">double</span> score;</div><div class="line"></div><div class="line">    <span class="comment">// 成员对象</span></div><div class="line">    robj *obj;</div><div class="line"></div><div class="line">    <span class="comment">// 层</span></div><div class="line">    <span class="keyword">struct</span> zskiplistLevel &#123;</div><div class="line"></div><div class="line">        <span class="comment">// 前进指针</span></div><div class="line">        <span class="comment">// 用于从表头向表尾方向访问节点</span></div><div class="line">        <span class="keyword">struct</span> zskiplistNode *forward;</div><div class="line"></div><div class="line">        <span class="comment">// 跨度</span></div><div class="line">        <span class="comment">// 用于记录两个节点之间的距离</span></div><div class="line">        <span class="keyword">unsigned</span> <span class="keyword">int</span> span;</div><div class="line"></div><div class="line">    &#125; level[];</div><div class="line"></div><div class="line">&#125; zskiplistNode;</div></pre></td></tr></table></figure>
<h3 id="层（level）"><a href="#层（level）" class="headerlink" title="层（level）"></a>层（level）</h3><p>level 数组可以包含多个元素，每个元素都包含一个指向其他节点的指针，程序可以通过这些层来加快访问其他节点的速度。</p>
<p>每次创建一个新的跳跃表节点的时候，程序都根据幂次定律随机生成一个介于 1 和 32 之间的值作为 level 数组的大小，这个大小就是层的“高度”。一般来说， 层的数量越多， 访问其他节点的速度就越快。</p>
<ul>
<li>跨度（span）：用户记录两个几点之间的距离，跨度是用来计算排位的（rank），在查找某个节点的过程中，将沿途访问过的所有层的跨度累计起来，得到的结果就是目标节点在跳跃表中的排位。</li>
</ul>
<h1 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h1><ul>
<li><a href="http://zhangtielei.com/posts/server.html" target="_blank" rel="external">Redis 内部数据结构详解</a></li>
<li><a href="https://www.kancloud.cn/kancloud/redisbook/63829" target="_blank" rel="external">Redis 设计与实现（第二版）</a></li>
</ul>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color1">Redis</a>
        		</li>
      		
		</ul>
	</div>

      
	<div class="article-category tagcloud">
		<i class="icon-book icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="/categories/Redis//" class="article-tag-list-link color1">Redis</a>
        		</li>
      		
		</ul>
	</div>


      
        <p class="article-more-link">
          <a class="article-more-a" href="/2019/11/10/Redis-底层原理/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        
    </div>
</aside>




  
    <article id="post-linux-命令" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/18/linux-命令/">linux 命令</a>
    </h1>
  

        
        <a href="/2019/07/18/linux-命令/" class="archive-article-date">
  	<time datetime="2019-07-18T00:28:18.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2019-07-18</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Linux-命令"><a href="#Linux-命令" class="headerlink" title="Linux-命令"></a>Linux-命令</h1><ul>
<li>文件目录操作：pwd，cd，ls，file，cp，mv，mkdir，rm，ln</li>
<li>使用命令：type，help，man，apropos，info，whatis，alias</li>
<li>权限：id，chmod，umask，sudo，chown，chgrp，passwd，usermod，useradd，groupadd，userdel</li>
<li>进程管理：w，top，free，ps，kill，pkill，pstree，killall，jobs，bg，fg，shutdown</li>
<li>环境变量：set，printenv，export</li>
<li>存储媒介：mount，umount，fsck，fdisk，mkfs，dd，genisoimage，wodim，md5sum</li>
<li>网络系统：ifconfig，route，ping，netstat，ss，curl，telnet，traceroute，ftp，wget，ssh</li>
<li>文件系统：file，mount，umount，fsck，df，du，tar，gzip，scp，rsync</li>
<li>系统关机重启：shutdown，reboot</li>
<li>常用工具：ssh，clear，history，who，screen</li>
<li>文件查找：locate，find，whereis，which</li>
<li>文件内容查看：head，tail，less，more</li>
<li>文本处理：cat，sort，uniq，cut，paste，join，comm，diff，patch，tr</li>
<li>文本搜素：grep，sed，awk</li>
<li>格式化输出：nl，fold，fmt，pr，printf，groff</li>
<li>软件包管理：</li>
<li>编译程序：</li>
</ul>
<h2 id="crontab"><a href="#crontab" class="headerlink" title="crontab"></a>crontab</h2><p><code>crontab [-u user] file crontab [-u user] [ -e | -l | -r ]</code></p>
<h3 id="crontab-的文件格式"><a href="#crontab-的文件格式" class="headerlink" title="crontab 的文件格式"></a>crontab 的文件格式</h3><p>分 时 日 月 周 要运行的命令</p>
<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><p><code>* * * * * myCommmand</code> 每分钟执行<br><code>3,15 * * * * myCommand</code> 每小时的第3和第15分钟执行<br><code>3,15 8-11 */2  *  * myCommand</code> 每隔两天的上午8点到11点的第3和第15分钟执行<br><code>3,15 8-11 * * 1 myCommand</code> 每周一一上午8点到11点的第3和第15分钟执行<br><code>* */1 * * * myCommand</code> 每一小时执行 </p>
<h2 id="文件目录操作"><a href="#文件目录操作" class="headerlink" title="文件目录操作"></a>文件目录操作</h2><h3 id="pwd-打印出当前工作目录名"><a href="#pwd-打印出当前工作目录名" class="headerlink" title="pwd 打印出当前工作目录名"></a>pwd 打印出当前工作目录名</h3><ul>
<li>-P 当目录是链接时，显示出实际路径</li>
</ul>
<h3 id="cd-切换目录"><a href="#cd-切换目录" class="headerlink" title="cd 切换目录"></a>cd 切换目录</h3><h4 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h4><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>/</td>
<td>进入根目录</td>
</tr>
<tr>
<td>~</td>
<td>或者不填 进入当前用户主目录</td>
</tr>
<tr>
<td>-</td>
<td>返回之前的目录</td>
</tr>
</tbody>
</table>
<h3 id="ls-列出目录下的内容"><a href="#ls-列出目录下的内容" class="headerlink" title="ls 列出目录下的内容"></a>ls 列出目录下的内容</h3><h4 id="参数-1"><a href="#参数-1" class="headerlink" title="参数"></a>参数</h4><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-a</td>
<td>-all 列出目录下的所有文件，包括以 .  开头的隐藏文件</td>
</tr>
<tr>
<td>-d</td>
<td>通常，如果指定了目录名，ls 命令会列出这个目录中的内容，而不是目录本身。 把这个选项与 -l 选项结合使用，可以看到所指定目录的详细信息，而不是目录中的内容。</td>
</tr>
<tr>
<td>-h</td>
<td>显示文件详细信息时，以人们可读的格式，而不是以字节数来显示文件的大小。</td>
</tr>
<tr>
<td>-r</td>
<td>以相反的顺序来显示结果。通常，ls 命令的输出结果按照字母升序排列</td>
</tr>
<tr>
<td>-i</td>
<td>打印出每个文件后的 inode 号</td>
</tr>
<tr>
<td>-t</td>
<td>以文件修改时间排序</td>
</tr>
<tr>
<td>-l</td>
<td>显示文件详细信息</td>
</tr>
<tr>
<td>-S</td>
<td>命令输出结果按照文件大小来排序。</td>
</tr>
<tr>
<td>-R</td>
<td>同事列出所有子目录层</td>
</tr>
</tbody>
</table>
<h3 id="file-确定文件类型"><a href="#file-确定文件类型" class="headerlink" title="file 确定文件类型"></a>file 确定文件类型</h3><p>当调用 file 命令后，file 命令会打印出文件内容的简单描述</p>
<h3 id="格式"><a href="#格式" class="headerlink" title="格式"></a>格式</h3><p><code>file filename</code></p>
<h3 id="mkdir-创建文件夹"><a href="#mkdir-创建文件夹" class="headerlink" title="mkdir 创建文件夹"></a>mkdir 创建文件夹</h3><h4 id="参数-2"><a href="#参数-2" class="headerlink" title="参数"></a>参数</h4><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-m</td>
<td>–mode=模式，设定权限&lt;模式&gt; (类似 chmod)，而不是 rwxrwxrwx 减 umask</td>
</tr>
<tr>
<td>-p</td>
<td>–parents  可以是一个路径名称。此时若路径中的某些目录尚不存在,加上此选项后,系统将自动建立好那些尚不存在的目录,即一次可以建立多个目录; </td>
</tr>
<tr>
<td>-v</td>
<td>–verbose  每次创建新目录都显示信息，–help 显示此帮助信息并退出，–version 输出版本信息并退出</td>
</tr>
</tbody>
</table>
<h3 id="rm-删除文件或目录"><a href="#rm-删除文件或目录" class="headerlink" title="rm 删除文件或目录"></a>rm 删除文件或目录</h3><h4 id="参数-3"><a href="#参数-3" class="headerlink" title="参数"></a>参数</h4><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-f –force</td>
<td>忽略不存在的文件，不给出提示</td>
</tr>
<tr>
<td>-i –interactive</td>
<td>进行交互式删除</td>
</tr>
<tr>
<td>-r -R –recursive</td>
<td>递归删除子目录</td>
</tr>
<tr>
<td>-v –verbose</td>
<td>详细显示进行的步骤，–help 显示此帮助信息并退出，–version 输出版本信息并退出</td>
</tr>
</tbody>
</table>
<h3 id="rmdir-删除空目录"><a href="#rmdir-删除空目录" class="headerlink" title="rmdir 删除空目录"></a>rmdir 删除空目录</h3><h3 id="mv-移动-重命名文件和目录"><a href="#mv-移动-重命名文件和目录" class="headerlink" title="mv 移动/重命名文件和目录"></a>mv 移动/重命名文件和目录</h3><h4 id="格式-1"><a href="#格式-1" class="headerlink" title="格式"></a>格式</h4><p><code>mv [选项] 源文件或目录 目标文件或目录</code></p>
<h4 id="参数-4"><a href="#参数-4" class="headerlink" title="参数"></a>参数</h4><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-b</td>
<td>若需覆盖文件，则覆盖前先备份</td>
</tr>
<tr>
<td>-f</td>
<td>强制，如果目标文件已经存在，不会询问是否覆盖</td>
</tr>
<tr>
<td>-i</td>
<td>若目标文件已经存在，就会询问是否覆盖</td>
</tr>
<tr>
<td>-u</td>
<td>若目标文件已经存在，且 source 比较新，才会更新(update)</td>
</tr>
<tr>
<td>-t</td>
<td>–target-directory=DIRECTORY move all SOURCE arguments into DIRECTORY，即指定mv的目标目录，该选项适用于移动多个源文件到一个目录的情况，此时目标目录在前，源文件在后。</td>
</tr>
</tbody>
</table>
<h3 id="cp-复制文件或者目录"><a href="#cp-复制文件或者目录" class="headerlink" title="cp 复制文件或者目录"></a>cp 复制文件或者目录</h3><h4 id="格式-2"><a href="#格式-2" class="headerlink" title="格式"></a>格式</h4><p><code>cp [选项] [-t] 源 目的</code></p>
<h4 id="参数-5"><a href="#参数-5" class="headerlink" title="参数"></a>参数</h4><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-a</td>
<td>为每个已存在的目标文件创建备份</td>
</tr>
<tr>
<td>-f</td>
<td>如果目标文件无法打开则将其移除并重试</td>
</tr>
<tr>
<td>-r</td>
<td>复制目录及目录内的所有项目</td>
</tr>
<tr>
<td>-n</td>
<td>不要覆盖已存在的文件</td>
</tr>
</tbody>
</table>
<h3 id="touch-修改文件的时间戳，或者新建一个不存在的文件"><a href="#touch-修改文件的时间戳，或者新建一个不存在的文件" class="headerlink" title="touch 修改文件的时间戳，或者新建一个不存在的文件"></a>touch 修改文件的时间戳，或者新建一个不存在的文件</h3><h4 id="参数-6"><a href="#参数-6" class="headerlink" title="参数"></a>参数</h4><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-a</td>
<td>改变档案的读取时间记录</td>
</tr>
<tr>
<td>-m</td>
<td>改变档案的修改时间记录</td>
</tr>
<tr>
<td>-c</td>
<td>加入母的档案不存在，不建立任何档案，与 –no-create 的效果一样</td>
</tr>
<tr>
<td>-d -t</td>
<td>使用指定的日期时间，而非现在时间 touch -t 201911142234.50 log.log <code>[[CC]YY]MMDDhhmm[.SS]</code>   这里，CC为年数中的前两位，即”世纪数”；YY为年数的后两位，即某世纪中的年数．如果不给出CC的值，则touch   将把年数CCYY限定在1969–2068之内．MM为月数，DD为天将把年数CCYY限定在1969–2068之内．MM为月数，DD为天数，hh 为小时数(几点)，mm为分钟数，SS为秒数．此处秒的设定范围是0–61，这样可以处理闰秒．这些数字组成的时间是环境变量TZ指定的时区中的一个时 间．由于系统的限制，早于1970年1月1日的时间是错误的</td>
</tr>
<tr>
<td>-r</td>
<td>使用参考文档的时间 touch -r log.log log2019.log</td>
</tr>
</tbody>
</table>
<h3 id="xargs"><a href="#xargs" class="headerlink" title="xargs"></a>xargs</h3><p>给命令传递参数的一个过滤器，一般与管道一起使用。<br>在使用 find命令的-exec选项处理匹配到的文件时， find命令将所有匹配到的文件一起传递给exec执行。但有些系统对能够传递给exec的命令长度有限制，这样在find命令运行几分钟之后，就会出现溢出错误。错误信息通常是“参数列太长”或“参数列溢出”。这就是xargs命令的用处所在，特别是与find命令一起使用。  </p>
<p>find命令把匹配到的文件传递给xargs命令，而xargs命令每次只获取一部分文件而不是全部，不像-exec选项那样。这样它可以先处理最先获取的一部分文件，然后是下一批，并如此继续下去。  </p>
<h4 id="实例-1"><a href="#实例-1" class="headerlink" title="实例"></a>实例</h4><ul>
<li>find / -name “core” -print | xargs echo “” &gt;/tmp/core.log 在整个系统中查找内存信息转储文件(core dump) ，然后把结果保存到/tmp/core.log 文件中</li>
<li>find . -type f -print | xargs grep “hostname” 用grep命令在所有的普通文件中搜索hostname这个词</li>
</ul>
<h2 id="使用命令"><a href="#使用命令" class="headerlink" title="使用命令"></a>使用命令</h2><p>命令可以是以下四种形式之一</p>
<ol>
<li>是一个可执行程序</li>
<li>是一个内建于 shell 自身的命令</li>
<li>是一个 shell 函数</li>
<li>是一个命令别名</li>
</ol>
<h3 id="type-显示命令的类型"><a href="#type-显示命令的类型" class="headerlink" title="type 显示命令的类型"></a>type 显示命令的类型</h3><h4 id="格式-3"><a href="#格式-3" class="headerlink" title="格式"></a>格式</h4><p><code>type command</code></p>
<h3 id="help-得到-shell-内建命令的帮助文档"><a href="#help-得到-shell-内建命令的帮助文档" class="headerlink" title="help 得到 shell 内建命令的帮助文档"></a>help 得到 shell 内建命令的帮助文档</h3><p>bash 有一个内建的帮助工具，可供每一个 shell <strong>内建命令</strong> 使用。</p>
<h3 id="–help-显示用法信息"><a href="#–help-显示用法信息" class="headerlink" title="–help 显示用法信息"></a>–help 显示用法信息</h3><p>许多 <strong>可执行程序</strong> 支持一个 –help 选项，这个选项是显示命令所支持的语法和选项说明。</p>
<h3 id="man-显示程序手册页"><a href="#man-显示程序手册页" class="headerlink" title="man 显示程序手册页"></a>man 显示程序手册页</h3><p>许多希望被命令行使用的 <strong>可执行程序</strong>，提供了一个正式的文档，叫做手册或手册页(man page)。一个特殊的叫做 man 的分页程序，可用来浏览他们。</p>
<h3 id="apropos-显示适当的命令"><a href="#apropos-显示适当的命令" class="headerlink" title="apropos 显示适当的命令"></a>apropos 显示适当的命令</h3><p>也有可能搜索参考手册列表，基于某个关键字的匹配项。</p>
<p>输出结果每行的第一个字段是手册页的名字，第二个字段展示章节。注意，man 命令加上”-k”选项， 和 apropos 完成一样的功能。</p>
<h3 id="whatis-显示非常简洁的命令说明"><a href="#whatis-显示非常简洁的命令说明" class="headerlink" title="whatis 显示非常简洁的命令说明"></a>whatis 显示非常简洁的命令说明</h3><p>whatis 程序显示匹配特定关键字的手册页的名字和一行命令说明：</p>
<h3 id="info-显示程序-Info-条目"><a href="#info-显示程序-Info-条目" class="headerlink" title="info 显示程序 Info 条目"></a>info 显示程序 Info 条目</h3><p>GNU 项目提供了一个命令程序手册页的替代物，称为”info”。info 内容可通过 info 阅读器 程序读取。info 页是超级链接形式的，和网页很相似。</p>
<h3 id="alias-创建命令别名"><a href="#alias-创建命令别名" class="headerlink" title="alias 创建命令别名"></a>alias 创建命令别名</h3><ul>
<li><code>alias</code> 查看别名</li>
<li><code>alias name=&#39;command&#39;</code> 创建别名 </li>
<li><code>unalias name</code> 删除别名</li>
</ul>
<h2 id="重定向"><a href="#重定向" class="headerlink" title="重定向"></a>重定向</h2><p>I/O 重定向允许我们更改输出地点和输入来源。一般地，输出送到屏幕，输入来自键盘， 但是通过 I/O 重定向，我们可以做出改变,将标准输出重定向到除屏幕以外的另一个文件。</p>
<h3 id="gt-标准输出重定向"><a href="#gt-标准输出重定向" class="headerlink" title="&gt; 标准输出重定向"></a>&gt; 标准输出重定向</h3><p><code>ls &gt; output.txt</code> 结果输出到了 output.txt，使用‘&gt;’重定向符，目标文件总是从头开始被重写，如果需要清空一个文件内容，可以<code>&gt; output.txt</code></p>
<h3 id="gt-gt-追加输出结果到目标文件"><a href="#gt-gt-追加输出结果到目标文件" class="headerlink" title="&gt;&gt; 追加输出结果到目标文件"></a>&gt;&gt; 追加输出结果到目标文件</h3><h3 id="2-gt-标准错误重定向"><a href="#2-gt-标准错误重定向" class="headerlink" title="2&gt; 标准错误重定向"></a>2&gt; 标准错误重定向</h3><p>标准错误重定向没有专用的重定向操作符。为了重定向标准错误，我们必须参考其文件描述符。 一个程序可以在几个编号的文件流中的任一个上产生输出。虽然我们已经将这些文件流的前 三个称作标准输入、输出和错误，shell 内部分别将其称为文件描述符0、1和2。</p>
<h3 id="重定向标准输出和错误到同一个文件"><a href="#重定向标准输出和错误到同一个文件" class="headerlink" title="重定向标准输出和错误到同一个文件"></a>重定向标准输出和错误到同一个文件</h3><ul>
<li>方法一：<code>ls -l /bin/usr &gt; ls-output.txt 2&gt;&amp;1</code>使用这种方法，我们完成两个重定向。首先重定向标准输出到文件 ls-output.txt，然后 重定向文件描述符2（标准错误）到文件描述符1（标准输出）使用表示法2&gt;&amp;1。注意重定向的顺序安排非常重要。标准错误的重定向必须总是出现在标准输出 重定向之后，要不然它不起作用。</li>
<li>方法二：<code>ls -l /bin/usr &amp;&gt; ls-output.txt</code></li>
</ul>
<h3 id="处理不需要的输出"><a href="#处理不需要的输出" class="headerlink" title="处理不需要的输出"></a>处理不需要的输出</h3><p>系统提供了一个叫做”/dev/null”的特殊文件， 这个文件是系统设备，叫做位存储桶，它可以接受输入，并且对输入不做任何处理。<code>ls -l /bin/usr 2&gt; /dev/null</code></p>
<h3 id="管道"><a href="#管道" class="headerlink" title="管道"></a>管道</h3><p>命令从标准输入读取数据并输送到标准输出的能力被一个称为管道线的 shell 特性所利用。 使用管道操作符”|”（竖杠）</p>
<ul>
<li><code>ls -l /usr/bin | less</code> 使用 less 来显示输出</li>
</ul>
<h3 id="tee-从-Stdin-读取数据，并同时输出到-Stdout-和文件"><a href="#tee-从-Stdin-读取数据，并同时输出到-Stdout-和文件" class="headerlink" title="tee 从 Stdin 读取数据，并同时输出到 Stdout 和文件"></a>tee 从 Stdin 读取数据，并同时输出到 Stdout 和文件</h3><p>Linux 提供了一个叫做 tee 的命令，这个命令制造了 一个”tee”，安装到我们的管道上。tee 程序从标准输入读入数据，并且同时复制数据 到标准输出（允许数据继续随着管道线流动）和一个或多个文件。当在某个中间处理 阶段来捕捉一个管道线的内容时很有用</p>
<ul>
<li><code>ls /usr/bin | tee ls.txt | grep zip</code> 在 grep 过滤管道线的内容之前，来捕捉整个目录列表到文件 ls.txt</li>
</ul>
<h2 id="展开"><a href="#展开" class="headerlink" title="展开"></a>展开</h2><h3 id="echo-它将它的文本参数打印到标准输出中"><a href="#echo-它将它的文本参数打印到标准输出中" class="headerlink" title="echo 它将它的文本参数打印到标准输出中"></a>echo 它将它的文本参数打印到标准输出中</h3><ul>
<li><code>echo this is a test</code> 输出 this is a test</li>
</ul>
<h3 id="路径名展开"><a href="#路径名展开" class="headerlink" title="路径名展开"></a>路径名展开</h3><p>通配符所依赖的工作机制叫做路径名展开。</p>
<ul>
<li><code>echo D*</code> 显示当前目录下以 D 开头的文件</li>
<li><code>echo /usr/*/share</code></li>
<li>路径名展开不会显示隐藏文件，使用 <code>echo .*</code> 会显示出父目录，使用 <code>.[!.]?*</code> 可以展开成所有以圆点开头，第二个字符不包含圆点，再包含至少一个字符， 并且这个字符之后紧接着任意多个字符的文件名。</li>
</ul>
<h3 id="波浪线展开"><a href="#波浪线展开" class="headerlink" title="波浪线展开"></a>波浪线展开</h3><p>当它用在 一个单词的开头时，它会展开成指定用户的家目录名，如果没有指定用户名，则展开成当前用户的家目录</p>
<ul>
<li><code>echo ~</code> 显示 /home/me</li>
<li><code>echo ~foo</code> 显示 /home/foo</li>
</ul>
<h3 id="算术表达式展开"><a href="#算术表达式展开" class="headerlink" title="算术表达式展开"></a>算术表达式展开</h3><p>格式：$((expression))  只支持整数</p>
<ul>
<li><code>echo $((2 + 2))</code> </li>
</ul>
<h3 id="花括号展开"><a href="#花括号展开" class="headerlink" title="花括号展开"></a>花括号展开</h3><p>花括号展开模式可能包含一个开头部分叫做报头，一个结尾部分叫做附言。花括号表达式本身可 能包含一个由逗号分开的字符串列表，或者一个整数区间，或者单个的字符的区间。这种模式不能 嵌入空白字符。</p>
<ul>
<li><code>echo Front-{A,B,C}-Back</code> Front-A-Back Front-B-Back Front-C-Back</li>
<li><code>echo {1..5}</code> 1 2 3 4 5</li>
<li><code>echo {Z..A}</code> Z Y X W V U T S R Q P O N M L K J I H G F E D C B A</li>
<li>嵌套 <code>echo a{A{1,2},B{3,4}}b</code> aA1b aA2b aB3b aB4b</li>
</ul>
<h3 id="参数展开"><a href="#参数展开" class="headerlink" title="参数展开"></a>参数展开</h3><ul>
<li><code>echo $USER</code> 输出用户名</li>
<li>可以用 <code>printenv | less</code> 来查看有效的变量名</li>
</ul>
<h3 id="命令替换"><a href="#命令替换" class="headerlink" title="命令替换"></a>命令替换</h3><p>命令替换允许我们把一个命令的输出作为一个展开模式来使用：</p>
<ul>
<li><code>ls -l $(which cp)</code> 把 which cp 的执行结果作为一个参数传递给 ls 命令，因此可以在不知道 cp 命令 完整路径名的情况下得到它的文件属性列表。</li>
</ul>
<h3 id="双引号"><a href="#双引号" class="headerlink" title="双引号"></a>双引号</h3><p>如果你把文本放在双引号中， shell 使用的特殊字符，都失去它们的特殊含义，被当作普通字符来看待。 有几个例外： $，\ (反斜杠），和 `（倒引号）。这意味着单词分割、路径名展开、 波浪线展开和花括号展开都将失效，然而参数展开、算术展开和命令替换 仍然执行。</p>
<ul>
<li>ls -l “two words.txt” 当文件名含有空格时使用双引号</li>
</ul>
<h3 id="单引号"><a href="#单引号" class="headerlink" title="单引号"></a>单引号</h3><p>禁止所有的展开</p>
<h2 id="权限"><a href="#权限" class="headerlink" title="权限"></a>权限</h2><h3 id="id-显示用户身份号"><a href="#id-显示用户身份号" class="headerlink" title="id 显示用户身份号"></a>id 显示用户身份号</h3><h3 id="chmod-改变文件或目录的访问权限"><a href="#chmod-改变文件或目录的访问权限" class="headerlink" title="chmod 改变文件或目录的访问权限"></a>chmod 改变文件或目录的访问权限</h3><h4 id="参数-7"><a href="#参数-7" class="headerlink" title="参数"></a>参数</h4><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-c</td>
<td>当发生改变时，报告处理信息</td>
</tr>
<tr>
<td>-f</td>
<td>错误信息不输出</td>
</tr>
<tr>
<td>-R</td>
<td>处理指定目录以及其子目录下的所有文件</td>
</tr>
<tr>
<td>-v</td>
<td>运行时显示详细处理信息</td>
</tr>
</tbody>
</table>
<h4 id="权限范围"><a href="#权限范围" class="headerlink" title="权限范围"></a>权限范围</h4><table>
<thead>
<tr>
<th>a</th>
<th>b</th>
</tr>
</thead>
<tbody>
<tr>
<td>u</td>
<td>目录或者文件的当前的用户</td>
</tr>
<tr>
<td>g</td>
<td>目录或者文件的当前的群组</td>
</tr>
<tr>
<td>o</td>
<td>除了目录或者文件的当前用户或群组之外的用户或者群组</td>
</tr>
<tr>
<td>a</td>
<td>所有的用户及群组</td>
</tr>
</tbody>
</table>
<h4 id="权限代号"><a href="#权限代号" class="headerlink" title="权限代号"></a>权限代号</h4><table>
<thead>
<tr>
<th>代号</th>
<th>权限</th>
</tr>
</thead>
<tbody>
<tr>
<td>r</td>
<td>读权限，用数字4表示</td>
</tr>
<tr>
<td>w</td>
<td>写权限，用数字2表示</td>
</tr>
<tr>
<td>x</td>
<td>执行权限，用数字1表示</td>
</tr>
<tr>
<td>-</td>
<td>删除权限，用数字0表示</td>
</tr>
<tr>
<td>s</td>
<td>特殊权限 </td>
</tr>
</tbody>
</table>
<h4 id="格式-4"><a href="#格式-4" class="headerlink" title="格式"></a>格式</h4><ol>
<li>文字设定法：<code>chmod ［who］ ［+ | - | =］ ［mode］ 文件名</code> chmod a+x a.txt</li>
<li>数字设定法：<code>chmod ［mode］ 文件名</code> r=4，w=2，x=1</li>
</ol>
<h3 id="chgrp-变更文件与目录所属群组"><a href="#chgrp-变更文件与目录所属群组" class="headerlink" title="chgrp 变更文件与目录所属群组"></a>chgrp 变更文件与目录所属群组</h3><h4 id="参数同-chmod"><a href="#参数同-chmod" class="headerlink" title="参数同 chmod"></a>参数同 chmod</h4><ul>
<li>–reference=&lt;文件或者目录&gt; 根据指定文件改变文件的群组属性</li>
</ul>
<h4 id="实例-2"><a href="#实例-2" class="headerlink" title="实例"></a>实例</h4><ul>
<li><code>chgrp -R 100 test6</code> 通过群组识别码改变文件群组属性，100为users群组的识别码，具体群组和群组识别码可以去/etc/group文件中查看</li>
</ul>
<h3 id="chown-改变文件的拥有者和群组"><a href="#chown-改变文件的拥有者和群组" class="headerlink" title="chown 改变文件的拥有者和群组"></a>chown 改变文件的拥有者和群组</h3><h4 id="格式-5"><a href="#格式-5" class="headerlink" title="格式"></a>格式</h4><p><code>chown [选项] [所有者][:[组]] 文件</code></p>
<h4 id="必要参数"><a href="#必要参数" class="headerlink" title="必要参数"></a>必要参数</h4><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-c</td>
<td>显示更改的部分的信息</td>
</tr>
<tr>
<td>-f</td>
<td>忽略错误信息</td>
</tr>
<tr>
<td>-h</td>
<td>修复符号链接</td>
</tr>
<tr>
<td>-R</td>
<td>处理指定目录以及其子目录下的所有文件</td>
</tr>
<tr>
<td>-v</td>
<td>显示详细的处理信息</td>
</tr>
<tr>
<td>-deference</td>
<td>作用于符号链接的指向，而不是链接文件本身</td>
</tr>
</tbody>
</table>
<h4 id="选择参数"><a href="#选择参数" class="headerlink" title="选择参数"></a>选择参数</h4><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>–reference=&lt;目录或文件&gt;</td>
<td>把指定的目录/文件作为参考，把操作的文件/目录设置成参考文件/目录相同拥有者和群组</td>
</tr>
<tr>
<td>–from=&lt;当前用户：当前群组&gt;</td>
<td>只有当前用户和群组跟指定的用户和群组相同时才进行改变</td>
</tr>
<tr>
<td>–help</td>
<td>显示帮助信息</td>
</tr>
<tr>
<td>–version</td>
<td>显示版本信息</td>
</tr>
</tbody>
</table>
<h4 id="实例-3"><a href="#实例-3" class="headerlink" title="实例"></a>实例</h4><ul>
<li><code>chown mail:mail log2012.log</code> 改变拥有者和群组</li>
<li><code>chown root: log2012.log</code> 改变文件拥有者和群组</li>
<li><code>chown :mail log2012.log</code> 改变文件群组</li>
</ul>
<h3 id="umask-设置默认权限"><a href="#umask-设置默认权限" class="headerlink" title="umask 设置默认权限"></a>umask 设置默认权限</h3><p>当创建一个文件时，umask 命令控制着文件的默认权限。umask 命令使用八进制表示法来表达 从文件模式属性中删除一个位掩码。</p>
<h3 id="su-以其他用户身份和组-ID-运行一个-shell"><a href="#su-以其他用户身份和组-ID-运行一个-shell" class="headerlink" title="su 以其他用户身份和组 ID 运行一个 shell"></a>su 以其他用户身份和组 ID 运行一个 shell</h3><p>输入 exit 能返回原来的 shell</p>
<h3 id="sudo-以另一个用户身份执行命令"><a href="#sudo-以另一个用户身份执行命令" class="headerlink" title="sudo 以另一个用户身份执行命令"></a>sudo 以另一个用户身份执行命令</h3><p>sudo 命令不要求超级用户的密码。使用 sudo 命令时，用户使用他/她自己的密码来认证。su 和 sudo 之间的一个重要区别是 sudo 不会重新启动一个 shell，也不会加载另一个 用户的 shell 运行环境。</p>
<h3 id="passwd-更改用户密码"><a href="#passwd-更改用户密码" class="headerlink" title="passwd 更改用户密码"></a>passwd 更改用户密码</h3><ul>
<li><code>passwd [user]</code></li>
</ul>
<h2 id="进程管理"><a href="#进程管理" class="headerlink" title="进程管理"></a>进程管理</h2><p>当系统启动的时候，内核先把一些它自己的活动初始化为进程，然后运行一个叫做 init 的程序。init， 依次地，再运行一系列的称为 init 脚本的 shell 脚本（位于/etc），它们可以启动所有的系统服务。 其中许多系统服务以守护（daemon）程序的形式实现，守护程序仅在后台运行，没有任何用户接口(User Interface)。 这样，即使我们没有登录系统，至少系统也在忙于执行一些例行事务。</p>
<p>在进程方案中，一个程序可以发动另一个程序被表述为一个父进程可以产生一个子进程。</p>
<p>内核维护每个进程的信息，以此来保持事情有序。例如，系统分配给每个进程一个数字，这个数字叫做 进程(process) ID 或 PID。PID 号按升序分配，init 进程的 PID 总是1。内核也对分配给每个进程的内存和就绪状态进行跟踪以便继续执行这个进程。 像文件一样，进程也有所有者和用户 ID，有效用户 ID，等等。</p>
<h3 id="top-显示当前系统正在执行的进程的相关信息"><a href="#top-显示当前系统正在执行的进程的相关信息" class="headerlink" title="top 显示当前系统正在执行的进程的相关信息"></a>top 显示当前系统正在执行的进程的相关信息</h3><h4 id="参数-8"><a href="#参数-8" class="headerlink" title="参数"></a>参数</h4><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-b</td>
<td>批处理</td>
</tr>
<tr>
<td>-c</td>
<td>显示完整的治命令</td>
</tr>
<tr>
<td>-I</td>
<td>忽略失效过程</td>
</tr>
<tr>
<td>-s</td>
<td>保密模式</td>
</tr>
<tr>
<td>-S</td>
<td>累积模式 </td>
</tr>
<tr>
<td>-i&lt;时间&gt;</td>
<td>设置间隔时间</td>
</tr>
<tr>
<td>-u&lt;用户名&gt;</td>
<td>指定用户名</td>
</tr>
<tr>
<td>-p&lt;进程号&gt;</td>
<td>指定进程</td>
</tr>
<tr>
<td>-n&lt;次数&gt;</td>
<td>循环显示的次数</td>
</tr>
</tbody>
</table>
<h4 id="输出信息"><a href="#输出信息" class="headerlink" title="输出信息"></a>输出信息</h4><p>各进程（任务）的状态监控，项目列信息说明如下：<br>信息|说明<br>—-|—<br>PID | 进程描述符<br>USER | 进程所有者<br>PR | 进程优先级<br>NI | nice值。负值表示高优先级，正值表示低优先级<br>VIRT | 进程使用的虚拟内存总量，单位kb。VIRT=SWAP+RES<br>RES | 常驻内存，单位kb。RES=CODE+DATA<br>SHR（SHARE） | 共享内存大小，单位kb<br>S（STAT） | 进程状态。D=不可中断的睡眠状态 R=运行 S=睡眠 T=跟踪/停止 Z=僵尸进程<br>%CPU | CPU 使用率<br>%MEM | 进程使用的物理内存百分比<br>TIME+ | 进程使用的CPU时间总计，单位1/100秒<br>COMMAND | 进程名称（命令名/命令行）</p>
<h3 id="amp-把一个进程放到后台执行"><a href="#amp-把一个进程放到后台执行" class="headerlink" title="&amp; 把一个进程放到后台执行"></a>&amp; 把一个进程放到后台执行</h3><ul>
<li><code>xlogo &amp;</code> 在程序命令之后加上 &amp; 字符，让他在后台运行</li>
</ul>
<h3 id="jobs-列出从终端中启动了的任务"><a href="#jobs-列出从终端中启动了的任务" class="headerlink" title="jobs 列出从终端中启动了的任务"></a>jobs 列出从终端中启动了的任务</h3><p>返回任务号和这个任务的命令</p>
<h3 id="停止一个进程"><a href="#停止一个进程" class="headerlink" title="停止一个进程"></a>停止一个进程</h3><p>输入 Ctrl+z 可以停止进程</p>
<h3 id="fg-恢复程序到前台运行"><a href="#fg-恢复程序到前台运行" class="headerlink" title="fg 恢复程序到前台运行"></a>fg 恢复程序到前台运行</h3><h3 id="bg-把程序移到后台"><a href="#bg-把程序移到后台" class="headerlink" title="bg 把程序移到后台"></a>bg 把程序移到后台</h3><ul>
<li><code>bg %1</code></li>
</ul>
<h3 id="free-显示-Linux-系统中空闲的内存情况"><a href="#free-显示-Linux-系统中空闲的内存情况" class="headerlink" title="free 显示 Linux 系统中空闲的内存情况"></a>free 显示 Linux 系统中空闲的内存情况</h3><h4 id="参数-9"><a href="#参数-9" class="headerlink" title="参数"></a>参数</h4><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-b</td>
<td>以 Byte 为单位显示</td>
</tr>
<tr>
<td>-k</td>
<td>以 KB 为单位显示</td>
</tr>
<tr>
<td>-m</td>
<td>以 MB 为单位显示</td>
</tr>
<tr>
<td>-g</td>
<td>以 GB 为单位显示</td>
</tr>
<tr>
<td>-o</td>
<td>不显示缓冲区调节列</td>
</tr>
<tr>
<td>-s</td>
<td>持续观察内存使用状况</td>
</tr>
<tr>
<td>-t</td>
<td>显示内存总和列</td>
</tr>
<tr>
<td>-V</td>
<td>显示版本信息</td>
</tr>
</tbody>
</table>
<h4 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h4><table>
<thead>
<tr>
<th>输出</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>total</td>
<td>总计物理内存大小</td>
</tr>
<tr>
<td>used</td>
<td>已使用多大</td>
</tr>
<tr>
<td>free</td>
<td>可用有多少</td>
</tr>
<tr>
<td>shared</td>
<td>多个进程共享内存总额</td>
</tr>
<tr>
<td>buffers/cached</td>
<td>磁盘缓存的大小</td>
</tr>
</tbody>
</table>
<h3 id="ps-查看进程"><a href="#ps-查看进程" class="headerlink" title="ps 查看进程"></a>ps 查看进程</h3><h4 id="linux上进程有5种状态"><a href="#linux上进程有5种状态" class="headerlink" title="linux上进程有5种状态:"></a>linux上进程有5种状态:</h4><ol>
<li>运行(正在运行或在运行队列中等待) </li>
<li>中断(休眠中, 受阻, 在等待某个条件的形成或接受到信号) </li>
<li>不可中断(收到信号不唤醒和不可运行, 进程必须等待直到有中断发生) </li>
<li>僵死(进程已终止, 但进程描述符存在, 直到父进程调用wait4()系统调用后释放) </li>
<li>停止(进程收到SIGSTOP, SIGSTP, SIGTIN, SIGTOU信号后停止运行运行)</li>
</ol>
<h4 id="参数-10"><a href="#参数-10" class="headerlink" title="参数"></a>参数</h4><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>a</td>
<td>显示所有进程</td>
</tr>
<tr>
<td>-a</td>
<td>显示同一终端下的所有程序</td>
</tr>
<tr>
<td>-A</td>
<td>显示所有进程</td>
</tr>
<tr>
<td>x</td>
<td>显示所有终端控制的进程</td>
</tr>
<tr>
<td>c</td>
<td>显示进程的真实名称</td>
</tr>
<tr>
<td>-N</td>
<td>反向选择</td>
</tr>
<tr>
<td>-e</td>
<td>等于“-A”</td>
</tr>
<tr>
<td>e</td>
<td>显示环境变量</td>
</tr>
<tr>
<td>f</td>
<td>显示程序间的关系</td>
</tr>
<tr>
<td>-H</td>
<td>显示树状结构</td>
</tr>
<tr>
<td>r</td>
<td>显示当前终端的进程</td>
</tr>
<tr>
<td>T</td>
<td>显示当前终端的所有程序</td>
</tr>
<tr>
<td>u</td>
<td>指定用户的所有进程</td>
</tr>
<tr>
<td>-au</td>
<td>显示较详细的资讯</td>
</tr>
<tr>
<td>-C&lt;命令&gt;</td>
<td>列出指定命令的状况</td>
</tr>
<tr>
<td>–lines&lt;行数&gt;</td>
<td>每页显示的行数</td>
</tr>
<tr>
<td>–width&lt;字符数&gt;</td>
<td>每页显示的字符数</td>
</tr>
<tr>
<td>–help</td>
<td>显示帮助信息</td>
</tr>
<tr>
<td>–version</td>
<td>显示版本显示</td>
</tr>
</tbody>
</table>
<h4 id="实例-4"><a href="#实例-4" class="headerlink" title="实例"></a>实例</h4><ol>
<li>显示所有进程信息 ps -A</li>
<li>显式指定用户信息 ps -u root</li>
<li>显示所有进程信息，连同命令行 ps -ef</li>
<li>显示属于每个用户的进程信息 ps aux</li>
</ol>
<h3 id="pstree-输出一个树型结构的进程列表-processtree-，这个列表展示了进程间父-子关系。"><a href="#pstree-输出一个树型结构的进程列表-processtree-，这个列表展示了进程间父-子关系。" class="headerlink" title="pstree     输出一个树型结构的进程列表(processtree)，这个列表展示了进程间父/子关系。"></a>pstree     输出一个树型结构的进程列表(processtree)，这个列表展示了进程间父/子关系。</h3><h3 id="kill-给进程发送信号"><a href="#kill-给进程发送信号" class="headerlink" title="kill 给进程发送信号"></a>kill 给进程发送信号</h3><table>
<thead>
<tr>
<th>编号</th>
<th>名字</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>HUP</td>
<td>挂起</td>
</tr>
<tr>
<td>2</td>
<td>INT</td>
<td>中断</td>
</tr>
<tr>
<td>9</td>
<td>KILL</td>
<td>杀死</td>
</tr>
<tr>
<td>15</td>
<td>TERM</td>
<td>终止</td>
</tr>
<tr>
<td>18</td>
<td>CONT</td>
<td>继续</td>
</tr>
<tr>
<td>19</td>
<td>STOP</td>
<td>停止</td>
</tr>
</tbody>
</table>
<h4 id="格式-6"><a href="#格式-6" class="headerlink" title="格式"></a>格式</h4><p><code>kill [参数][进程号]</code></p>
<h4 id="实例-5"><a href="#实例-5" class="headerlink" title="实例"></a>实例</h4><ul>
<li><code>kill -9 1</code></li>
<li><code>kill -l</code> 得到完整信号列表</li>
</ul>
<h3 id="killall-给匹配特定程序或用户名的多个进程发送信号"><a href="#killall-给匹配特定程序或用户名的多个进程发送信号" class="headerlink" title="killall 给匹配特定程序或用户名的多个进程发送信号"></a>killall 给匹配特定程序或用户名的多个进程发送信号</h3><p>killall 杀死指定 <strong>名字</strong> 的进程（kill processes by name）。kill 命令可以杀死指定进程 <strong>PID</strong> 的进程。</p>
<h4 id="格式-7"><a href="#格式-7" class="headerlink" title="格式"></a>格式</h4><p><code>killall [-u user][-signal] name...</code></p>
<h2 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h2><p>shell 在环境中存储了两种基本类型的数据，虽然 bash 几乎无法分辨这些数据的类型。 它们是环境变量和 shell 变量。</p>
<h3 id="set-显示-shell-或环境变量"><a href="#set-显示-shell-或环境变量" class="headerlink" title="set 显示 shell 或环境变量"></a>set 显示 shell 或环境变量</h3><h3 id="printenv-显示环境变量"><a href="#printenv-显示环境变量" class="headerlink" title="printenv 显示环境变量"></a>printenv 显示环境变量</h3><ul>
<li><code>printenv</code> 显示所有环境变量</li>
<li><code>printenv name</code> 显示特定变量的值</li>
</ul>
<h2 id="存储媒介"><a href="#存储媒介" class="headerlink" title="存储媒介"></a>存储媒介</h2><h3 id="mount-挂载一个文件系统"><a href="#mount-挂载一个文件系统" class="headerlink" title="mount 挂载一个文件系统"></a>mount 挂载一个文件系统</h3><h3 id="umount-卸载一个文件系统"><a href="#umount-卸载一个文件系统" class="headerlink" title="umount 卸载一个文件系统"></a>umount 卸载一个文件系统</h3><h3 id="fask-检查和修复一个文件系统"><a href="#fask-检查和修复一个文件系统" class="headerlink" title="fask 检查和修复一个文件系统"></a>fask 检查和修复一个文件系统</h3><h3 id="fdisk-分区表控制器"><a href="#fdisk-分区表控制器" class="headerlink" title="fdisk 分区表控制器"></a>fdisk 分区表控制器</h3><h3 id="mkfs-创建文件系统"><a href="#mkfs-创建文件系统" class="headerlink" title="mkfs 创建文件系统"></a>mkfs 创建文件系统</h3><h3 id="fdformat-格式化一张软盘"><a href="#fdformat-格式化一张软盘" class="headerlink" title="fdformat 格式化一张软盘"></a>fdformat 格式化一张软盘</h3><h3 id="dd-把面向块的数据直接写入设备"><a href="#dd-把面向块的数据直接写入设备" class="headerlink" title="dd 把面向块的数据直接写入设备"></a>dd 把面向块的数据直接写入设备</h3><h3 id="genisoimage-mkisofs-创建一个-ISO-9660的映像文件"><a href="#genisoimage-mkisofs-创建一个-ISO-9660的映像文件" class="headerlink" title="genisoimage (mkisofs) 创建一个 ISO 9660的映像文件"></a>genisoimage (mkisofs) 创建一个 ISO 9660的映像文件</h3><h3 id="wodim-cdrecord-把数据写入光存储媒介"><a href="#wodim-cdrecord-把数据写入光存储媒介" class="headerlink" title="wodim (cdrecord) 把数据写入光存储媒介"></a>wodim (cdrecord) 把数据写入光存储媒介</h3><h3 id="md5sum-计算-MD5检验码"><a href="#md5sum-计算-MD5检验码" class="headerlink" title="md5sum  计算 MD5检验码"></a>md5sum  计算 MD5检验码</h3><h2 id="网络系统"><a href="#网络系统" class="headerlink" title="网络系统"></a>网络系统</h2><h3 id="ping-发送-ICMP-ECHO-REQUEST-数据包到网络主机"><a href="#ping-发送-ICMP-ECHO-REQUEST-数据包到网络主机" class="headerlink" title="ping 发送 ICMP ECHO_REQUEST 数据包到网络主机"></a>ping 发送 ICMP ECHO_REQUEST 数据包到网络主机</h3><h3 id="traceroute-打印到一台网络主机的路由数据包"><a href="#traceroute-打印到一台网络主机的路由数据包" class="headerlink" title="traceroute 打印到一台网络主机的路由数据包"></a>traceroute 打印到一台网络主机的路由数据包</h3><p>显示从本地到指定主机要经过的所有“跳数”的网路流量列表</p>
<p>对于那些提供标识信息的路由器，能看到主机名，IP地址和性能数据，对于没有提供标识的路由器，会看到几个星号</p>
<h3 id="netstat-显示与IP、TCP、UDP和ICMP协议相关的统计数据"><a href="#netstat-显示与IP、TCP、UDP和ICMP协议相关的统计数据" class="headerlink" title="netstat 显示与IP、TCP、UDP和ICMP协议相关的统计数据"></a>netstat 显示与IP、TCP、UDP和ICMP协议相关的统计数据</h3><ul>
<li><code>netstat -ie</code> 查看系统中的网络接口</li>
<li><code>netstat -r</code> 显示路由表信息</li>
<li><code>netstat -a</code> 列出所有端口</li>
<li><code>netstat -nu</code> 显示当前 UDP 连接状况</li>
<li><code>netstat -apu</code> 显示 UDP 端口号的使用情况</li>
<li><code>netstat -i</code> 显示网卡列表</li>
<li><code>netstat -s</code> 显示网络统计信息</li>
<li><code>netstat -l</code> 显示监听的套接口</li>
<li><code>netstat -at</code> 列出所有 tcp 端口</li>
<li><code>netstat -a | awk &#39;/^tcp/ {++S[$NF]} END {for(a in S) print a, S[a]}&#39;</code> 统计机器中网络连接各个状态个数</li>
<li><code>netstat -nat |awk &#39;{print $6}&#39;|sort|uniq -c</code> 把状态全都取出来后使用uniq -c统计后再进行排序</li>
<li><code>netstat -nat | grep &quot;192.168.120.20:16067&quot; |awk &#39;{print $5}&#39;|awk -F: &#39;{print $4}&#39;|sort|uniq -c|sort -nr|head -20</code> 查看连接某服务端口最多的的IP地址</li>
<li><code>netstat -ap | grep ssh</code> 找出程序运行的端口</li>
<li><code>netstat -pt</code> 在 netstat 输出中显示 PID 和进程名称</li>
<li><code>netstat -anpt | grep &#39;:16064&#39;</code> 找出运行在指定端口的进程</li>
</ul>
<h3 id="ftp-因特网文件传输程序"><a href="#ftp-因特网文件传输程序" class="headerlink" title="ftp 因特网文件传输程序"></a>ftp 因特网文件传输程序</h3><h3 id="wget-非交互式网络下载器"><a href="#wget-非交互式网络下载器" class="headerlink" title="wget 非交互式网络下载器"></a>wget 非交互式网络下载器</h3><h3 id="ssh-OpenSSH-SSH-客户端（远程登陆程序）"><a href="#ssh-OpenSSH-SSH-客户端（远程登陆程序）" class="headerlink" title="ssh OpenSSH SSH 客户端（远程登陆程序）"></a>ssh OpenSSH SSH 客户端（远程登陆程序）</h3><h2 id="文件系统"><a href="#文件系统" class="headerlink" title="文件系统"></a>文件系统</h2><h3 id="file-显示文件详细信息"><a href="#file-显示文件详细信息" class="headerlink" title="file 显示文件详细信息"></a>file 显示文件详细信息</h3><h4 id="格式-8"><a href="#格式-8" class="headerlink" title="格式"></a>格式</h4><p><code>file [filename]</code></p>
<h3 id="df-查看磁盘剩余空间的数量"><a href="#df-查看磁盘剩余空间的数量" class="headerlink" title="df 查看磁盘剩余空间的数量"></a>df 查看磁盘剩余空间的数量</h3><h3 id="tar-打包"><a href="#tar-打包" class="headerlink" title="tar 打包"></a>tar 打包</h3><h4 id="格式-9"><a href="#格式-9" class="headerlink" title="格式"></a>格式</h4><p><code>tar [必要参数] [选择参数] [打包后文件名] [文件或目录]</code></p>
<h4 id="必要参数-1"><a href="#必要参数-1" class="headerlink" title="必要参数"></a>必要参数</h4><ul>
<li>-A 新增压缩文件到已存在的压缩</li>
<li>-B 设置区块大小</li>
<li>-c 建立新的压缩文件</li>
<li>-d 记录文件的差别</li>
<li>-r 添加文件到已经压缩的文件</li>
<li>-u 添加改变了和现有的文件到已经存在的压缩文件</li>
<li>-x 从压缩文件中提取文件</li>
<li>-t 显示压缩文件的内容</li>
<li>-z 支持 gzip 解压文件</li>
<li>-j 支持 bzip2 解压文件</li>
<li>-z 支持 compress 解压文件</li>
<li>-v 显示操作过程</li>
<li>-l 文件系统边界设置</li>
<li>-k 保留原有文件不被覆盖</li>
<li>-m 保留五年间不被覆盖</li>
<li>-W 确认压缩文件的正确性</li>
</ul>
<h4 id="可选参数"><a href="#可选参数" class="headerlink" title="可选参数"></a>可选参数</h4><ul>
<li>-b 设置区块数目</li>
<li>-C 切换到指定目录</li>
<li>-f 指定压缩文件</li>
</ul>
<h4 id="常见解压、压缩命令"><a href="#常见解压、压缩命令" class="headerlink" title="常见解压、压缩命令"></a>常见解压、压缩命令</h4><h5 id="tar"><a href="#tar" class="headerlink" title="tar"></a>tar</h5><p>解包：tar xvf FileName.tar<br>打包：tar cvf FileName.tar DirName</p>
<h5 id="gz"><a href="#gz" class="headerlink" title=".gz"></a>.gz</h5><p>解压1：gunzip FileName.gz<br>解压2：gzip -d FileName.gz<br>压缩：gzip FileName</p>
<h5 id="tar-gz-和-tgz"><a href="#tar-gz-和-tgz" class="headerlink" title=".tar.gz 和 .tgz"></a>.tar.gz 和 .tgz</h5><p>解压：tar zxvf FileName.tar.gz<br>压缩：tar zcvf FileName.tar.gz DirName</p>
<h5 id="bz2"><a href="#bz2" class="headerlink" title=".bz2"></a>.bz2</h5><p>解压1：bzip2 -d FileName.bz2<br>解压2：bunzip2 FileName.bz2<br>压缩： bzip2 -z FileName</p>
<h5 id="tar-bz2"><a href="#tar-bz2" class="headerlink" title=".tar.bz2"></a>.tar.bz2</h5><p>解压：tar jxvf FileName.tar.bz2<br>压缩：tar jcvf FileName.tar.bz2 DirName</p>
<h5 id="bz"><a href="#bz" class="headerlink" title=".bz"></a>.bz</h5><p>解压1：bzip2 -d FileName.bz<br>解压2：bunzip2 FileName.bz</p>
<h5 id="tar-bz"><a href="#tar-bz" class="headerlink" title=".tar.bz"></a>.tar.bz</h5><p>解压：tar jxvf FileName.tar.bz</p>
<h5 id="Z"><a href="#Z" class="headerlink" title=".Z"></a>.Z</h5><p>解压：uncompress FileName.Z<br>压缩：compress FileName</p>
<h5 id="tar-Z"><a href="#tar-Z" class="headerlink" title=".tar.Z"></a>.tar.Z</h5><p>解压：tar Zxvf FileName.tar.Z<br>压缩：tar Zcvf FileName.tar.Z DirName</p>
<h5 id="zip"><a href="#zip" class="headerlink" title=".zip"></a>.zip</h5><p>解压：unzip FileName.zip<br>压缩：zip FileName.zip DirName</p>
<h5 id="rar"><a href="#rar" class="headerlink" title=".rar"></a>.rar</h5><p>解压：rar x FileName.rar<br>压缩：rar a FileName.rar DirName </p>
<h3 id="gzip"><a href="#gzip" class="headerlink" title="gzip"></a>gzip</h3><ul>
<li>-a或–ascii 　使用ASCII文字模式。 </li>
<li>-c或–stdout或–to-stdout 　把压缩后的文件输出到标准输出设备，不去更动原始文件。 </li>
<li>-d或–decompress或—-uncompress 　<strong>解压</strong> 文件。 </li>
<li>-f或–force 　强行压缩文件。不理会文件名称或硬连接是否存在以及该文件是否为符号连接。 </li>
<li>-h或–help 　在线帮助。 </li>
<li>-l或–list 　列出压缩文件的相关信息。 </li>
<li>-L或–license 　显示版本与版权信息。 </li>
<li>-n或–no-name 　压缩文件时，不保存原来的文件名称及时间戳记。 </li>
<li>-N或–name 　压缩文件时，保存原来的文件名称及时间戳记。 </li>
<li>-q或–quiet 　不显示警告信息。 </li>
<li>-r或–recursive 　递归处理，将指定目录下的所有文件及子目录一并处理。 </li>
<li>-S&lt;压缩字尾字符串&gt;或—-suffix&lt;压缩字尾字符串&gt; 　更改压缩字尾字符串。 </li>
<li>-t或–test 　测试压缩文件是否正确无误。 </li>
<li>-v或–verbose 　显示指令执行过程。 </li>
<li>-V或–version 　显示版本信息。 </li>
</ul>
<h3 id="scp"><a href="#scp" class="headerlink" title="scp"></a>scp</h3><h4 id="上传文件到远程服务器"><a href="#上传文件到远程服务器" class="headerlink" title="上传文件到远程服务器"></a>上传文件到远程服务器</h4><ul>
<li><code>scp /path/filename  username@serverIp:/path</code></li>
</ul>
<h4 id="从远程服务器下载文件"><a href="#从远程服务器下载文件" class="headerlink" title="从远程服务器下载文件"></a>从远程服务器下载文件</h4><ul>
<li><code>scp username@serverIp:/path/filename ~/local_dir</code></li>
</ul>
<h3 id="df-检查文件系统的磁盘空间占用情况"><a href="#df-检查文件系统的磁盘空间占用情况" class="headerlink" title="df 检查文件系统的磁盘空间占用情况"></a>df 检查文件系统的磁盘空间占用情况</h3><h4 id="参数-11"><a href="#参数-11" class="headerlink" title="参数"></a>参数</h4><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-a</td>
<td>全部文件系统列表</td>
</tr>
<tr>
<td>-h</td>
<td>方便阅读方式显示</td>
</tr>
<tr>
<td>-i</td>
<td>显示 inode 信息</td>
</tr>
<tr>
<td>-T</td>
<td>文件系统类型</td>
</tr>
<tr>
<td>-t&lt;文件系统类型&gt;</td>
<td>只显示选定文件系统的磁盘信息</td>
</tr>
<tr>
<td>-x&lt;文件系统类型&gt;</td>
<td>不显示选定文件系统的磁盘信息</td>
</tr>
</tbody>
</table>
<h2 id="常用工具"><a href="#常用工具" class="headerlink" title="常用工具"></a>常用工具</h2><h3 id="键盘高级操作技巧"><a href="#键盘高级操作技巧" class="headerlink" title="键盘高级操作技巧"></a><a href="http://billie66.github.io/TLCL/book/chap09.html" target="_blank" rel="external">键盘高级操作技巧</a></h3><h3 id="history-查看历史命令"><a href="#history-查看历史命令" class="headerlink" title="history 查看历史命令"></a>history 查看历史命令</h3><ul>
<li><code>history | less</code> 搜索历史命令</li>
</ul>
<h3 id="clear-清空屏幕"><a href="#clear-清空屏幕" class="headerlink" title="clear 清空屏幕"></a>clear 清空屏幕</h3><h2 id="文件查找"><a href="#文件查找" class="headerlink" title="文件查找"></a>文件查找</h2><h3 id="which-显示一个可执行程序的位置"><a href="#which-显示一个可执行程序的位置" class="headerlink" title="which 显示一个可执行程序的位置"></a>which 显示一个可执行程序的位置</h3><p>只对 <strong>可执行程序</strong> 有效，不包括 <strong>内建命令</strong> 和 <strong>命令别名</strong>，which 指令会在 PATH 变量指定的路径中，搜索某个系统命令的位置，并且返回第一个搜索结果</p>
<h3 id="locate-通过名字来查找文件"><a href="#locate-通过名字来查找文件" class="headerlink" title="locate 通过名字来查找文件"></a>locate 通过名字来查找文件</h3><p>和 find -name 一样，但是速度更快。<br>locate 命令可以在搜寻数据库时快速找到档案，数据库由 updatedb 程序来更新，updatedb 是由cron daemon 周期性建立的，locate命令在搜寻数据库时比由整个由硬盘资料来搜寻资料来得快，但较差劲的是locate所找到的档案若是最近才建立或 刚更名的，可能会找不到，在内定值中，updatedb 每天会跑一次，可以由修改 crontab 来更新设定值。(etc/crontab)</p>
<h4 id="格式-10"><a href="#格式-10" class="headerlink" title="格式"></a>格式</h4><p><code>locate [选择参数][样式]</code></p>
<h4 id="参数-12"><a href="#参数-12" class="headerlink" title="参数"></a>参数</h4><ul>
<li>-e 将排除在寻找范围之外</li>
<li>-o 指定资料库存的名称</li>
<li>-d 指定资料库的路径</li>
</ul>
<h4 id="实例-6"><a href="#实例-6" class="headerlink" title="实例"></a>实例</h4><ol>
<li><code>locate /etc/sh</code> 搜索 etc 目录下所有以 sh 开头的文件</li>
<li><code>locate pwd</code> 查找和 pwd 相关的所有文件</li>
<li><code>locate /etc/sh</code> 搜索 etc 目录下所有以 sh 开头的文件</li>
</ol>
<h3 id="whereis-查看文件的位置"><a href="#whereis-查看文件的位置" class="headerlink" title="whereis 查看文件的位置"></a>whereis 查看文件的位置</h3><p>whereis 命令只能用于 <strong>程序名</strong> 的搜索，而且只搜索二进制文件（参数-b）、man 说明文件（参数-m）和源代码文件（参数-s）。如果省略参数，则返回所有信息。使用和 locate 相同的数据库。</p>
<h4 id="格式-11"><a href="#格式-11" class="headerlink" title="格式"></a>格式</h4><p><code>whereis [-bmsu] [BMS 目录名 -f ] 文件名</code></p>
<h4 id="实例-7"><a href="#实例-7" class="headerlink" title="实例"></a>实例</h4><p>where nginx 将和 nginx 相关的文件都查找出来</p>
<h3 id="find-在一个目录层次结构中搜索文件"><a href="#find-在一个目录层次结构中搜索文件" class="headerlink" title="find 在一个目录层次结构中搜索文件"></a>find 在一个目录层次结构中搜索文件</h3><h4 id="格式-12"><a href="#格式-12" class="headerlink" title="格式"></a>格式</h4><p><code>find pathname -options [-print -exec -ok ...]</code></p>
<h4 id="参数-13"><a href="#参数-13" class="headerlink" title="参数"></a>参数</h4><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>pathname</td>
<td>用来查找的目录路径。.表示当前目录</td>
</tr>
<tr>
<td>-print</td>
<td>将匹配的文件输出到标准输出</td>
</tr>
<tr>
<td>-exec</td>
<td>find命令对匹配的文件执行该参数所给出的shell命令。相应命令的形式为’command’ {} \;，注意{}和\;之间的空格。{} 代表前面查找出来的文件名</td>
</tr>
<tr>
<td>-ok</td>
<td>和 -exec 作用相同，在执行每个命令前让用户确定是否执行</td>
</tr>
</tbody>
</table>
<h4 id="选项"><a href="#选项" class="headerlink" title="选项"></a>选项</h4><table>
<thead>
<tr>
<th>选项</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-name</td>
<td>按照文件名查找</td>
</tr>
<tr>
<td>-perm</td>
<td>按照文件权限查找</td>
</tr>
<tr>
<td>-user</td>
<td>按照文件属主查找</td>
</tr>
<tr>
<td>-group</td>
<td>按照文件所属的组查找</td>
</tr>
<tr>
<td>-mtime -n +n</td>
<td>按照文件更改的时间来查找，-n 表示文件更改时间距现在 n 天以内，+n 表示文件更改时间距现在 n 天以前</td>
</tr>
<tr>
<td>-nogroup</td>
<td>查找无有效所属组的文件，即该文件所属的组在/etc/groups中不存在。</td>
</tr>
<tr>
<td>-nouser</td>
<td>查找无有效属主的文件，即该文件的属主在/etc/passwd中不存在。</td>
</tr>
<tr>
<td>-newer file1 ! file2</td>
<td>查找更改时间比文件file1新但比文件file2旧的文件。</td>
</tr>
<tr>
<td>-type</td>
<td>查找某一类型的文件，b - 块设备文件、d - 目录、c - 字符设备文件、p - 管道文件、l - 符号链接文件、f - 普通文件。</td>
</tr>
<tr>
<td>-follow</td>
<td>如果 find 命令遇到符号链接文件，就跟踪链接所指向的文件 </td>
</tr>
</tbody>
</table>
<h4 id="实例-8"><a href="#实例-8" class="headerlink" title="实例"></a>实例</h4><ol>
<li><code>find . -name &quot;*.log&quot;</code> 根据关键词查找</li>
<li><code>find . type d|sort</code> 查找当前所有目录并排序</li>
<li><code>find . type -exec ls -l {} \;</code> 匹配当前目录下的所有普通文件，并在-exec选项中使用ls -l命令将它们列出。</li>
<li><code>find . type f -mtime +14 -exec rm {} \;</code> 在目录中查找更改时间在n日以前的文件并删除它们</li>
<li><code>find . \( -nmae &quot;*.txt&quot; -or -name &quot;*.pdf&quot; \)</code> 打印目录下所有以 .txt 和 .pdf 结尾的文件名</li>
<li><code>find . ! -name &quot;*.txt&quot;</code> 打印当前目录下所有不以 .txt 结尾的文件名</li>
</ol>
<h2 id="文件内容查看"><a href="#文件内容查看" class="headerlink" title="文件内容查看"></a>文件内容查看</h2><h3 id="more-逐页读取文件（启动时加载整个文件）"><a href="#more-逐页读取文件（启动时加载整个文件）" class="headerlink" title="more 逐页读取文件（启动时加载整个文件）"></a>more 逐页读取文件（启动时加载整个文件）</h3><ul>
<li>+n      从笫n行开始显示</li>
<li>-n       定义屏幕大小为n行</li>
<li>+/pattern 在每个档案显示前搜寻该字串（pattern），然后从该字串前两行之后开始显示  </li>
<li>-c       从顶部清屏，然后显示</li>
</ul>
<h4 id="实例-9"><a href="#实例-9" class="headerlink" title="实例"></a>实例</h4><p>ls -l | more -5 使用 more 分页显示</p>
<h3 id="less-（more-的改进版）"><a href="#less-（more-的改进版）" class="headerlink" title="less （more 的改进版）"></a>less （more 的改进版）</h3><p>可以向前或者向后浏览和搜索文件，而且不会加载整个文件</p>
<h4 id="参数-14"><a href="#参数-14" class="headerlink" title="参数"></a>参数</h4><table>
<thead>
<tr>
<th>参数</th>
<th>实例</th>
</tr>
</thead>
<tbody>
<tr>
<td>-b</td>
<td>&lt;缓冲区大小&gt; 设置缓冲区的大小</td>
</tr>
<tr>
<td>-e</td>
<td>当文件显示结束后，自动离开</td>
</tr>
<tr>
<td>-f</td>
<td>强迫打开特殊文件，例如外围设备代号、目录和二进制文件</td>
</tr>
<tr>
<td>-g</td>
<td>只标志最后搜索的关键词</td>
</tr>
<tr>
<td>-i</td>
<td>忽略搜索时的大小写</td>
</tr>
<tr>
<td>-m</td>
<td>显示类似more命令的百分比</td>
</tr>
<tr>
<td>-N</td>
<td>显示每行的行号</td>
</tr>
<tr>
<td>-o</td>
<td>&lt;文件名&gt; 将less 输出的内容在指定文件中保存起来</td>
</tr>
<tr>
<td>-Q</td>
<td>不使用警告音</td>
</tr>
<tr>
<td>-s</td>
<td>显示连续空行为一行</td>
</tr>
<tr>
<td>-S</td>
<td>行过长时间将超出部分舍弃</td>
</tr>
<tr>
<td>-x</td>
<td>&lt;数字&gt; 将“tab”键显示为规定的数字空格</td>
</tr>
<tr>
<td>/字符串</td>
<td>向下搜索“字符串”的功能</td>
</tr>
<tr>
<td>?字符串</td>
<td>向上搜索“字符串”的功能</td>
</tr>
<tr>
<td>n</td>
<td>重复前一个搜索（与 / 或 ? 有关）</td>
</tr>
<tr>
<td>N</td>
<td>反向重复前一个搜索（与 / 或 ? 有关）</td>
</tr>
<tr>
<td>b</td>
<td>向后翻一页</td>
</tr>
<tr>
<td>d</td>
<td>向后翻半页</td>
</tr>
<tr>
<td>h</td>
<td>显示帮助界面</td>
</tr>
<tr>
<td>Q</td>
<td>退出less 命令</td>
</tr>
<tr>
<td>u</td>
<td>向前滚动半页</td>
</tr>
<tr>
<td>y</td>
<td>向前滚动一行</td>
</tr>
<tr>
<td>空格键</td>
<td>滚动一行</td>
</tr>
<tr>
<td>回车键</td>
<td>滚动一页</td>
</tr>
<tr>
<td><code>[pagedown]</code></td>
<td>向下翻动一页</td>
</tr>
<tr>
<td><code>[pageup]</code></td>
<td>向上翻动一页</td>
</tr>
</tbody>
</table>
<h3 id="head-显示档案的开头"><a href="#head-显示档案的开头" class="headerlink" title="head 显示档案的开头"></a>head 显示档案的开头</h3><h4 id="参数-15"><a href="#参数-15" class="headerlink" title="参数"></a>参数</h4><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-q</td>
<td>隐藏文件名</td>
</tr>
<tr>
<td>-v</td>
<td>显示文件名</td>
</tr>
<tr>
<td>-c</td>
<td>显示的字节数</td>
</tr>
<tr>
<td>-n</td>
<td>显示的行数 </td>
</tr>
</tbody>
</table>
<h4 id="实例-10"><a href="#实例-10" class="headerlink" title="实例"></a>实例</h4><p>head -n -6 log2014.log 输出文件除了最后n行的全部内容</p>
<h3 id="tail-查看文件最后几行"><a href="#tail-查看文件最后几行" class="headerlink" title="tail 查看文件最后几行"></a>tail 查看文件最后几行</h3><h4 id="参数-16"><a href="#参数-16" class="headerlink" title="参数"></a>参数</h4><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-f</td>
<td>不断刷新，循环读取</td>
</tr>
<tr>
<td>-q</td>
<td>不显示处理信息</td>
</tr>
<tr>
<td>-v</td>
<td>显示详细的处理信息</td>
</tr>
<tr>
<td>-c</td>
<td>显示的字节数</td>
</tr>
<tr>
<td>-n</td>
<td>显示的行数</td>
</tr>
<tr>
<td>–pid=PID</td>
<td>与 -f 合用，表示在进程 PID 死掉后结束</td>
</tr>
<tr>
<td>-s</td>
<td>与 -f 合用，表示在每次反复的间隔休眠 s 秒</td>
</tr>
</tbody>
</table>
<h3 id="uniq-报道或忽略重复行"><a href="#uniq-报道或忽略重复行" class="headerlink" title="uniq 报道或忽略重复行"></a>uniq 报道或忽略重复行</h3><h3 id="wc-打印行数、字数和字节数"><a href="#wc-打印行数、字数和字节数" class="headerlink" title="wc 打印行数、字数和字节数"></a>wc 打印行数、字数和字节数</h3><ul>
<li><code>wc filename</code></li>
</ul>
<h2 id="文本处理"><a href="#文本处理" class="headerlink" title="文本处理"></a>文本处理</h2><h3 id="cat-连接文件并且打印到标准输出"><a href="#cat-连接文件并且打印到标准输出" class="headerlink" title="cat 连接文件并且打印到标准输出"></a>cat 连接文件并且打印到标准输出</h3><h4 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h4><ul>
<li>一次显示整个文件 cat filename</li>
<li>从键盘创建一个文件 cat &gt; filename,按下 Ctrl+d 结束</li>
<li>讲几个文件合并为一个文件 cat file1 file2 &gt; file</li>
</ul>
<h4 id="参数-17"><a href="#参数-17" class="headerlink" title="参数"></a>参数</h4><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-A</td>
<td>–show-all 等价于 -vET</td>
</tr>
<tr>
<td>-b</td>
<td>对非空输出行编号</td>
</tr>
<tr>
<td>-e</td>
<td>等价于 -vE</td>
</tr>
<tr>
<td>-E</td>
<td>在每行结束出显示 $</td>
</tr>
<tr>
<td>-n</td>
<td>对所有输出行编号</td>
</tr>
<tr>
<td>-s</td>
<td>有连续两次以上的空白行，就代换为一行的空白行</td>
</tr>
<tr>
<td>-t</td>
<td>与 -vT 等价</td>
</tr>
<tr>
<td>-T</td>
<td>将跳格字符显示为 ^I</td>
</tr>
<tr>
<td>-v –show-nonprinting</td>
<td>使用 ^ 和 M- 引用，除了 LFD 和 TAB 之外</td>
</tr>
</tbody>
</table>
<h4 id="实例-11"><a href="#实例-11" class="headerlink" title="实例"></a>实例</h4><ul>
<li><code>cat -A foo.txt</code> 输出 ^IThe quick brown fox jumped over the lazy dog.       $ 。tab 用 ^I 表示，$ 著现在文本行真正的结尾处，表明文本包含末尾的空格。</li>
</ul>
<h4 id="tac-和cat相反，从最后一行开始显示"><a href="#tac-和cat相反，从最后一行开始显示" class="headerlink" title="tac 和cat相反，从最后一行开始显示"></a>tac 和cat相反，从最后一行开始显示</h4><h3 id="sort-给文本行排序"><a href="#sort-给文本行排序" class="headerlink" title="sort 给文本行排序"></a>sort 给文本行排序</h3><p>能够接受命令行中的多个文件作为参数，吧多个文件合并成一个有序的文件。</p>
<h4 id="参数-18"><a href="#参数-18" class="headerlink" title="参数"></a>参数</h4><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-f</td>
<td>不区分大小写</td>
</tr>
<tr>
<td>-n</td>
<td>基于字符串的数值来排序</td>
</tr>
<tr>
<td>-r</td>
<td>按相反顺序排序，按照降序排列</td>
</tr>
<tr>
<td>-k</td>
<td><code>--key=field1[,field2]</code> 对从 field1 到 field2 之间的字符排序，而不是整个文本行。</td>
</tr>
<tr>
<td>-o</td>
<td>把排好序的输出结果发送到文件，而不是标准输出</td>
</tr>
<tr>
<td>-t</td>
<td>定义分割字符</td>
</tr>
</tbody>
</table>
<h4 id="实例-12"><a href="#实例-12" class="headerlink" title="实例"></a>实例</h4><ul>
<li><code>sort file1.txt file2.txt file3.txt &gt; final_sorted_list.txt</code></li>
<li><code>du -s /usr/share/* | sort -nr | head</code> 显示十个最大的空间消费者</li>
<li><code>ls -l /usr/bin | sort -nr -k 5 | head</code> 按照文件大小（第五个字段）排序</li>
<li><code>sort --key=1,1 --key=2n distros.txt</code> 我们指定了一个字段区域。因为我们只想对第一个字段排序，我们指定了 1,1， 意味着“始于并且结束于第一个字段。”在第二个实例中，我们指定了 2n，意味着第二个字段是排序的键值， 并且按照数值排序</li>
</ul>
<h3 id="uniq-报告或者省略重复行"><a href="#uniq-报告或者省略重复行" class="headerlink" title="uniq 报告或者省略重复行"></a>uniq 报告或者省略重复行</h3><p>只会删除相邻的重复行</p>
<h4 id="参数-19"><a href="#参数-19" class="headerlink" title="参数"></a>参数</h4><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-c</td>
<td>输出所有的重复行，每行开头显示重复的次数</td>
</tr>
<tr>
<td>-d</td>
<td>只输出重复行</td>
</tr>
<tr>
<td>-f n</td>
<td>忽略开头的 n 个字段，字段之间由空格分隔</td>
</tr>
</tbody>
</table>
<h3 id="cut-从每行中删除文本区域"><a href="#cut-从每行中删除文本区域" class="headerlink" title="cut 从每行中删除文本区域"></a>cut 从每行中删除文本区域</h3><h4 id="参数-20"><a href="#参数-20" class="headerlink" title="参数"></a>参数</h4><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-b</td>
<td>以字节为单位进行分割</td>
</tr>
<tr>
<td>-c</td>
<td>以字符为单位进行分割</td>
</tr>
<tr>
<td>-d</td>
<td>自定义分隔符，默认为制表符</td>
</tr>
<tr>
<td>-f</td>
<td>自定义字段</td>
</tr>
<tr>
<td>–complement</td>
<td>抽取整个文本行，除了那些由 -c 或 -f 选项指定的文本</td>
</tr>
</tbody>
</table>
<h4 id="实例-13"><a href="#实例-13" class="headerlink" title="实例"></a>实例</h4><ul>
<li><code>cut -f 1,3 -d &#39; &#39; student.txt</code> 取出 student.txt 文件中的第一列和第三列</li>
<li><code>cut -f 1-3 -d &#39; &#39; student.txt</code> 取出 student.txt 文件的前三列</li>
</ul>
<h3 id="paste-合并文件文本行"><a href="#paste-合并文件文本行" class="headerlink" title="paste 合并文件文本行"></a>paste 合并文件文本行</h3><h4 id="参数-21"><a href="#参数-21" class="headerlink" title="参数"></a>参数</h4><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-s</td>
<td>将每个文件合并成行而不是按行粘贴</td>
</tr>
<tr>
<td>-d</td>
<td>自定义分隔符，默认为制表符</td>
</tr>
</tbody>
</table>
<h4 id="实例-14"><a href="#实例-14" class="headerlink" title="实例"></a>实例</h4><ul>
<li><code>paste distros-dates.txt distros-versions.txt</code> 将这两个文件按列拼接</li>
</ul>
<h3 id="join-基于某个共享字段来联合两个文件的文本行"><a href="#join-基于某个共享字段来联合两个文件的文本行" class="headerlink" title="join 基于某个共享字段来联合两个文件的文本行"></a>join 基于某个共享字段来联合两个文件的文本行</h3><h4 id="参数-22"><a href="#参数-22" class="headerlink" title="参数"></a>参数</h4><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-j FIELD</td>
<td>等同于 -1 FIELD -2 FIELD,-j 指定一个域作为匹配字段</td>
</tr>
<tr>
<td>-1 FIELD</td>
<td>以 file1 中 FIELD 字段进行匹配</td>
</tr>
<tr>
<td>-2 FIELD</td>
<td>以 file2 中 FIELD 字段进行匹配</td>
</tr>
<tr>
<td>-t</td>
<td>自定义分隔符，默认为制表符</td>
</tr>
</tbody>
</table>
<h3 id="comm-逐行比较两个有序的文件"><a href="#comm-逐行比较两个有序的文件" class="headerlink" title="comm 逐行比较两个有序的文件"></a>comm 逐行比较两个有序的文件</h3><h3 id="diff-逐行比较文件"><a href="#diff-逐行比较文件" class="headerlink" title="diff 逐行比较文件"></a>diff 逐行比较文件</h3><p>支持 许多输出格式，并且一次能处理许多文本文件。软件开发员经常使用 diff 程序来检查不同程序源码 版本之间的更改，diff 能够递归地检查源码目录，经常称之为源码树。</p>
<h3 id="patch-给原始文件打补丁"><a href="#patch-给原始文件打补丁" class="headerlink" title="patch 给原始文件打补丁"></a>patch 给原始文件打补丁</h3><h3 id="tr-翻译或删除字符"><a href="#tr-翻译或删除字符" class="headerlink" title="tr 翻译或删除字符"></a>tr 翻译或删除字符</h3><p>tr 命令操作标准输入，并把结果输出到标准输出。tr 命令接受两个参数：要被转换的字符集以及相对应的转换后的字符集。字符集可以用三种方式来表示：</p>
<ol>
<li>一个枚举列表。例如， ABCDEFGHIJKLMNOPQRSTUVWXYZ</li>
<li>一个字符域。例如，A-Z 。注意这种方法有时候面临与其它命令相同的问题，归因于 语系的排序规则，因此应该谨慎使用。</li>
<li>POSIX 字符类。例如，[:upper:]</li>
</ol>
<h4 id="实例-15"><a href="#实例-15" class="headerlink" title="实例"></a>实例</h4><ul>
<li><code>echo &quot;lowercase letters&quot; | tr a-z A-Z</code> 将小写转换为大写</li>
<li><code>echo &quot;lowercase letters&quot; | tr [:lower:] [:upper:]</code></li>
</ul>
<h3 id="aspell-交互式拼写检查器"><a href="#aspell-交互式拼写检查器" class="headerlink" title="aspell 交互式拼写检查器"></a>aspell 交互式拼写检查器</h3><h2 id="文本搜素"><a href="#文本搜素" class="headerlink" title="文本搜素"></a>文本搜素</h2><h3 id="grep-打印匹配行"><a href="#grep-打印匹配行" class="headerlink" title="grep 打印匹配行"></a>grep 打印匹配行</h3><h4 id="格式-13"><a href="#格式-13" class="headerlink" title="格式"></a>格式</h4><p><code>grep [option] regex [file...]</code></p>
<h4 id="参数-23"><a href="#参数-23" class="headerlink" title="参数"></a>参数</h4><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-i</td>
<td>忽略大小写</td>
</tr>
<tr>
<td>-v</td>
<td>只打印不匹配的行</td>
</tr>
<tr>
<td>-c</td>
<td>打印匹配的数量</td>
</tr>
</tbody>
</table>
<h4 id="实例-16"><a href="#实例-16" class="headerlink" title="实例"></a>实例</h4><ol>
<li>从文件中读取关键词进行搜索 cat text.txt|grep -f test2.txt 输出test.txt文件中含有从test2.txt文件中读取出的关键词的内容行</li>
<li>显示当前目录下面以.txt 结尾的文件中的所有包含每个字符串至少有7个连续小写字符的字符串的行 <code>grep &#39;[a-z]\{7\}&#39; *.txt</code></li>
<li>从文件中查找关键词 grep ‘linux’ test.txt</li>
</ol>
<h3 id="sed-用于筛选和转换文本的流编辑器"><a href="#sed-用于筛选和转换文本的流编辑器" class="headerlink" title="sed 用于筛选和转换文本的流编辑器"></a>sed 用于筛选和转换文本的流编辑器</h3><h4 id="参数-24"><a href="#参数-24" class="headerlink" title="参数"></a>参数</h4><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>n</td>
<td>行号，n 是一个正整数。</td>
</tr>
<tr>
<td>$</td>
<td>最后一行。</td>
</tr>
<tr>
<td>/regexp/</td>
<td>所有匹配一个 POSIX 基本正则表达式的文本行。注意正则表达式通过 斜杠字符界定。选择性地，这个正则表达式可能由一个备用字符界定，通过\cregexpc 来 指定表达式，这里 c 就是一个备用的字符。</td>
</tr>
<tr>
<td>addr1,addr2</td>
<td>从 addr1 到 addr2 范围内的文本行，包含地址 addr2 在内。地址可能是上述任意 单独的地址形式。</td>
</tr>
<tr>
<td>first~step</td>
<td>匹配由数字 first 代表的文本行，然后随后的每个在 step 间隔处的文本行。例如 1~2 是指每个位于偶数行号的文本行，5~5 则指第五行和之后每五行位置的文本行。</td>
</tr>
<tr>
<td>addr1,+n</td>
<td>匹配地址 addr1 和随后的 n 个文本行。</td>
</tr>
<tr>
<td>addr!</td>
<td>匹配所有的文本行，除了 addr 之外，addr 可能是上述任意的地址形式。</td>
</tr>
</tbody>
</table>
<h3 id="awk"><a href="#awk" class="headerlink" title="awk"></a>awk</h3><h2 id="格式化输出"><a href="#格式化输出" class="headerlink" title="格式化输出"></a>格式化输出</h2><h3 id="nl-添加行号"><a href="#nl-添加行号" class="headerlink" title="nl 添加行号"></a>nl 添加行号</h3><p>相当于 <code>cat -n</code></p>
<h4 id="参数-25"><a href="#参数-25" class="headerlink" title="参数"></a>参数</h4><table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-b a</td>
<td>无论是否空行都输出行号</td>
</tr>
<tr>
<td>-b t</td>
<td>对非空行输出行号</td>
</tr>
<tr>
<td>-n ln</td>
<td>行号在萤幕的最左方显示</td>
</tr>
<tr>
<td>-n rn</td>
<td>行号在自己栏位的最右方显示，且不加 0</td>
</tr>
<tr>
<td>-n rz</td>
<td>行号在自己栏位的最右方显示，且加 0</td>
</tr>
<tr>
<td>-w</td>
<td>行号宽度设置，默认为六</td>
</tr>
</tbody>
</table>
<h3 id="实例-17"><a href="#实例-17" class="headerlink" title="实例"></a>实例</h3><ul>
<li><code>nl -b a -n rz -w 3 log2014.log</code> 让行号前面自动补上0，行号为3位</li>
</ul>
<h3 id="fold-限制文件列宽"><a href="#fold-限制文件列宽" class="headerlink" title="fold 限制文件列宽"></a>fold 限制文件列宽</h3><ul>
<li><code>echo &quot;The quick brown fox jumped over the lazy dog.&quot; | fold -w 12</code> 限制行宽为 12 个字符，默认 80</li>
<li>加上 -s 选项可以考虑单词边界</li>
</ul>
<h3 id="fmt-简单的文本格式转换器"><a href="#fmt-简单的文本格式转换器" class="headerlink" title="fmt 简单的文本格式转换器"></a>fmt 简单的文本格式转换器</h3><h3 id="pr"><a href="#pr" class="headerlink" title="pr"></a>pr</h3><h3 id="printf-格式化数据并打印"><a href="#printf-格式化数据并打印" class="headerlink" title="printf 格式化数据并打印"></a>printf 格式化数据并打印</h3><h3 id="groff-文件格式化系统"><a href="#groff-文件格式化系统" class="headerlink" title="groff 文件格式化系统"></a>groff 文件格式化系统</h3><h2 id="软件包管理"><a href="#软件包管理" class="headerlink" title="软件包管理"></a>软件包管理</h2><table>
<thead>
<tr>
<th>Debian</th>
<th>Red Hat</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>apt-get update;apt-cache search search_string</td>
<td>yum search search_string</td>
<td>查找资源库中的软件包</td>
</tr>
<tr>
<td>apt-get update; apt-get install package_name</td>
<td>yum install package_name</td>
<td>从资源库中安装一个软件包</td>
</tr>
<tr>
<td>dpkg –install package_file</td>
<td>rpm -i package_file</td>
<td>通过软件包文件来安装软件</td>
</tr>
<tr>
<td>apt-get remove package_name</td>
<td>yum erase package_name</td>
<td>卸载软件</td>
</tr>
<tr>
<td>apt-get update; apt-get upgrade</td>
<td>yum update</td>
<td>经过资源库来更新软件包</td>
</tr>
<tr>
<td>dpkg –install package_file</td>
<td>rpm -U package_file</td>
<td>经过软件包文件来升级软件</td>
</tr>
<tr>
<td>dpkg –list</td>
<td>rpm -qa</td>
<td>列出所安装的软件包</td>
</tr>
<tr>
<td>dpkg –status package_name</td>
<td>rpm -q package_name</td>
<td>确定是否安装了一个软件包</td>
</tr>
<tr>
<td>apt-cache show package_name</td>
<td>yum info package_name</td>
<td>显示所安装软件包的信息</td>
</tr>
<tr>
<td>dpkg –search file_name</td>
<td>rpm -qf file_name</td>
<td>查找安装了某个文件的软件包</td>
</tr>
</tbody>
</table>
<h2 id="其他内容"><a href="#其他内容" class="headerlink" title="其他内容"></a>其他内容</h2><h3 id="etc-group-文件"><a href="#etc-group-文件" class="headerlink" title="/etc/group 文件"></a>/etc/group 文件</h3><p>Linux /etc/group文件与/etc/passwd和/etc/shadow文件都是有关于系统管理员对用户和用户组管理时相关的文件。linux /etc/group文件是有关于系统管理员对用户和用户组管理的文件,linux用户组的所有信息都存放在/etc/group文件中。具有某种共同特征的用户集合起来就是用户组（Group）。用户组（Group）配置文件主要有 /etc/group和/etc/gshadow，其中/etc/gshadow是/etc/group的加密信息文件。</p>
<p>用户组的所有信息都存放在/etc/group文件中。此文件的格式是由冒号(:)隔开若干个字段，这些字段具体如下：</p>
<ul>
<li>组名:口令:组标识号:组内用户列表</li>
</ul>
<h4 id="组名："><a href="#组名：" class="headerlink" title="组名："></a>组名：</h4><p>组名是用户组的名称，由字母或数字构成。与/etc/passwd中的登录名一样，组名不应重复。</p>
<h4 id="口令："><a href="#口令：" class="headerlink" title="口令："></a>口令：</h4><p>口令字段存放的是用户组加密后的口令字。一般Linux系统的用户组都没有口令，即这个字段一般为空，或者是*。</p>
<h4 id="组标识号："><a href="#组标识号：" class="headerlink" title="组标识号："></a>组标识号：</h4><p>组标识号与用户标识号类似，也是一个整数，被系统内部用来标识组。别称GID.</p>
<h4 id="组内用户列表："><a href="#组内用户列表：" class="headerlink" title="组内用户列表："></a>组内用户列表：</h4><p>是属于这个组的所有用户的列表，不同用户之间用逗号(,)分隔。这个用户组可能是用户的主组，也可能是附加组。</p>
<h3 id="date-显示系统当前时间和日期"><a href="#date-显示系统当前时间和日期" class="headerlink" title="date 显示系统当前时间和日期"></a>date 显示系统当前时间和日期</h3><h3 id="cal-显示当前月份的日历"><a href="#cal-显示当前月份的日历" class="headerlink" title="cal 显示当前月份的日历"></a>cal 显示当前月份的日历</h3><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><ul>
<li><a href="https://www.cnblogs.com/peida/archive/2012/12/05/2803591.html" target="_blank" rel="external">每天一个 linux 命令</a></li>
<li><a href="http://billie66.github.io/TLCL/book/index.html" target="_blank" rel="external">The Linux Command Line</a></li>
</ul>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
		<i class="icon-book icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="/categories/Linux//" class="article-tag-list-link color1">Linux</a>
        		</li>
      		
		</ul>
	</div>


      
        <p class="article-more-link">
          <a class="article-more-a" href="/2019/07/18/linux-命令/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        
    </div>
</aside>




  
    <article id="post-面试知识点" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/05/16/面试知识点/">面试知识点</a>
    </h1>
  

        
        <a href="/2019/05/16/面试知识点/" class="archive-article-date">
  	<time datetime="2019-05-16T01:03:46.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2019-05-16</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>根据 cyc2018 的 <a href="https://xiaozhuanlan.com/topic/3057621498" target="_blank" rel="external">一文帮你理清面试知识点</a> 和 <a href="http://zhangchangle.com" target="_blank" rel="external">博客</a> 以及其他资料整理而成。</p>
<h1 id="💻操作系统"><a href="#💻操作系统" class="headerlink" title="💻操作系统"></a>💻操作系统</h1><h2 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h2><p>★★★ 进程与线程的本质区别、以及各自的使用场景</p>
<ul>
<li>拥有资源：进程是资源分配的基本单位，但是线程不拥有资源，线程可以访问隶属进程的资源。</li>
<li>调度：线程是独立调度的基本单位，在同一进程中，线程的切换不会引起进程切换，从一个进程中的线程切换到另一个进程中的线程时，会引起进程切换。</li>
<li>系统开销：由于创建或撤销进程时，系统都要为之分配或回收资源，如内存空间、I/O设备等，所付出的开销远大于创建或撤销线程时的开销。类似地，在进程切换时，涉及当前执行进程 CPU 环境的保存及新调度进程 CPU 环境的设置，而线程切换时只需保存和设置少量寄存器内容，开销很小。</li>
<li>通信方面：线程间通信可以通过直接读写同一进程中的数据进行通信，但是进程通信需要借助 IPC。</li>
</ul>
<p>★☆☆ 进程状态。</p>
<ul>
<li>就绪状态：等待被调度</li>
<li>运行状态</li>
<li>阻塞状态：等待资源</li>
<li>只有就绪和运行态可以相互转换，其他的都是单项转换。就绪状态的进程通过调度算法从而获得 CPU 时间，转为运行状态；而运行状态的进程，在分配给它的 CPU 时间片用完以后就会转为就绪状态，等待下一次调度</li>
<li>阻塞状态是缺少需要的资源从运行状态转换而来的，但是该资源不包括 CPU 时间，缺少 CPU 时间会从运行态转换为就绪态</li>
</ul>
<p>★★★ 进程调度算法的特点以及使用场景。</p>
<ul>
<li>先来先服务：有利于长作业不利于短作业</li>
<li>短作业优先：长作业可能会饿死</li>
<li>最短剩于时间优先：按估计剩于时间最短的顺序进行调度</li>
<li>时间片轮转：时间片轮转算法的效率和时间片大小有很大关系</li>
<li>优先级调度：</li>
<li>多级反馈队列：</li>
</ul>
<p>★☆☆ 线程实现的方式。</p>
<p>★★☆ 协程的作用。</p>
<p>★★☆ 常见进程同步问题。</p>
<p>★★★ 进程通信方法的特点以及使用场景。</p>
<ul>
<li>管道：只支持半双工通信，只能在父子进程中使用。</li>
<li>FIFO：也称命名管道，去除了管道只能在父子进程中使用的限制。FIFO 常用于客户-服务器应用程序中，FIFO 用作汇聚点，在客户进程和服务器进程之间传递数据。</li>
<li>消息队列：相比于 FIFO，消息队列具有以下优点：</li>
<li>消息队列可以独立于读写进程存在，从而避免了<br>FIFO 中同步管道的打开和关闭时可能产生的困难。</li>
<li>避免了 FIFO 的同步阻塞问题，不需要进程自己提供同步方法</li>
<li>读进程可以根据消息类型有选择地接收消息，而不像 FIFO 那样只能默认地接收</li>
<li>信号量：它是一个计数器，用于为多个进程提供共享数据对象的访问</li>
<li>共享数据：允许多个进程共享一个给定的存储区。因为数据不需要在进程之间复制，所以这是最快的一种 IPC。需要使用信号量用来同步对共享存储的访问。多个进程可以将同一个文件映射到它们的地址空间从而实现共享内存。另外 XSI 共享内存不是使用文件，而是使用使用内存的匿名段。</li>
<li>套接字：与其它通信机制不同的是，它可用于不同机器间的进程通信。</li>
</ul>
<p>★★★ 死锁必要条件、解决死锁策略，能写出和分析死锁的代码，能说明在数据库管理系统或者 Java 中如何解决死锁。</p>
<ul>
<li>互斥</li>
<li>占有和等待</li>
<li>环路等待</li>
<li>不可抢占</li>
</ul>
<p>★★★ 虚拟内存的作用，分页系统实现虚拟内存原理。<br>虚拟内存的目的是为了让物理内存扩充成更大的逻辑内存，从而让程序获得更多的可用内存。<br>操作系统将内存抽象成为地址空间。每个程序拥有自己的地址空间，这个地址空间被分割成多个块，每一块称为一页。这些页被映射到物理内存，但不需要映射到连续的物理内存，也不需要所有页都必须在物理内存中。当程序引用到不在物理内存中的页时，由硬件执行必要的映射，将缺失的部分装入物理内存并重新执行失败的指令。</p>
<p>★★★ 页面置换算法的原理，特别是 LRU 的实现原理，最好能手写，再说明它在 Redis 等作为缓存置换算法。</p>
<ul>
<li>最佳</li>
<li>最近最久未使用 LRU：基于双向链表 + HashMap 的算法实现</li>
<li>访问某个节点，将其从原来位置删除，并重新插入到链表头部。这样就能保证链表尾部存储的就是最近最久未使用的节点，当节点数量大于缓存最大空间时就淘汰链表尾部的节点</li>
<li>为了使删除操作的时间复杂度为 O(1)，就不能采用遍历的方式找到某个节点。HashMap 存储着 Key 到节点的映射，通过 Key 就能以 O(1) 的时间得到节点，然后再以 O(1) 的时间将其从双向队列中删除。</li>
<li>最近未使用 NRU</li>
<li>先进先出 FIFO</li>
<li>第二次机会算法</li>
<li>时钟 CLOCK</li>
</ul>
<p>★★★ 比较分页与分段的区别。</p>
<ul>
<li>对程序员的透明性：分页透明，但是分段需要程序员显示划分每个段</li>
<li>地址空间的维度：分页是一维地址，分段是二维的</li>
<li>大小是否可以改变：页的大小不可变，段的大小可以动态改变</li>
<li>出现的原因：分页主要用于实现虚拟内存，从而获得更大的地址空间；分段主要是为了使程序和数据可以被划分为逻辑上独立的地址空间并且有助于共享和保护。</li>
</ul>
<p>★★★ 分析静态链接的不足，以及动态链接的特点。</p>
<ul>
<li>静态链接有两个问题：</li>
</ul>
<ol>
<li>当静态库更新时那么整个程序都要重新进行链接</li>
<li>对于 printf 这种标准函数库，如果每个程序都要有代码，这会造成极大浪费资源</li>
</ol>
<ul>
<li>动态链接的特点：</li>
</ul>
<ol>
<li>在给定的文件系统中一个库只有一个文件，所有引用该库的可执行目标文件都共享这个文件，它不会被复制到引用他们的可执行文件中</li>
<li>在内存中，一个共享库的 .text 节（以编译程序的机器代码）的一个副本可以被不同的正在运行的进程共享。</li>
</ol>
<h2 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h2><p>★★☆ 文件系统的原理，特别是 inode 和 block。数据恢复原理。</p>
<ul>
<li>对分区进行格式化是为了在分区上建立文件系统。一个分区通常只能格式化为一个文件系统，但是磁盘阵列等技术可以将一个分区格式化为多个文件系统</li>
<li>inode：一个文件占用一个inode，记录文件属性，同时记录此文件的内容所在的block编号</li>
<li>block：记录文件的内容，文件太大时，会产生多个block</li>
<li>对于 Ext2 文件系统，当药读取一个文件的内容时，先在 inode 中去查找文件内容所在的所有block，然后把所有的 block 内容读取出来</li>
<li>对于 FAT 文件系统，它没有 inode ，每个 block 中存储着下一个 block 的编号</li>
<li>ext3/ext4 文件系统引入了日志功能，可以利用日志来修复文件系统</li>
<li>目录：建立一个目录时，会分配一个 inode 与至少一个 block。block 记录的是目录下所有文件的 inode 编号以及文件名。文件的 inode 本身不记录文件名，文件名记录在目录中。因此，拥有文件的 w 权限并不能对文件名进行修改</li>
</ul>
<p>★★★ 硬链接与软链接的区别。</p>
<ul>
<li>硬链接：在目录下创建一个条目，记录着文件名与 inode编号，这个 inode 就是源文件的 inode。不能跨越文件系统，不能对目录链接</li>
<li>软链接：软链接文件保存着原文件所在的绝对路径，在读取时会定位到源文件上。可以为目录链接</li>
</ul>
<p>★★☆ 能够使用常用的命令，比如 cat 文件内容查看、find 搜索文件，以及 cut、sort 等管线命令。了解 grep 和 awk 的作用。</p>
<ul>
<li>cat 取得文件内容</li>
<li>find 文件搜索。可以使用文件的属性和权限进行搜索</li>
<li>cut 对数据进行切分，取出想要的部分</li>
<li>sort 用于排序</li>
<li>grep 使用正则表达式进行全局查找并打印</li>
<li>awk 是一门模式匹配的编程语言，主要功能是用于匹配文本并处理。</li>
</ul>
<p>★★★ 僵尸进程与孤儿进程的区别，从 SIGCHLD 分析产生僵尸进程的原因。</p>
<ul>
<li>孤儿进程：一个父进程退出，而它的一个或多个子进程还在运行，那么这些子进程将会成为孤儿进程。孤儿进程将会被 init 进程（进程号为1）所收养，并由 init 进程对他们完成状态收集工作。由于孤儿进程会被 init 所收养，所以孤儿进程不会对系统造成危害</li>
<li>僵尸进程：如果子进程退出，而父进程并没有调用 wait() 或 waitpid()，那么子进程的进程描述符仍然保存在系统中，这种进程称之为僵尸进程。系统所能使用的进程号是有限的，如果产生大量僵尸进程，将因为没有可用的进程号而导致系统不能产生新的进程。要消灭系统中大量的僵尸进程，只需要将其父进程杀死，此时僵尸进程就会变成孤儿进程，从而被 init 所收养，这样 init 就会释放所有的僵尸进程所占有的资源，从而结束僵尸进程。</li>
<li>SIGCHLD：当一个子进程改变了他的状态时，父进程会得到 SIGCHLD 信号，waitpid() 或者 wait()调用会返回。其中子进程发送的 SIGCHLD 信号包含了子进程的信息，比如进程 ID、进程状态、进程使用 CPU 的时间等。在子进程退出时，他的进程描述符不会立即释放，这是为了让父进程得到子进程信息，父进程通过 wait() 和 waitpid() 来获得一个已经退出的子进程的信息。</li>
</ul>
<h1 id="☁️网络"><a href="#☁️网络" class="headerlink" title="☁️网络"></a>☁️网络</h1><h2 id="基础-1"><a href="#基础-1" class="headerlink" title="基础"></a>基础</h2><p>★★★ 各层协议的作用，以及 TCP/IP 协议的特点。</p>
<ul>
<li>应用层：为特定应用程序提供数据传输服务。 HTTP、DNS。</li>
<li>传输层：为进程提供通用数据传输服务。运输层包括两种协议：传输控制协议 TCP，提供面向连接、可靠的数据传输服务，数据单位为报文段；用户数据报协议 UDP，提供无连接、尽最大努力的数据传输服务，数据单位为用户数据报。TCP 主要提供完整性服务，UDP 主要提供及时性服务。</li>
<li>网络层：为主机提供数据传输服务。而传输层协议是为主机中的进程提供数据传输服务。网络层把传输层传递下来的报文段或者用户数据报封装成分组。</li>
<li>数据链路层：为同一链路的主机提供数据传输服务，而主机之间可以有很多链路，链路层协议就是为同一链路的主机提供数据传输服务。数据链路层把网络层传下来的分组封装成帧。</li>
<li>物理层：考虑的是怎样在传输媒体上传输数据比特流，而不是指具体的传输媒体。物理层的作用是尽可能屏蔽传输媒体和通信手段的差异，使数据链路层感觉不到这些差异。</li>
<li>TCP/IP：只有四层，相当于五层协议中数据链路层和物理层合并为网络接口层。TCP/IP 协议体系结构不严格遵循 OSI 分层概念，应用层可能会直接使用 IP 层或者网络接口层。</li>
</ul>
<p>★★☆ 以太网的特点，以及帧结构。</p>
<ul>
<li>以太网是一种星型拓扑结构局域网。</li>
<li>以太网帧格式</li>
<li>类型：标记上层使用的协议；</li>
<li>数据：长度在 46-1500 之间秒如果太小则需要填充；</li>
<li>FCS：帧检验序列，使用的是 CRC 检验方法；<br>★★☆ 集线器、交换机、路由器的作用，以及所属的网络层。(<a href="https://www.tianmaying.com/tutorial/NetWorkInstrument" target="_blank" rel="external">https://www.tianmaying.com/tutorial/NetWorkInstrument</a>)</li>
<li>集线器：物理层设备。作用于比特而不是帧，当一个比特到达接口时，集线器重新生成这个比特，并将其能量强度放大，从而扩大网络的传输距离，之后再将这个比特发送到其他所有接口。如果集线器同时收到两个不同接口的帧，那么就发生了碰撞。</li>
<li>交换机：链路层设备。是一种基于 MAC 识别，能完成封装转发数据包功能的网络设备。它不会发生碰撞，能根据 MAC 地址进行存储转发。</li>
<li>路由器：网络层设备。是一种连接多个网络或网段的网络设备，根据 IP 进行转发。</li>
</ul>
<p>★★☆ IP 数据数据报常见字段的作用。</p>
<ul>
<li>版本：有 4（IPv4）和 6（IPv6）两个值；</li>
<li>首部长度 : 占 4 位，因此最大值为 15。值为 1 表示的是 1 个 32 位字的长度，也就是 4 字节。因为首部固定长度为 20 字节，因此该值最小为 5。如果可选字段的长度不是 4 字节的整数倍，就用尾部的填充部分来填充。</li>
<li>区分服务 : 用来获得更好的服务，一般情况下不使用。</li>
<li>总长度 : 包括首部长度和数据部分长度。</li>
<li>生存时间 ：TTL，它的存在是为了防止无法交付的数据报在互联网中不断兜圈子。以路由器跳数为单位，当 TTL 为 0 时就丢弃数据报。</li>
<li>协议 ：指出携带的数据应该上交给哪个协议进行处理，例如 ICMP、TCP、UDP 等。</li>
<li>首部检验和 ：因为数据报每经过一个路由器，都要重新计算检验和，因此检验和不包含数据部分可以减少计算的工作量。</li>
<li>标识 : 在数据报长度过长从而发生分片的情况下，相同数据报的不同分片具有相同的标识符。</li>
<li>片偏移 : 和标识符一起，用于发生分片的情况。片偏移的单位为 8 字节。</li>
</ul>
<p>★☆☆ ARP 协议的作用，以及维护 ARP 缓存的过程。</p>
<ul>
<li>ARP 实现由 IP 地址得到 MAC 地址</li>
<li>如果主机 A 知道主机 B 的 IP 地址，但是 ARP 高速缓存中没有该 IP 地址到 MAC 地址的映射，此时主机 A 通过广播的方式发送 ARP 请求分组，主机 B 收到该请求后会发送 ARP 响应分组给主机 A 告知其 MAC 地址，随后主机 A 向其高速缓存中写入主机 B 的 IP 地址到MAC 地址的映射。</li>
</ul>
<p>★★☆ ICMP 报文种类以及作用；和 IP 数据报的关系；Ping 和 Traceroute 的具体原理。</p>
<ul>
<li>ICMP 报文分为差错报告报文和询问报文</li>
<li>ICMP 是为了更有效地转发 IP 数据报和提高交付成功的机会。它封装在 IP 数据报中，但不属于高层协议</li>
<li>Ping 的原理是通过向目的主机发送 ICMP Echo 请求报文，目的主机收到之后会发送 Echo 回答报文。Ping 会根据时间和成功相应次数估算出数据包往返时间以及丢包率</li>
<li>Traceroute 发送的 IP 数据报封装的是无法交付的 UDP 用户数据报，并由目的主机发送终点不可达差错报告报文。</li>
<li>源主机向目的主机发送一连串的 IP 数据报。第一个数据报 P1 的生存时间 TTL 设置为 1，当 P1 到达路径上的第一个路由器 R1 时，R1 收下它并把 TTL 减 1，此时 TTL 等于 0，R1 就把 P1 丢弃，并向源主机发送一个 ICMP 时间超过差错报告报文；</li>
<li>源主机接着发送第二个数据报 P2，并把 TTL 设置为 2。P2 先到达 R1，R1 收下后把 TTL 减 1 再转发给 R2，R2 收下后也把 TTL 减 1，由于此时 TTL 等于 0，R2 就丢弃 P2，并向源主机发送一个 ICMP 时间超过差错报文。</li>
<li>不断执行这样的步骤，直到最后一个数据报刚刚到达目的主机，主机不转发数据报，也不把 TTL 值减 1。但是因为数据报封装的是无法交付的 UDP，因此目的主机要向源主机发送 ICMP 终点不可达差错报告报文。</li>
<li>之后源主机知道了到达目的主机所经过的路由器 IP 地址以及到达每个路由器的往返时间。</li>
</ul>
<p>★★★ UDP 与 TCP 比较，分析上层协议应该使用 UDP 还是 TCP。</p>
<ul>
<li>传输控制协议 TCP：是面向连接的，提供可靠交付，有流量控制，拥塞控制，提供全双工通信，面向字节流（把应用层传下来的报文看成字节流，把字节流组织成大小不等的数据块），每一条 TCP 连接只能是点对点的（一对一）。TCP 主要提供完整性服务。</li>
<li>用户数据报协议 UDP：是无连接的，尽最大可能交付，没有拥塞控制，面向报文（对于应用程序传下来的报文不合并也不拆分，只是添加 UDP 首部），支持一对一、一对多、多对一和多对多的交互通信。。主要提供及时性服务。</li>
</ul>
<p>★★★ 理解三次握手以及四次挥手具体过程，<a href="https://www.jianshu.com/p/e7f45779008a" target="_blank" rel="external">三次握手的原因</a>(<a href="https://www.jianshu.com/p/7d0f91345483)、四次挥手原因、TIME_WAIT" target="_blank" rel="external">https://www.jianshu.com/p/7d0f91345483)、四次挥手原因、TIME_WAIT</a> 的作用。<br><a href="https://www.zhihu.com/question/24853633" target="_blank" rel="external">https://www.zhihu.com/question/24853633</a></p>
<ul>
<li>三次握手：<ul>
<li>服务器处于 LISTEN 状态，等待来自客户端的连接请求</li>
<li>客户端向服务器发送连接请求报文 SYN=1</li>
<li>服务器收到客服端发来的 SYN，如果同意建立连接，则向客户端发送确认报文 SYN=1，ACK=1</li>
<li>客户端收到 SYN ACK 后，还要向服务器发出确认报文 ACK</li>
<li>服务器收到 ACK 后，连接建立</li>
</ul>
</li>
<li>连接建立以后，ACK 都置为 1</li>
<li>第三次握手可以携带数据，如果不携带数据则不消耗序号</li>
<li>三次握手的原因<ul>
<li>表因：第三次握手是为了防止失效的连接请求到达服务器，让服务器打开连接。客户端发送的连接请求如果在网络中滞留，那么就会隔很长一段时间才能收到服务器端发回的连接确认，客户端等待一个超时重传时间之后，就会重新请求连接。但是这个滞留的连接最后还是会到达服务器，如果不进行三次握手，那么服务器就会打开两个连接。如果有第三次握手，客户端会忽略服务器之后发送的对滞留请求的连接确认，不进行第三次握手，因此就不会再次打开连接。</li>
<li>本质：TCP 需要 seq 序列号来做可靠重传或接收，而避免连接复用时无法分辨出 seq 是延迟或者是旧链接的 seq，因此需要三次握手来约定确定双方的 ISN（初始 seq 序列号）。</li>
</ul>
</li>
<li>四次挥手：<ul>
<li>客户端发送释放报文 FIN</li>
<li>服务器收到 FIN 后发出确认 ACK，此时 TCP 属于半关闭状态，服务器能向客户端发送数据但是客户端不能向服务器发送数据</li>
<li>当服务器不再需要连接时，发送连接释放报文 FIN</li>
<li>客户端收到 FIN 后发出确认 ACK，进入 TIME-WAIT 状态，等待 2 倍的 MSL（最大报文存活时间）后释放连接</li>
<li>服务器收到 ACK 后释放连接</li>
</ul>
</li>
<li>四次挥手的原因：客户端发送了 FIN 连接释放报文之后，服务器收到了这个报文，就进入了 CLOSE-WAIT 状态。这个状态是为了让服务器发送还为传送完毕的数据，传送完毕后，服务器会发送 FIN 连接释放报文。</li>
<li>TIME_WAIT：客户端收到服务端的 FIN 报文址后进入此状态，此时并不是直接进入 CLOSED 状态，还需要等待一个时间计时器设置的时间 2MSL。这么做有两个理由：<ol>
<li>确保最后一个报文能够到达。如果 B 没收到 A 发送来的确认报文，那么就会重新发送连接释放请求报文，A 等待一段时间就是为了处理这种情况的发生。</li>
<li>等待一段时间是为了让本连接持续时间内所产生的所有报文都从网络中消失，是的下一个连接不会出现九的连接请求报文。</li>
</ol>
</li>
</ul>
<p>★★★ 可靠传输原理，并设计可靠 UDP 协议。</p>
<ul>
<li>将数据断截为合理的长度</li>
<li>超时重传：如果一个已经发送的报文段在超时间内没有收到确认，那么就重传这个报文段</li>
<li>对于收到的请求，给出确认响应</li>
<li>校验包出错，丢弃报文段，不给出响应，超时重发</li>
<li>对失序数据进行重新排序，然后才交给应用层</li>
<li>对于重复数据，能够丢弃重复数据</li>
<li>流量控制，防止较快主机致使较慢主机的缓冲区溢出</li>
</ul>
<p>★★☆ TCP 拥塞控制的作用，理解具体原理。</p>
<ul>
<li>为了降低整个网络的拥塞程度。</li>
<li>TCP 主要通过四个算法来进行拥塞控制：慢开始、拥塞避免、快重传、快恢复。</li>
<li>慢开始：发送的最初执行慢开始，令 cwnd = 1，发送方只能发送一个报文段，当收到确认后，将 cwnd 加倍。</li>
<li>拥塞避免：设置一个慢开始门限 ssthresh ，当cwnd &gt;= ssthresh 时，进入拥塞避免，每个轮次只将 cwnd 加1。如果出现了超时，则令 ssthresh = cwnd / 2，然后重新执行慢开始。</li>
<li>快重传：在发送方，如果收到3个重复确认，那么知道下一个报文段丢失，此时执行快重传，立刻重传下一个报文段。</li>
<li>快恢复：快重传之后执行快恢复，令 ssthresh = cwnd / 2，cwnd = ssthresh，此时直接进入拥塞避免。</li>
<li>慢开始和快恢复的快慢指的是 cwnd 的设定值，而不是 cwnd 的增长速率。慢开始 cwnd 设定为 1，而快恢复 cwnd 设定为 ssthresh。</li>
</ul>
<p>★★☆ DNS 的端口号；TCP 还是 UDP；作为缓存、负载均衡。</p>
<ul>
<li>DNS可以使用 UDP 和 TCP 进行传输，使用的端口号都为53.大多数情况下 DNS 使用 UDP 进行传输，这就要求域名解析器和域名服务器都必须自己处理超市和重传来保证可靠性。在两种情况下会使用 TCP 进行传输：<ol>
<li>如果返回的响应超过 512 字节（UDP 最大只支持 512 字节的数据）。</li>
<li>区域传送（区域传送是主域名服务器向辅助域名服务器传送变化的那部分数据）。</li>
</ol>
</li>
</ul>
<h2 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h2><p>★★★ GET 与 POST 比较：作用、参数、安全性、幂等性、可缓存。</p>
<ul>
<li>作用：GET 用于获取资源，而 POST 用于传输实体主体。</li>
<li>参数：GET 和 POST 的请求都能使用额外的参数，但是 GET 的 参数是以查询字符串出现在 URL 中，而 POST 的参数存储在实体主体中。因为 URL 只支持 ASCII 码，因此 GET 的参数中如果存在中文等字符就需要先进行编码。例如 <code>中文</code> 会转换为 <code>%E4%B8%AD%E6%96%87</code>，而空格会转换为<code>%20</code>。POST 参考支持标准字符集。</li>
<li>安全性：安全的 HTTP 方法不会改变服务器状态，也就是说他只是可读的。GET 方法是安全的，而 POST 却不是，因为 POST 的目的是传送实体主体内容，这个内容可能是用户上传的表单数据，上传成功之后，服务器可能把这个数据存储到数据库中，因此状态也就发生了改变。安全的方法除了 GET 之外还有：HEAD、OPTIONS。不安全的方法除了 POST 之外还有 PUT、DELETE。</li>
<li>幂等性：幂等的 HTTP 方法，同样的请求被执行一次与连续执行多次的效果是一样的，服务器的状态也是一样的。换句话说就是，幂等方法不应该具有副作用（统计用途除外）。所有的安全方法也都是幂等的。在正确实现的条件下，GET，HEAD，PUT 和 DELETE 等方法都是幂等的，而 POST 方法不是。</li>
<li>可缓存：如果要对响应进行缓存，需要满足以下条件：</li>
<li>请求报文的 HTTP 方法本身是可缓存的，包括 GET 和 HEAD，但是 PUT 和 DELETE 不可缓存，POST 在多数情况下不可缓存的。</li>
<li>响应报文的状态码是可缓存的，包括：200, 203, 204, 206, 300, 301, 404, 405, 410, 414, and 501。</li>
<li>响应报文的 Cache-Control 首部字段没有指定不进行缓存。</li>
</ul>
<p>★★☆ HTTP 状态码。</p>
<table>
<thead>
<tr>
<th>状态码</th>
<th>类别</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>1XX</td>
<td>Informational（信息性状态码）</td>
<td>接受的请求正在处理</td>
</tr>
<tr>
<td>2XX</td>
<td>Successful（成功状态码）</td>
<td>请求正常处理完毕</td>
</tr>
<tr>
<td>3XX</td>
<td>Redirection（重定向状态码）</td>
<td>需要进行附加操作以完成请求</td>
</tr>
<tr>
<td>4XX</td>
<td>Client Error（客户端错误状态码）</td>
<td>服务器无法处理请求</td>
</tr>
<tr>
<td>5XX</td>
<td>Server Error（服务器错误状态码）</td>
<td>服务器请求处理出错</td>
</tr>
</tbody>
</table>
<ul>
<li>100 Continue：表明到目前为止都很正常，客户端可以继续发送请求或者忽略这个响应。</li>
<li>200 Ok</li>
<li>204 No Content：请求已经成功处理，但是返回的响应报文不包含实体的主体部分。一般在只需要从客户端往服务器发送信息，而不需要返回数据时使用。</li>
<li>206 Partial Content：表示客户端进行了范围请求，响应报文包含由 Conent-Range 指定范围的实体内容。</li>
<li>301 Moved Permanently：永久重定向</li>
<li>302 Found：临时性重定向</li>
<li>303 See Other ：和 302 有着相同的功能，但是 303 明确要求客户端应该采用 GET 方法获取资源。</li>
<li>注：虽然 HTTP 协议规定 301、302 状态下重定向时不允许把 POST 方法改成 GET 方法，但是大多数浏览器都会在 301、302 和 303 状态下的重定向把 POST 方法改成 GET 方法。</li>
<li>304 Not Modified ：如果请求报文首部包含一些条件，例如：If-Match，If-Modified-Since，If-None-Match，If-Range，If-Unmodified-Since，如果不满足条件，则服务器会返回 304 状态码。</li>
<li>307 Temporary Redirect ：临时重定向，与 302 的含义类似，但是 307 要求浏览器不会把重定向请求的 POST 方法改成 GET 方法。</li>
<li>400 Bad Request：请求报文中存在语法错误</li>
<li>401 Unauthorized：该状态码表示发送的请求需要有认证信息（BASIC 认证、DIGEST 认证）。如果之前已进行过一次请求，则表示用户认证失败。</li>
<li>403 Fobidden：请求被拒绝</li>
<li>404 Not Found</li>
<li>500 Internal Server Error ：服务器正在执行请求时发生错误。</li>
<li>503 Service Unavailable ：服务器暂时处于超负载或正在进行停机维护，现在无法处理请求。</li>
</ul>
<p>★★★ Cookie 作用、安全性问题、和 Session 的比较。</p>
<ul>
<li>用途：</li>
</ul>
<ol>
<li>会话状态管理（如用户登录状态、购物车、游戏分数或其它需要记录的信息）</li>
<li>个性化设置（如用户自定义设置、主题等）</li>
<li>浏览器行为跟踪（如跟踪分析用户行为等）</li>
</ol>
<ul>
<li>标记为 HttpOnly 的 Cookie 不能被 Javascript 脚本调用。跨站脚本攻击 (XSS) 常常使用 JavaScript 的 <code>document.cookie</code> API 窃取用户的 Cookie 信息，因此使用 HttpOnly 标记可以在一定程度上避免 XSS 攻击。</li>
<li>标记为 Secure 的 Cookie 只能通过被 HTTPS 协议加密过的请求发送给服务端。但即便设置了 Secure 标记，敏感信息也不应该通过 Cookie 传输，因为 Cookie 有其固有的不安全性，Secure 标记也无法提供确实的安全保障。</li>
<li>Cookie 与 Session 选择</li>
<li>Cookie 只能存储 ASCII 码字符串，而 Session 则可以存取任何类型的数据，因此在考虑数据复杂性时首选 Session；</li>
<li>Cookie 存储在浏览器中，容易被恶意查看。如果非要将一些隐私数据存在 Cookie 中，可以将 Cookie 值进行加密，然后在服务器进行解密；</li>
<li>对于大型网站，如果用户所有的信息都存储在 Session 中，那么开销是非常大的，因此不建议将所有的用户信息都存储到 Session 中。</li>
</ul>
<p>★★☆ 缓存的 Cache-Control 字段，特别是 Expires 和 max-age 的区别。ETag 验证原理。</p>
<ul>
<li>HTTP/1.1 通过 Cache-Control 首部字段来控制缓存。</li>
<li>no-store 指令规定不能对请求或响应的任何一部分进行缓存 <code>Cache-Control：no-store</code></li>
<li>no-cache 指令规定缓存服务器需要先向源服务器验证缓存的有效性，只有当缓存服务器有效才将能使用该缓存对客户端的请求进行相应</li>
<li>private 指令规定了将资源作为私有缓存，只能被单独用户所使用，一般存储在用户浏览器中。public 指令规定了将资源作为公共缓存，可以被多个用户所使用，一般存储在代理服务器中。</li>
<li>max-age 指令出现在请求报文中，并且缓存资源的缓存时间小于该指令指定的时间，那么就能接受该缓存。max-age 指令出现在响应报文中，表示缓存资源在缓存服务器中保存的时间。Expires 首部字段也可以用于告知缓存服务器该资源什么时候会过期。在 HTTP/1.1 中，会优先处理 max-age 指令；在 HTTP/1.0 中，max-age 指令会被忽略掉。</li>
<li>ETag：它是资源的唯一标识。URL 不能唯一表示资源，例如 <code>http://www.google.com/</code> 有中文和英文两个资源，只有 ETag 才能对这两个资源进行唯一标识。<code>ETag: &quot;82e22293907ce725faf67773957acd12&quot;</code>可以将缓存资源的 ETag 值放入 If-None-Match 首部，服务器收到该请求后，判断缓存资源的 ETag 值和资源的最新 ETag 值是否一致，如果一致则表示缓存资源有效，返回 304 Not Modified。 <code>If-None-Match: &quot;82e22293907ce725faf67773957acd12&quot;</code></li>
</ul>
<p>★★★ 长连接与短连接原理以及使用场景，流水线。</p>
<ul>
<li>当浏览器访问一个包含多张图片的 HTML 页面时，除了请求访问 HTML 页面资源，还会请求图片资源。如果每进行一次 HTTP 通信就要新建一个 TCP 连接，那么开销会很大。长连接只需要建立一次 TCP 连接就能进行多次 HTTP 通信。</li>
<li>从 HTTP/1.1 开始默认是长连接的，如果要断开连接，需要由客户端或者服务器端提出断开，使用 <code>Connection : close</code>；</li>
<li>在 HTTP/1.1 之前默认是短连接的，如果需要使用长连接，则使用 <code>Connection : Keep-Alive</code>。</li>
</ul>
<p>★★★ HTTP 存在的安全性问题，以及 HTTPs 的加密、认证和完整性保护作用。</p>
<ul>
<li>安全性问题：</li>
<li>使用明文进行通信，内容可能会被窃听</li>
<li>不验证通信方身份，通信方的身份可能遭遇伪装</li>
<li>无法验证报文的完整性，报文有可能遭篡改</li>
<li>HTTPs：让 HTTP 先和 SSL（Secure Sockets Layer）通信，再由 SSL 和 TCP 通信，也就是说 HTTPs 使用了隧道进行通信。通过使用 SSL，HTTPs 具有了加密（防窃听）、认证（防伪装）和完整性保护（防篡改）。</li>
</ul>
<p>★★☆ HTTP/1.x 的缺陷，以及 HTTP/2 的特点。</p>
<ul>
<li>HTTP/1.X 缺陷：<ul>
<li>客户端需要使用多个连接才能实现并发和缩短延迟</li>
<li>不会压缩请求和响应首部，从而导致不必要的网络流量</li>
<li>不支持有效的资源优先级，导致底层 TCP 连接的利用率低下</li>
</ul>
</li>
<li>HTTP/2：<ul>
<li>二进制分帧层：HTTP/2.0将报文分成 HEADERS 帧和 DATA 帧，它们嗾使二进制格式的。在通信过程中，只会有一个 TCP 连接存在，它承载力任意数量的数据流。</li>
<li>服务器推送：HTTP/2.0 在客户端请求一个资源时，会把相关的资源一起发送给客户端，客户端就不需要再次发起请求了。例如客户端请求 page.html 页面，服务端就把 script.js 和 style.css 等与之相关的资源一起发给客户端。</li>
<li>首部压缩：HTTP/2.0 要求客户端和服务器同时维护和更新一个包含之前见过的首部字段表，从而避免了重复传输。不仅如此，HTTP/2.0 也使用 Huffman 编码对首部字段进行压缩。</li>
</ul>
</li>
</ul>
<p>★★★ HTTP/1.1 的特性。</p>
<ul>
<li>默认是长连接</li>
<li>支持流水线</li>
<li>支持同时打开多个 TCP 连接</li>
<li>支持虚拟主机</li>
<li>新增状态码 100</li>
<li>支持分块传输编码</li>
<li>新增缓存处理指令 max-age<br>★★☆ HTTP 与 FTP 的比较。</li>
<li>FTP 使用 TCP 进行连接，它需要两个连接来传送一个文件</li>
<li>控制连接：服务器打开端口号 21 等待客户端的连接，客户端主动建立连接后，使用这个连接将客户端的命令传送给服务器，并传回服务器的应答</li>
<li>数据连接：用来传送一个文件数据</li>
</ul>
<h2 id="Socket"><a href="#Socket" class="headerlink" title="Socket"></a>Socket</h2><p>★★☆ 五种 IO 模型的特点以及比较。</p>
<ul>
<li>阻塞式 I/O：应用进程被阻塞，直到数据复制到应用进程缓冲池中才被返回。</li>
<li>非阻塞式 I/O：应用进程执行系统调用后，内核返回一个错误码。应用进程可以继续执行，但是需要不断地执行系统调用来获知 I/O是否完成，这种方式成为轮询（polling）。</li>
<li>I/O 复用：使用 select 或者 poll 等待数据，并且可以等待多个套接字中的任何一个变为可读。这一过程会被阻塞，当某一个套接字可读时返回，之后再使用 recvform 把数据从内核复制到进程中。它可以让单个进程具有处理多个 I/O事件的能力。又被称为 Event Driven I/O，即事件驱动 I/O。</li>
<li>信号驱动 I/O：应用进程使用 sigaction 系统调用，内核立即返回，也就是说等待数据阶段应用进程是非阻塞的。内核在数据到达时向应用进程发送 SIGIO 信号，应用进程收到之后在信号处理程序中调用 recvfrom 将数据从内核复制到应用程序中。</li>
<li>异步 I/O：应用进程执行 aio_read 系统调用会立即返回，应用程序可以继续执行，不会被阻塞，内核会在所有操作完成之后向应用进程发送信号。异步 I/O 与信号驱动 I/O 的区别在于，异步 I/O 是通知应用进程 I/O 完成，而信号驱动 I/O 的信号是通知应用进程可以开始 I/O。</li>
</ul>
<h4 id="比较"><a href="#比较" class="headerlink" title="比较:"></a>比较:</h4><ol>
<li>同步 I/O：将数据从内核缓冲区复制到应用进程缓冲区的阶段，应用进程会阻塞。</li>
<li>异步 I/O：不会阻塞。</li>
<li>阻塞式 I/O、非阻塞式 I/O、I/O 复用和信号驱动 I/O 都是同步 I/O，它们的主要区别在第一个阶段。</li>
<li>非阻塞式 I/O 、信号驱动 I/O 和异步 I/O 在第一阶段不会阻塞。</li>
</ol>
<p>★★★ select、poll、epoll 的原理、比较、以及使用场景；epoll 的水平触发与边缘触发。</p>
<h4 id="select："><a href="#select：" class="headerlink" title="select："></a>select：</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">select</span><span class="params">(<span class="keyword">int</span> n, fd_set *readfds, fd_set *writefds, fd_set *exceptfds, <span class="keyword">struct</span> timeval      *timeout)</span></span>;</div></pre></td></tr></table></figure>
<p>有三种类型的描述符类型：readset、writeset、execptset，分别对应读、写、异常条件的描述符集合。fd_set使用数组实现，数组大小使用 FD_SETSIZE 定义。timeout 为超时参数，调用 select 会一直阻塞直到有描述符事件到达或者等待时间超过 timeout。成功调用返回结果大于 0，出错返回结果为 -1，超时返回结果为 0。</p>
<h4 id="poll："><a href="#poll：" class="headerlink" title="poll："></a>poll：</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">poll</span><span class="params">(<span class="keyword">struct</span> pollfd*fds,<span class="keyword">unsigned</span> <span class="keyword">int</span> fds, <span class="keyword">int</span> timeout)</span></span></div></pre></td></tr></table></figure>
<p>pollfd使用链表实现</p>
<h4 id="select-和-poll-比较："><a href="#select-和-poll-比较：" class="headerlink" title="select 和 poll 比较："></a>select 和 poll 比较：</h4><ul>
<li>select 会修改描述符，poll不会。</li>
<li>select 的描述符类型使用数组实现，FD_SETSIZE 大小默认为 1024，因此只能监听 1024 个描述符。如果要监听更多描述符，需要修改 FD_SETSIZE 之后重新编译。而 poll 的描述符类型使用链表实现，没有描述符数量的限制。</li>
<li>poll 提供了更多的事件类型，并且对描述符的重复利用上比 select 高</li>
<li>如果一个线程对某个描述符调用了 select 或者 poll，另一个线程关闭了该描述符，会导致调用结果不确定。</li>
<li>速度：select 和 poll速度都比较慢</li>
<li>select 和 poll 每次调用都需要将 <strong>全部描述符从应用进程缓冲池区复制到内核缓冲区</strong></li>
<li>select 和 poll 的返回结果中没有声明哪些描述符已经准备好，所以如果返回值大于等于 0 时，应用程序需要使用<strong>轮询</strong>的方式来找到 I/O 完成的描述符。</li>
<li>可移植性：几乎所有的系统都支持 select。但是只有比较新的系统支持 poll。</li>
</ul>
<h4 id="epoll："><a href="#epoll：" class="headerlink" title="epoll："></a>epoll：</h4><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">int epoll_create(int size);</div><div class="line">int epoll_ctl(int epfd, int op, int fd, struct epoll_event *event)；</div><div class="line">int epoll_wait(int epfd, struct epoll_event * events, int maxevents, int timeout);</div></pre></td></tr></table></figure>
<p>epoll_ctl() 用于向内核注册新的描述符或者是改变某个文件描述符的状态。已注册的描述符在内核中会被维护在一棵红黑树上，通过回调函数会将 I/O 准备好的描述符加入到另一个链表中管理，进程调用 epoll_wait() 便可以得到事件完成的描述符。<br>从上面的描述可以看出，epoll 只需要<strong>将描述符从进程缓冲区向内核缓冲区拷贝一次</strong>，并且进程<strong>不需要通过轮询来获得时间完成的描述符</strong>。<br>epoll 仅适用于 Liunx OS。<br><strong>epoll 比 select 和 poll 更加灵活而且没有描述符数量限制</strong><br><strong>epoll 对多线程编程更加友好，一个线程调用了 epoll_wait() 另一个线程关闭了同一个描述符也不会产生像 select 和 poll的不确定情况</strong></p>
<h3 id="工作模式："><a href="#工作模式：" class="headerlink" title="工作模式："></a>工作模式：</h3><p>epoll 的描述符事件有两种触发模式：LT（level trigger）水平触发 和 ET（edge trigger）边缘触发</p>
<ul>
<li>LT 模式：当 epoll_wait() 检测到描述符事件到达时，将此事件通知进程，进程可以不立即处理该事件，下次调用 epoll_wait() 会再次通知进程。是默认的一种模式，并且同时支持 Blocking 和 No-Blocking。</li>
<li>ET 模式：和 LT 模式不同的是，通知之后进程必须立即处理事件，下次再调用 epoll_wait() 时不会再得到事件到达的通知。很大程度上减少了 epoll 事件被重复触发的次数，因此效率要比 LT 模式高。只支持 No-Blocking ，以避免由于一个文件句柄的阻塞读/阻塞写操作把处理多个文件描述符的任务饿死。</li>
</ul>
<h4 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h4><ul>
<li>select：select 的 timeout 参数精度为 1ns，而 poll 和 epoll 为 1ms，因此 select 更加适用于实时性要求比较高的场景，比如核反应堆的控制。select 可移植性更好，几乎被所有主流平台所支持。</li>
<li>poll：poll 没有最大描述符数量的限制，如果平台支持并且对实时性要求不高，应该使用 poll 而不是 select。</li>
<li>epoll：只需要运行在 Linux 平台上，有大量的描述符需要同时轮询，并且这些连接最好是长连接。<br>需要同时监控小于 1000 个描述符，就没有必要使用 epoll，因为这个应用场景下并不能体现 epoll 的优势。<br>需要监控的描述符状态变化多，而且都是非常短暂的，也没有必要使用 epoll。因为 epoll 中的所有描述符都存储在内核中，造成每次需要对描述符的状态改变都需要通过 epoll_ctl() 进行系统调用，频繁系统调用降低效率。并且 epoll 的描述符存储在内核，不容易调试。</li>
</ul>
<h1 id="💾数据库"><a href="#💾数据库" class="headerlink" title="💾数据库"></a>💾数据库</h1><h2 id="SQL"><a href="#SQL" class="headerlink" title="SQL"></a>SQL</h2><p>★★☆ 手写 SQL 语句，特别是连接查询与分组查询。</p>
<p>★★☆ 连接查询与子查询的比较。</p>
<ul>
<li>连接可以替换子查询，并且比子查询的效率一般会更快。</li>
</ul>
<p>★★☆ drop、delete、truncate 比较。</p>
<ul>
<li>DELETE 删除表中 WHERE 语句指定的数据</li>
<li>TRUNCATE 清空表，相当于删除表中所有数据</li>
<li>DROP 删除表结构</li>
<li>DELETE 会被放到日志中以便进行回滚，THUNCATE 和 DROP 立即生效，不会放到日志中，也不支持回滚</li>
</ul>
<p>★★☆ 视图的作用，以及何时能更新视图。</p>
<ul>
<li>简化复杂的查询，比如复杂的连接查询</li>
<li>只使用实际表的一部分数据</li>
<li>通过只给用户访问视图的权限，保证数据的安全性</li>
<li>更改数据格式和表示。</li>
<li>因为视图不存储数据，所以更新视图需要去更新原始表。如果视图定义只依赖于一个原始表，就很容易进行更新操作。但如果视图定义中有以下操作，那么就不能进行视图的更新：</li>
<li>分组查询</li>
<li>连接查询</li>
<li>子查询</li>
<li>Union</li>
<li>聚集函数</li>
<li>DISTINCT</li>
<li>计算字段</li>
</ul>
<p>★☆☆ 理解存储过程、触发器等作用。</p>
<ul>
<li>存储过程可以看成是对一系列 SQL 操作的批处理。</li>
<li>触发器会在某个表执行以下语句时自动执行：DELETE、INSERT、UPDATE。</li>
</ul>
<h2 id="系统原理"><a href="#系统原理" class="headerlink" title="系统原理"></a>系统原理</h2><p>★★★ ACID 的作用以及实现原理。</p>
<ul>
<li>只有满足一致性，事务的执行结果才是正确的。</li>
<li>在无并发的情况下，事务串行执行，隔离性一定能够满足。此时只要能满足原子性，就一定能满足一致性。</li>
<li>在并发的情况下，多个事务并行执行，事务不仅要满足原子性，还需要满足隔离性，才能满足一致性。</li>
<li>事务满足持久化是为了能应对数据库崩溃的情况。</li>
</ul>
<p>★★★ 四大隔离级别，以及不可重复读和幻影读的出现原因。</p>
<ul>
<li>未提交读（READ UNCOMMITTED）：事务中的修改，即使没有提交，对其它事务也是可见的。脏读</li>
<li>提交读（READ COMMITTED）：一个事务只能读取已经提交的事务所做的修改。换句话说，一个事务所做的修改在提交之前对其它事务是不可见的。重复读</li>
<li>可重复读（REPEATABLE READ）：保证在同一个事务中多次读取同样数据的结果是一样的。幻影读</li>
<li>可串行化（SERIALIZABLE）：强制事务串行执行。</li>
<li>不可重复读：T2 读取一个数据，T1 对该数据做了修改。如果 T2 再次读取这个数据，此时读取的结果和第一次读取的结果不同。</li>
<li>幻影读：T1 读取某个范围的数据，T2 在这个范围内插入新的数据，T1 再次读取这个范围的数据，此时读取的结果和和第一次读取的结果不同。</li>
</ul>
<p>★★☆ 封锁的类型以及粒度，两段锁协议，隐式和显示锁定。</p>
<ul>
<li>封锁类型：</li>
<li>1.读写锁</li>
<li>排他锁（Exclusive），简写为 X 锁，又称写锁。</li>
<li>共享锁（Shared），简写为 S 锁，又称读锁。</li>
<li>一个事务对数据对象 A 加了 X 锁，就可以对 A 进行读取和更新。加锁期间其他事务不能对 A 加任何锁。</li>
<li>一个事务对数据对象 A 加了 S 锁，就可以对 A 进行读取操作，但是不能进行更新操作。加锁期间其它事务能对 A 加 S 锁，但是不能加 X 锁。</li>
<li>2.意向锁</li>
<li>使用意向锁可以更容易地支持多粒度封锁。</li>
<li>一个事务在获得某个数据行对象的 S 锁之前，必须先获得表的 IS 锁或者更强的锁</li>
<li>一个事务在获得某个数据行对象的 X 锁之前，必须先获得表的 IX 锁。</li>
<li>通过引入意向锁，事务 T 想要对表 A 加 X 锁，只需要先检测是否有其它事务对表 A 加了 X/IX/S/IS 锁，如果加了就表示有其它事务正在使用这个表或者表中某一行的锁，因此事务 T 加 X 锁失败。</li>
<li>封锁粒度：行级锁和表级锁</li>
<li>应该尽量只锁定需要修改的那部分数据，而不是所有的资源。锁定的数据量越少，发生锁争用的可能就越小，系统的并发程度就越高。</li>
<li>但是加锁需要消耗资源，锁的各种操作（包括获取锁、释放锁、以及检查锁状态）都会增加系统开销。因此封锁粒度越小，系统开销就越大。</li>
<li>在选择封锁粒度时，需要在锁开销和并发程度之间做一个权衡。</li>
<li>两段锁协议：</li>
<li>加锁和解锁分为两个阶段进行</li>
<li>MySQL 隐式与显示锁定：MySQL 的 InnoDB 存储引擎采用两段锁协议，会根据隔离级别在需要的时候自动加锁，并且所有的锁都是在同一时刻被释放，这被称为隐式锁定。InnoDB 也可以使用特定的语句进行显示锁定<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> ... <span class="keyword">LOCK</span> <span class="keyword">In</span> <span class="keyword">SHARE</span> <span class="keyword">MODE</span>;</div><div class="line"><span class="keyword">SELECT</span> ... <span class="keyword">FOR</span> <span class="keyword">UPDATE</span>;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>★★★ 乐观锁与悲观锁。</p>
<p>★★★ MVCC 原理，当前读以及快照读，Next-Key Locks 解决幻影读。</p>
<p>★★☆ 范式理论。</p>
<p>★★★ SQL 与 NoSQL 的比较。</p>
<h2 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h2><p>★★★ B+ Tree 原理，与其它查找树的比较。</p>
<ul>
<li>B+ 树是一颗查找树，并且所有叶子节点位于同一层</li>
<li>B+ Tree 是基于 B Tree 和叶子节点顺寻访问指针进行实现，它具有 B Tree 的平衡性，并且通过顺序访问指针来提高区间查询的性能。</li>
<li>在 B+ Tree 中，一个节点中的 key 从左到右非递减排列，如果某个指针的左右相邻 key 分别是 keyi 和 keyi+1，且不为 null，则该指针指向节点的所有 key 大于等于 keyi 且小于等于 keyi+1。</li>
<li>与红黑树的比较</li>
<li>更少的查找次数：平衡树查找操作的时间复杂度和树高 h 相关，O(h)=O(logdN)，其中 d 为每个节点的出度。红黑树的出度为 2，而 B+ Tree 的出度一般都非常大，所以红黑树的树高 h 很明显比 B+ Tree 大非常多，查找的次数也就更多。</li>
<li>利用磁盘预读特性：为了减少磁盘 I/O 操作，磁盘往往不是严格按需读取，而是每次都会预读。预读过程中，磁盘进行顺序读取，顺序读取不需要进行磁盘寻道，并且只需要很短的旋转时间，速度会非常快。操作系统一般将内存和磁盘分割成固定大小的块，每一块称为一页，内存与磁盘以页为单位交换数据。数据库系统将索引的一个节点的大小设置为页的大小，使得一次 I/O 就能完全载入一个节点。并且可以利用预读特性，相邻的节点也能够被预先载入.</li>
<li><a href="https://my.oschina.net/lienson/blog/2987474" target="_blank" rel="external">为什么MySQL数据库要用B+树存储索引？</a><br>★★★ MySQL 索引以及优化。</li>
<li>从结构层：web 服务器采用负载均衡服务器，MySQL 服务器采用主从复制，读写分离。</li>
<li>从储存层：采用合适的存储引擎，采用三范式。</li>
<li>从设计层：采用分区分表，表的字段采用合适的字段属性，适当的采用逆范式，开启 MySQL 缓存。</li>
<li>sql 语句层：结果一样的情况下，采用效率高，速度快节省资源的 sql 语句执行。<br>★★★ 查询优化。<br>★★★ InnoDB 与 MyISAM 比较。</li>
<li>事务：InnoDB 是事务型的，可以使用 Commit 和 Rollback 语句</li>
<li>并发：MyISAM 只支持表锁，而 InnoDB 还支持行级锁</li>
<li>外键：InnoDB 支持外键</li>
<li>备份：InnoDB 支持在线热备份</li>
<li>崩溃恢复：MyISAM 崩溃后发生损坏的概率比 InnoDB 高很多，而且恢复的速度也更慢</li>
<li>其他特性：MyISAM 支持压缩表和空间数据索引</li>
</ul>
<p>★★☆ 水平切分与垂直切分。</p>
<p>★★☆ 主从复制原理、作用、实现。</p>
<ul>
<li>原理</li>
</ul>
<ol>
<li>Master 主库将数据变更 DataChanges 记录 binlog 日志中</li>
<li>Slave 起一个 I/O 线程连接到 Master，dump 读取 Master 的 binlog 日志并写入到 Slave 的中继日志 Relay log 中</li>
<li>Slave 中的 SQL 线程读取中继日志 Relay log 进行 SQL 回放执行操作，完成主从复制，保证主从最终一致性</li>
</ol>
<ul>
<li>作用：可以实现读写分离，也可以在主库挂掉后从备用库中恢复，实时灾备的故障切换<br>-<br>★☆☆ redo、undo、binlog 日志的作用。</li>
<li>redo log（重做日志）：确保事务的持久性,防止在发生故障的时间点，尚有脏页未写入磁盘，在重启mysql服务的时候，根据redo log进行重做，从而达到事务的持久性这一特性。</li>
<li>内容：物理格式的日志，记录的是物理数据页面的修改的信息，其redo log是顺序写入redo log file的物理文件中去的。</li>
<li>undo log（回滚日志）：保存了事务发生之前的数据的一个版本，可以用于回滚，同事可以提供多版本并发控制下的读</li>
<li>内容：逻辑格式的日志，在执行undo的时候，仅仅是将数据从逻辑上恢复至事务之前的状态，而不是从物理页面上操作实现的，这一点是不同于redo log的。</li>
<li>binlog（二进制日志）：</li>
<li>作用:</li>
</ul>
<ol>
<li>用于复制，在主从复制中，从库利用主库上的 binlog 进行重播，实现主从同步</li>
<li>用于数据库的基于时间点的还原</li>
</ol>
<ul>
<li>内容：逻辑格式的日志，可以简单认为就是执行过的事务中的sql语句。但又不完全是sql语句这么简单，而是包括了执行的sql语句（增删改）反向的信息，也就意味着delete对应着delete本身和其反向的insert；update对应着update执行前后的版本的信息；insert对应着delete和insert本身的信息。</li>
<li>errorlog（错误日志）</li>
<li>show query log（慢查询日志）</li>
<li>general log（查询日志）</li>
<li>relay log（中继日志）</li>
<li>redo log 和 binlog：</li>
</ul>
<ol>
<li>作用不同：redo log是保证事务的持久性的，是事务层面的，binlog作为还原的功能，是数据库层面的（当然也可以精确到事务层面的），虽然都有还原的意思，但是其保护数据的层次是不一样的。</li>
<li>内容不同：redo log是物理日志，是数据页面的修改之后的物理记录，binlog是逻辑日志，可以简单认为记录的就是sql语句</li>
<li>另外，两者日志产生的时间，可以释放的时间，在可释放的情况下清理机制，都是完全不同的。</li>
<li>恢复数据时候的效率，基于物理日志的redo log恢复数据的效率要高于语句逻辑日志的binlog</li>
</ol>
<h2 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h2><p>★★☆ 字典和跳跃表原理分析。</p>
<p>★★★ 使用场景。</p>
<ul>
<li>计数器</li>
<li>缓存</li>
<li>查找表</li>
<li>消息队列</li>
<li>会话缓存</li>
<li>分布式锁实现</li>
</ul>
<p>★★★ 与 Memchached 的比较。</p>
<ul>
<li>数据类型：Memcached 仅支持字符串类型，而 Redis 支持五种不同的数据类型</li>
<li>数据持久化：Redis 支持两种持久化策略：RDB 快照和 AOF 日志，而 Memcached 不支持持久化</li>
<li>分布式：Memcached 不支持分布式，只能通过在客户端使用一致性哈希来实现分布式存储，这种方式在存储和查询时都需要先在客户端计算一次数据所在的节点。Redis Cluster 实现了分布式的支持。</li>
<li>内存管理机制：</li>
<li>在 Redis 中，并不是所有数据都一直存储在内存中，可以将一些很久没用的 value 交换到磁盘，而 Memcached 的数据则会一直在内存中。</li>
<li>Memcached 将内存分割成特定长度的块来存储数据，以完全解决内存碎片的问题。但是这种方式会使得内存的利用率不高，例如块的大小为 128 bytes，只存储 100 bytes 的数据，那么剩下的 28 bytes 就浪费掉了。</li>
</ul>
<p>★☆☆ 数据淘汰机制。</p>
<ul>
<li>可以设置内存最大使用量，当内存使用量超出时，会施行数据淘汰策略。</li>
<li>Reids 具体有 6 种淘汰策略。</li>
<li>使用 Redis 缓存数据时，为了提高缓存命中率，需要保证缓存数据都是热点数据。可以将内存最大使用量设置为热点数据占用的内存量，然后启用 allkeys-lru 淘汰策略，将最近最少使用的数据淘汰。</li>
<li>Redis 4.0 引入了 volatile-lfu 和 allkeys-lfu 淘汰策略，LFU 策略通过统计访问频率，将访问频率最少的键值对淘汰。<br>★★☆ RDB 和 AOF 持久化机制。</li>
<li>RDB：将某个时间点的所有数据放到硬盘上。可以将快照复制到其他服务器从而创建具有相同服务器副本如果系统发生故障，将会丢失最后一次创建快照直接后的数据。如果数据量很大，保存快照的时间会很长</li>
<li>AOF：将写命令添加到 AOF 文件的末尾。使用 AOF 持久化需要设置同步选项，从而确保写命令什么时候会同步到磁盘文件上。这是因为对文件进行写入并不会马上将内容同步到磁盘上，而是先存储到缓冲区，然后由操作系统决定什么时候同步到磁盘。有以下同步选项：</li>
<li>always 每个命令都同步：会严重减低服务器的性能。</li>
<li>everysec 每秒同步一次：这个选项比较合适，可以保证系统崩溃时只会丢失一秒左右的数据，并且 Reids 每秒执行一次对同步服务器性能几乎没有任何影响。</li>
<li>no 让操作系统来决定何时同步：并不能给服务器性能带来多大的提升，而且也会增加系统崩溃时数据丢失的数量。</li>
<li>随着服务器写请求的增多，AOF 文件会越来越大。Redis 提供了一种将 AOF 重写的特性，能够去除 AOF 文件中的冗余写命令。<br>★★☆ 事件驱动模型。<br>★☆☆ 主从复制原理。<br>★★★ 集群与分布式。<br>★★☆ 事务原理。<br>★★★ 线程安全问题。</li>
</ul>
<h1 id="🎨面向对象"><a href="#🎨面向对象" class="headerlink" title="🎨面向对象"></a>🎨面向对象</h1><h2 id="思想"><a href="#思想" class="headerlink" title="思想"></a>思想</h2><p>★★★ 面向对象三大特性</p>
<ul>
<li>封装</li>
<li>继承</li>
<li>多态<br>★☆☆ 设计原则</li>
</ul>
<h2 id="设计模式"><a href="#设计模式" class="headerlink" title="设计模式"></a>设计模式</h2><p>★★☆ 设计模式的作用。<br>★★★ 手写单例模式，特别是双重检验锁以及静态内部类。<br>★★★ 手写工厂模式。<br>★★★ 理解 MVC，结合 SpringMVC 回答。<br>★★★ 理解代理模式，结合 Spring 中的 AOP 回答。<br>★★★ 分析 JDK 中常用的设计模式，例如装饰者模式、适配器模式、迭代器模式等。</p>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color3">面试</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2019/05/16/面试知识点/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        
    </div>
</aside>




  
    <article id="post-MySQL-查询优化" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/05/11/MySQL-查询优化/">MySQL 查询优化</a>
    </h1>
  

        
        <a href="/2019/05/11/MySQL-查询优化/" class="archive-article-date">
  	<time datetime="2019-05-11T13:45:54.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2019-05-11</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>先说明如何定位低效 SQL 语句，然后根据 SQL 语句可能低效的原因做排查，先从索引着手，如果索引没有问题，考虑其他几个方面，数据访问的问题，长难语句的问题还是一些特定类型优化的问题</p>
<ol>
<li>通过脚本，刷新观察 status</li>
<li>是否周期性故障或者波动</li>
<li>一般由访问高峰或缓存崩溃引起，加缓存并更改缓存失效策略，使失效时间分散或夜间定时失效</li>
<li>show processlist 或开启慢查询 获取有问题的 sql</li>
<li>profiling 分析语句及 explain 分析语句<ol>
<li>如果语句等待时间长：调优服务器参数（如缓冲区，线程数）</li>
<li>如果语句执行时间长：可能是表设计有缺陷，索引没优化 语句没优化</li>
</ol>
</li>
</ol>
<h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><ul>
<li>记录慢查询日志</li>
<li>show profile 检测所有语句消耗时间：set profiling=1;show profile;可以查询出语句消耗时间，id duration（语句消耗的时间） query。show profile for query 2;查看 id 为 2 的语句的查询历程</li>
<li>使用 show status:show status 会返回计数器，show global status 查看服务器级别的所有计数</li>
<li>show processlist 观察是否有大量线程处于不正常的状态或特征</li>
<li>explain(别名desc) 分析单条语句</li>
</ul>
<h2 id="慢查询日志"><a href="#慢查询日志" class="headerlink" title="慢查询日志"></a>慢查询日志</h2><ul>
<li>开启慢查询日志<ol>
<li>以命令行的方式设置参数，不需要重启 MySQL 服务 <code>set global slow_query_log = ON;</code></li>
<li>以配置文件的方式设置，需要重启 MySQL 服务。</li>
</ol>
</li>
<li>设置 long_query_time 值：<code>set long_query_time=10;</code></li>
<li>查看慢查询日志：<code>more show-query.log</code> 或者 <code>mysqldumpslow show-query.log</code></li>
</ul>
<h2 id="使用-Explain-进行分析"><a href="#使用-Explain-进行分析" class="headerlink" title="使用 Explain 进行分析"></a>使用 Explain 进行分析</h2><p>Explain 用来分析 SELECT 查询语句，开发人员可以通过分析 Explain 结果来优化查询语句。</p>
<table>
<thead>
<tr>
<th>列名</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>表示索引使用情况，最差是 all，最好是 system</td>
</tr>
<tr>
<td>select_type</td>
<td>查询类型，有简单查询、联合查询、子查询等</td>
</tr>
<tr>
<td>table</td>
<td>表名</td>
</tr>
<tr>
<td>key</td>
<td>使用的索引</td>
</tr>
<tr>
<td>row</td>
<td>扫描的行数</td>
</tr>
</tbody>
</table>
<h2 id="profiling-分析查询"><a href="#profiling-分析查询" class="headerlink" title="profiling 分析查询"></a>profiling 分析查询</h2><ul>
<li>profiling 默认是关闭的，通过<code>select @@profiling；</code>查看是否开启，通过<code>set profiling=1;</code>开启</li>
<li>执行需要测试的 sql 语句</li>
<li><code>show profiles\G;</code> 得到被执行的 SQL 语句的时间和 ID。</li>
<li><code>show profile for query 1;</code>得到对应SQL语句执行的详细信息</li>
</ul>
<h1 id="优化方向"><a href="#优化方向" class="headerlink" title="优化方向"></a>优化方向</h1><ul>
<li>数据表数据类型优化</li>
<li>索引优化</li>
<li>SQL语句的优化</li>
<li>存储引擎的优化</li>
<li>数据表结构设计的优化</li>
<li>数据库服务器架构的优化</li>
</ul>
<h2 id="建表原则"><a href="#建表原则" class="headerlink" title="建表原则"></a>建表原则</h2><ul>
<li>定常与变长分离</li>
<li>常用字段和不常用字段分离</li>
<li>在1对多，需要关联统计的字段上，添加冗余字段</li>
</ul>
<h2 id="列类型选择"><a href="#列类型选择" class="headerlink" title="列类型选择"></a>列类型选择</h2><ul>
<li>字段类型优先级 int date,time enum char varchar blob text</li>
<li>整形：定长，没有国家/地区之分，没有字符集差异，char 需要考虑字符集与校对集（排序规则）</li>
<li>enum：能起约束的目的，内部用整形存储，但与 char 联查时，内部要经历串和值的转化</li>
<li>varchar：不定长，速度慢</li>
<li>text/blob：无法使用内存临时表（排序等操作只能在磁盘上进行）</li>
<li>varchar(10) 和 varchar(300) 在表联查时花更多内存</li>
<li>尽量避免null，不利于索引，要用特殊字节标注，在磁盘占据的空间更大（mysql5.5对null做了改进）</li>
<li>ip 地址的存储，用字符串浪费空间。可以用 iptolong 函数转化为整形存储 </li>
</ul>
<h2 id="优化长难的查询语句"><a href="#优化长难的查询语句" class="headerlink" title="优化长难的查询语句"></a>优化长难的查询语句</h2><h3 id="切分大查询"><a href="#切分大查询" class="headerlink" title="切分大查询"></a>切分大查询</h3><p>一个大查询如果一次性执行的话，可能一次锁住很多数据、占满整个事务日志、耗尽系统资源、阻塞很多小的但重要的查询。<br>将一个大的查询分解成多个小的相同的查询。<br>一次性删除 1000万的数据要比一次删除1万，暂停一会儿的方案更损耗服务器开销。<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> messages <span class="keyword">WHERE</span> <span class="keyword">create</span> &lt; <span class="keyword">DATE_SUB</span>(<span class="keyword">NOW</span>(), <span class="built_in">INTERVAL</span> <span class="number">3</span> <span class="keyword">MONTH</span>);</div><div class="line">//切分后</div><div class="line">rows_affected = 0</div><div class="line"><span class="keyword">do</span> &#123;</div><div class="line">rows_affected = do_query(</div><div class="line"><span class="string">"DELETE FROM messages WHERE create &lt; DATE_SUB(NOW(), INTERVAL 3 MONTH) LIMIT 10000"</span>)</div><div class="line">&#125; <span class="keyword">while</span> rows_affected &gt; <span class="number">0</span></div></pre></td></tr></table></figure></p>
<h3 id="分解大连接查询"><a href="#分解大连接查询" class="headerlink" title="分解大连接查询"></a>分解大连接查询</h3><p>将一个大连接查询分解成对每一个表进行一次单表查询，然后在应用程序中进行关联。</p>
<ul>
<li>让缓存更高效。对于连接查询，如果其中一个表发生变化，那么整个查询缓存就无法使用。而分解后的多个查询，即使其中一个表发生变化，对其它表的查询缓存依然可以使用。</li>
<li>分解成多个单表查询，这些单表查询的缓存结果更可能被其它查询使用到，从而减少冗余记录的查询。</li>
<li>减少锁竞争。</li>
<li>在应用层进行连接，可以更容易对数据库进行拆分，从而更容易做到高性能和可伸缩。</li>
<li>查询本身效率也可能会有所提升。</li>
</ul>
<h3 id="分解关联查询"><a href="#分解关联查询" class="headerlink" title="分解关联查询"></a>分解关联查询</h3><ul>
<li>将一条关联语句分解成多条语句</li>
<li>让缓存的效率更高</li>
<li>执行单个查询可以减少锁的竞争</li>
<li>在应用层做关联可以更容易对数据库进行拆分</li>
</ul>
<h2 id="优化特定类型的查询语句"><a href="#优化特定类型的查询语句" class="headerlink" title="优化特定类型的查询语句"></a>优化特定类型的查询语句</h2><ul>
<li>count( * ) 会忽略所有列，直接统计所有列数，不要使用 count(列名)。count()在查询 &lt; 时快，查询 &gt;100 时可以用总的减去 &lt;=100。</li>
<li>group by 和 distinct 可以使用索引来优化</li>
<li>如果不需要使用 order by 进行 group by 时使用 order by null，MySQL 就不会再进行文件排序</li>
<li>优化关联查询：确定 on 或者 using 子句的列上有索引，确保 group by 和 order by 中只有一个表中的列，这样 MySQl 才有可能使用索引</li>
<li>优化子查询：用关联查询替代</li>
<li>优化 limit 分页：limit 偏移量大的时候，查询效率较低。 优化方法：<ol>
<li>从业务上解决，不允许翻过100页</li>
<li>不用offset，用条件查询,记录上次查询最大 ID，下次查询时直接根据 ID 查询</li>
</ol>
</li>
<li>优化 UNION 查询：UNION ALL 效率更高，会查询出重复的数据，但是可以在应用层筛选。 UNION 的子句要尽量具体，查询更少的行</li>
<li>union、in、or 都能够命中索引，建议使用 in。</li>
<li>min/max 优化</li>
</ul>
<h2 id="优化数据访问"><a href="#优化数据访问" class="headerlink" title="优化数据访问"></a>优化数据访问</h2><ul>
<li>改变数据库和表的结构，修改数据表的范式，冗余</li>
<li>只返回必要的列：最好不要使用 SELECT * 语句。</li>
<li>只返回必要的行：使用 LIMIT 语句来限制返回的数据。</li>
<li>缓存重复查询的数据：使用缓存可以避免在数据库中进行查询，特别在要查询的数据经常被重复查询时，缓存带来的查询性能提升将会是非常明显的。</li>
<li>是使用索引来覆盖查询</li>
</ul>
<h2 id="优化"><a href="#优化" class="headerlink" title="优化"></a>优化</h2><h3 id="索引的创建原则"><a href="#索引的创建原则" class="headerlink" title="索引的创建原则"></a>索引的创建原则</h3><ul>
<li>最适合索引的列是出现在where，on，group by，order by 子句中的列</li>
<li>尽量选择区分度高的列作为索引</li>
<li>对较小的数据列使用索引,这样会使索引文件更小,同时内存中也可以装载更多的索引键</li>
<li>索引基数越大效果越好</li>
<li>避免创建过多索引</li>
<li>主键尽可能选择较短的数据类型，可以有效减少索引的磁盘占用提高查询效率</li>
</ul>
<h3 id="独立的列"><a href="#独立的列" class="headerlink" title="独立的列"></a>独立的列</h3><p>在进行查询时，索引列不能是表达式的一部分，也不能是函数的参数，否则无法使用索引</p>
<h3 id="复合索引"><a href="#复合索引" class="headerlink" title="复合索引"></a>复合索引</h3><p>在需要使用多个列作为条件进行查询时，使用复合索引比使用多个单列索引性能更好。</p>
<h3 id="索引列的顺序"><a href="#索引列的顺序" class="headerlink" title="索引列的顺序"></a>索引列的顺序</h3><p>让选择性最强的索引列放在前面。<br>索引的选择性是指：不重复的索引值和记录总数的比值。最大值为 1，此时每个记录都有唯一的索引与其对应。选择性越高，查询效率也越高。</p>
<h3 id="对较长的字段使用前缀索引"><a href="#对较长的字段使用前缀索引" class="headerlink" title="对较长的字段使用前缀索引"></a>对较长的字段使用前缀索引</h3><p>可以节约大量索引空间<br>对于 BLOB、TEXT 和 VARCHAR 类型的列，必须使用前缀索引，只索引开始的部分字符。<br>对于前缀长度的选取需要根据索引选择性来确定。</p>
<h3 id="索引覆盖"><a href="#索引覆盖" class="headerlink" title="索引覆盖"></a>索引覆盖</h3><p>如果查询的列恰好是索引的一部分，那么查询只需要在索引文件上进行,不需要回到磁盘再找数据<br>如 <code>create index index_birthday_and_user_name on user_info(birthday, user_name);</code>,<code>select user_name from user_info where birthday = &#39;1991-11-1&#39;</code></p>
<h3 id="左前缀原则"><a href="#左前缀原则" class="headerlink" title="左前缀原则"></a>左前缀原则</h3><p>原理：比如，我们在（a,b,c）字段上创建一个联合索引，则索引记录会首先按照 A 字段排序，然后再按照 B 字段排序然后再是 C 字段。类似于查字典。<br>index(a,b,c)<br>where a=1 and b&gt;7 and c=2 只能使用a，b，b用了一半，无法使用到c（使用到范围查询和模糊查询后面的索引都用不到）<br>where a=1 and b=3 order by c 都能用上</p>
<h3 id="索引的优点"><a href="#索引的优点" class="headerlink" title="索引的优点"></a>索引的优点</h3><ul>
<li>大大减少服务器需要扫描的数据量</li>
<li>帮助服务器避免进行排序和分组，以及避免创建临时表（B+Tree 索引是有序的，可以用于 ORDER BY 和 GROUP BY 操作。临时表主要是在排序和分组过程中创建，因为不需要排序和分组，也就不需要创建临时表）。</li>
<li>将随机 I/O 变为顺序 I/O（B+Tree 索引是有序的，会将相邻的数据都存储在一起）。</li>
<li>大大提高查询速度，降低写的速度，占用磁盘</li>
</ul>
<h3 id="索引的使用条件"><a href="#索引的使用条件" class="headerlink" title="索引的使用条件"></a>索引的使用条件</h3><ul>
<li>对于非常小的表、大部分情况下简单的全表扫描比建立索引更高效；</li>
<li>对于中到大型的表，索引就非常有效；</li>
<li>但是对于特大型的表，建立和维护索引的代价将会随之增长。这种情况下，需要用到一种技术可以直接区分出需要查询的一组数据，而不是一条记录一条记录地匹配，例如可以使用分区技术。</li>
</ul>
<h3 id="索引失效的情况"><a href="#索引失效的情况" class="headerlink" title="索引失效的情况"></a>索引失效的情况</h3><ul>
<li>ASC，DESC混用</li>
<li>WHERE 字句中出现非牌组使用到的索引</li>
<li>排序列包含非同一个索引的列</li>
<li>排序列使用了复杂的表达式</li>
<li>复合索引遵循左前缀原则</li>
<li>like 查询，% 在前，索引失效，可以使用全文索引</li>
<li>如果 MySQL 估计使用索引比全表扫描更慢,会放弃使用索引</li>
<li>or 条件中的列有索引，后面的没有,索引不会被用到</li>
<li>负向条件(!=、&lt;&gt;、not in、not exists、not like 等)查询不能使用索引，可以优化为 in 查询。</li>
<li>执行计算不会命中索引</li>
<li>建立索引的列不允许为 null，column is null 可以命中索引，is not null 不能命中。</li>
<li>列的值是字符串，查询时一定要给值加引号,否则索引失效</li>
</ul>
<h3 id="伪哈希索引"><a href="#伪哈希索引" class="headerlink" title="伪哈希索引"></a>伪哈希索引</h3><ul>
<li>同时存在 url 列 hash 列，存储时 crcurl=crc32(url)</li>
</ul>
<h3 id="索引与排序"><a href="#索引与排序" class="headerlink" title="索引与排序"></a>索引与排序</h3><ul>
<li>对于覆盖索引，直接在索引上查询时，就是有序的，using index</li>
<li>在 InnoDB 引擎中，沿着索引字段排序，自然是有序的， MyISAM 引擎，如果按某索引字段排序，但取出的字段中有未索引字段的做法不是索引-&gt;回行，索引-&gt;回行，而是先取出所有行，再排序</li>
<li>线取出数据，形成临时表做 filesort</li>
</ul>
<h3 id="重复索引与冗余索引"><a href="#重复索引与冗余索引" class="headerlink" title="重复索引与冗余索引"></a>重复索引与冗余索引</h3><ul>
<li>重复索引：在同一列或者顺序相同的几个列建立多个索引</li>
<li>冗余索引：两个索引所覆盖的列有重叠，比如顺序不同</li>
</ul>
<h3 id="索引碎片与维护"><a href="#索引碎片与维护" class="headerlink" title="索引碎片与维护"></a>索引碎片与维护</h3><ul>
<li>在长期的数据更改过程中，索引文件和数据文件，都将产生空洞，形成碎片，可以通过一个不产生对数据实质影响的操作来修改表</li>
<li>或者使用 optimize table 也可以修复</li>
</ul>
<h1 id="分区"><a href="#分区" class="headerlink" title="分区"></a>分区</h1><h2 id="工作原理"><a href="#工作原理" class="headerlink" title="工作原理"></a>工作原理</h2><p>创建表时使用 partition by 子句定义每个分区存放的数据，执行查询时，优化器会根据分区定义过滤那些没有我们需要数据的分区，这样查询只需要查询所需要数据在的分区即可</p>
<h2 id="分区的使用场景"><a href="#分区的使用场景" class="headerlink" title="分区的使用场景"></a>分区的使用场景</h2><ul>
<li>表非常大，无法全部存在内存，或者只在表的最后有热点数据，其他都是历史数据</li>
<li>分区表的数据更易维护，可以对独立的分区进行独立的操作</li>
<li>分区表的数据可以分布在不同的机器上，从而高效利用资源</li>
<li>可以备份和恢复独立的分区</li>
</ul>
<h2 id="限制"><a href="#限制" class="headerlink" title="限制"></a>限制</h2><ul>
<li>一个表最多有 1024 个分区</li>
<li>5.1版本中，分区表表达式必须是整数，5.5 可以使用列分区</li>
<li>分区字段中如果有主键和唯一索引列，那么主键和唯一索引列必须包含进来</li>
<li>分区表中无法使用<strong>外键</strong>索引</li>
</ul>
<h1 id="分库分表"><a href="#分库分表" class="headerlink" title="分库分表"></a>分库分表</h1><h2 id="水平分割"><a href="#水平分割" class="headerlink" title="水平分割"></a>水平分割</h2><p>水平切分又称为 Sharding，它是将同一个表中的记录拆分到多个结构相同的表中。<br>当一个表的数据不断增多时，Sharding 是必然的选择，它可以将数据分布到集群的不同节点上，从而缓存单个数据库的压力。</p>
<h3 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h3><ul>
<li>表中的数据本身就有独立性，比如有些数据常用，有些不常用</li>
<li>需要把数据存放在多个介质上</li>
</ul>
<h3 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h3><p>给应用增加复杂度，通常查询时需要多个表名，查询所有数据都需要 UNION 操作</p>
<h2 id="垂直分割"><a href="#垂直分割" class="headerlink" title="垂直分割"></a>垂直分割</h2><h3 id="使用场景-1"><a href="#使用场景-1" class="headerlink" title="使用场景"></a>使用场景</h3><ul>
<li>一个表中某些列常用，有些不常用</li>
<li>可以使数据行变小，一个数据页能存储更多数据，查询时减少 I/O 次数</li>
</ul>
<h3 id="缺点-1"><a href="#缺点-1" class="headerlink" title="缺点"></a>缺点</h3><ul>
<li>管理冗余咧，查询所有数据需要 JOIN 操作<br>垂直切分是将一张表按列切分成多个表，通常是按照列的关系密集程度进行切分，也可以利用垂直切分将经常被使用的列和不经常被使用的列切分到不同的表中。<br>在数据库的层面使用垂直切分将按数据库中表的密集程度部署到不同的库中，例如将原来的电商数据库垂直切分成商品数据库、用户数据库等。</li>
</ul>
<h2 id="Sharding-策略"><a href="#Sharding-策略" class="headerlink" title="Sharding 策略"></a>Sharding 策略</h2><p>哈希取模：hash(key) % N；<br>范围：可以是 ID 范围也可以是时间范围；<br>映射表：使用单独的一个数据库来存储映射关系。<br>Sharding 存在的问题</p>
<ol>
<li>事务问题<br>使用分布式事务来解决，比如 XA 接口。</li>
<li>连接<br>可以将原来的连接分解成多个单表查询，然后在用户程序中进行连接。</li>
<li>ID 唯一性<br>使用全局唯一 ID（GUID）<br>为每个分片指定一个 ID 范围<br>分布式 ID 生成器 (如 Twitter 的 Snowflake 算法)</li>
</ol>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color1">MySQL</a>
        		</li>
      		 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color3">面试</a>
        		</li>
      		
		</ul>
	</div>

      
	<div class="article-category tagcloud">
		<i class="icon-book icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="/categories/MySQL//" class="article-tag-list-link color1">MySQL</a>
        		</li>
      		
		</ul>
	</div>


      
        <p class="article-more-link">
          <a class="article-more-a" href="/2019/05/11/MySQL-查询优化/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        
    </div>
</aside>




  
    <article id="post-MySQL-知识点" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/05/09/MySQL-知识点/">MySQL 知识点</a>
    </h1>
  

        
        <a href="/2019/05/09/MySQL-知识点/" class="archive-article-date">
  	<time datetime="2019-05-09T13:21:05.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2019-05-09</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h1><h2 id="整型"><a href="#整型" class="headerlink" title="整型"></a>整型</h2><p>tinyint,smallint,mediumint,int,bigint 分别使用 8，16，24，32，64位存储空间</p>
<ul>
<li>属性：unsigned</li>
<li>长度：可以为整数类型指定宽度，他不会限制值的合法范围，只会影响字符的显示个数,当长度够会默认零填充到前面 如：int(11)</li>
</ul>
<h2 id="实数类型"><a href="#实数类型" class="headerlink" title="实数类型"></a>实数类型</h2><p>float，double 为浮点类型，decimal 可以存储比bigint还大的整数，可以用于存储精确小数。<br>CPU原生支持浮点运算，但是不支持decimal类型的计算，因此decimal的计算比浮点类型需要更高的代价</p>
<h2 id="字符串类型"><a href="#字符串类型" class="headerlink" title="字符串类型"></a>字符串类型</h2><p>varchar char text blob</p>
<ul>
<li>varchar 使用1或2个额外字节记录字符串长度，列长度小于255字节，使用1个字节表示,否则用两个</li>
<li>超过 char 和 varchar 的 n 设置后，字符串会被截断</li>
<li>char 不管实际 value 都会占用 n 个字符的空间（使用空格填充），而 varchar 只会占用实际字符应该占用的字节空间</li>
<li>char 适合存储很短的字符串，或者所有值接近同一个长度</li>
<li>对于京城变更的数据，char 比 varchar 更好，char 不容易产生碎片</li>
<li>在进行存储和检索时，会保留 varchar 末尾的空格，而会删除 char 末尾的空格。</li>
<li>blob/text 查询会使用临时表,导致性能开销</li>
</ul>
<h2 id="枚举类型"><a href="#枚举类型" class="headerlink" title="枚举类型"></a>枚举类型</h2><p>内部存储的是整数</p>
<h2 id="日期和时间类型"><a href="#日期和时间类型" class="headerlink" title="日期和时间类型"></a>日期和时间类型</h2><ul>
<li>MySQL 提供了 FROM_UNIXTIME() 函数把 UNIX 时间戳转换为日期，并提供了 UNIX_TIMESTAMP() 函数把日期转换为 UNIX 时间戳。</li>
<li>timestamp 比 datetime 空间效率高</li>
<li>如果需要存储微妙，可以使用 bigint 存储</li>
</ul>
<h2 id="列属性"><a href="#列属性" class="headerlink" title="列属性"></a>列属性</h2><p>auto_increment、default、not null、zero fill</p>
<h1 id="MySQL-索引类型"><a href="#MySQL-索引类型" class="headerlink" title="MySQL 索引类型"></a>MySQL 索引类型</h1><h2 id="从数据结构角度"><a href="#从数据结构角度" class="headerlink" title="从数据结构角度"></a>从数据结构角度</h2><h3 id="B-tree-索引"><a href="#B-tree-索引" class="headerlink" title="B-tree 索引"></a>B-tree 索引</h3><ul>
<li>MyISAM，InnoDB 默认使用 btree 索引</li>
<li>在多个列上建立索引同时只能用一个</li>
<li>在多列索引上，满足左前缀原则</li>
<li>索引可以提高查询，排序，分组统计的速度</li>
<li>例子：</li>
</ul>
<ol>
<li>在商品表中有主键，goods_id,栏目列cat_id，价格price,在价格列上已经加了索引查询还是很慢</li>
<li>在实际场景中，一般都到分类下再查价格，去掉单独的price索引，加(cat_id,price)复合索引</li>
</ol>
<h4 id="B-Tree-原理"><a href="#B-Tree-原理" class="headerlink" title="B+Tree 原理"></a>B+Tree 原理</h4><h5 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h5><p>B Tree 指的是 Balance Tree，也就是平衡树。平衡树是一颗查找树，并且所有叶子节点位于同一层。每个节点由 key 和 data 组成。</p>
<p>B+ Tree 是基于 B Tree 和叶子节点顺序访问指针进行实现，它具有 B Tree 的平衡性，并且通过顺序访问指针来提高区间查询的性能。<br>每颗 B+ 数由很多页面组成，数据库系统将索引的一个节点的大小设置为页的大小。B+ 数的页面可分为</p>
<ul>
<li>叶子节点：存储记录的所有内容。</li>
<li>非叶子节点：只存储索引键和页面指针。<br><img src="http://tencentdba.com/wp-content/uploads/2014/05/1.png" alt="B+ 数结构"><br>相同层次的页面是一个双向链表连接起来的。<br>页内数据是按索引键排序的。<br>页面的任一记录的索引键值不小于其左兄弟页面的任何记录。</li>
</ul>
<h5 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h5><ul>
<li>进行查找操作时，首先在根节点进行二分查找，找到一个 key 所在的指针，然后递归地在指针所指向的节点进行查找。直到查找到叶子节点，然后在叶子节点上进行二分查找，找出 key 所对应的 data。</li>
<li>插入删除操作会破坏平衡树的平衡性，因此在插入删除操作之后，需要对树进行一个分裂、合并、旋转等操作来维护平衡性。</li>
</ul>
<h5 id="与红黑树的比较"><a href="#与红黑树的比较" class="headerlink" title="与红黑树的比较"></a>与红黑树的比较</h5><p>红黑树等平衡树也可以用来实现索引，但是文件系统及数据库系统普遍采用 B+ Tree 作为索引结构，主要有以下两个原因：</p>
<ol>
<li>更少的查找次数</li>
</ol>
<ul>
<li>平衡树查找操作的时间复杂度和树高 h 相关，O(h)=O(logdN)，其中 d 为每个节点的出度。</li>
<li>红黑树的出度为 2，而 B+ Tree 的出度一般都非常大，所以红黑树的树高 h 很明显比 B+ Tree 大非常多，查找的次数也就更多。</li>
</ul>
<ol>
<li>利用磁盘预读特性</li>
</ol>
<ul>
<li>为了减少磁盘 I/O 操作，磁盘往往不是严格按需读取，而是每次都会预读。预读过程中，磁盘进行顺序读取，顺序读取不需要进行磁盘寻道，并且只需要很短的旋转时间，速度会非常快。</li>
<li>操作系统一般将内存和磁盘分割成固定大小的块，每一块称为一页，内存与磁盘以页为单位交换数据。数据库系统将索引的一个节点的大小设置为页的大小，使得一次 I/O 就能完全载入一个节点。并且可以利用预读特性，相邻的节点也能够被预先载入。</li>
</ul>
<h3 id="hash-索引"><a href="#hash-索引" class="headerlink" title="hash 索引"></a>hash 索引</h3><ul>
<li>内存表默认使用hash索引</li>
<li>hash函数计算后的结果是随机的，在磁盘上随机放置，失去了有序性</li>
<li>不对范围查询进行优化</li>
<li>无法利用前缀索引</li>
<li>排序无法优化</li>
<li>必须回行：通过索引拿到的数据位置，必须回到表中取数据</li>
<li>InnoDB 存储引擎有一个特殊的功能叫“自适应哈希索引”，当某个索引值被使用的非常频繁时，会在 B+Tree 索引之上再创建一个哈希索引，这样就让 B+Tree 索引具有哈希索引的一些优点，比如快速的哈希查找。</li>
</ul>
<h3 id="全文索引"><a href="#全文索引" class="headerlink" title="全文索引"></a>全文索引</h3><ul>
<li>MyISAM 存储引擎支持全文索引，用于查找文本中的关键词，而不是直接比较是否相等</li>
<li>查找使用 MATCH AGAINST 而不是普通的 WHERE</li>
<li>全文索引使用倒排索引实现，它记录着关键词到其所在文档的映射</li>
<li>InnoDB 存储引擎在 MySQL5.6.4 版本中也开始支持全文索引</li>
</ul>
<h3 id="空间数据索引"><a href="#空间数据索引" class="headerlink" title="空间数据索引"></a>空间数据索引</h3><ul>
<li>MyISAM 存储引擎支持空间数据索引（R-Tree），可以用于地理数据存储。空间数据索引会从所有维度来索引数据，可以有效地使用任意维度来进行组合查询。</li>
<li>必须使用 GIS 相关的函数来维护数据。</li>
</ul>
<h2 id="从物理角度"><a href="#从物理角度" class="headerlink" title="从物理角度"></a>从物理角度</h2><h3 id="聚集索引"><a href="#聚集索引" class="headerlink" title="聚集索引"></a>聚集索引</h3><p>主索引上直接存放数据，次索引存储主键的值。</p>
<p>因为次索引存储主键的值，所以不建议使用过程的字段作为主键。</p>
<p>InnoDB 是聚簇索引。<br>优势：</p>
<pre><code>1. 查询条目比较少时，不用回到物理行找数据。
1. 辅助索引使用主键作为“指针”而不是地址值，减少了当出现行移动或者数据页分裂时辅助索引的维护工作。
</code></pre><ul>
<li>劣势：碰到不规则数据插入时，造成频繁的页分裂。</li>
</ul>
<h3 id="非聚集索引"><a href="#非聚集索引" class="headerlink" title="非聚集索引"></a>非聚集索引</h3><p>主索引和次索引一样，都保存指向物理地址的指针。</p>
<p>MyISAM是非聚簇索引。</p>
<h2 id="从逻辑角度"><a href="#从逻辑角度" class="headerlink" title="从逻辑角度"></a>从逻辑角度</h2><ul>
<li>普通索引</li>
<li>唯一索引</li>
<li>主键索引</li>
<li>组合索引</li>
<li>外键索引</li>
<li>空间索引</li>
</ul>
<h1 id="存储引擎"><a href="#存储引擎" class="headerlink" title="存储引擎"></a>存储引擎</h1><h2 id="InnoDB"><a href="#InnoDB" class="headerlink" title="InnoDB"></a>InnoDB</h2><ul>
<li>默认事务性索引</li>
<li>数据存储在共享表空间，可以通过配置分开</li>
<li>实现了四个标准的隔离级别，默认级别是可重复读（REPEATABLE READ）。在可重复读隔离级别下，通过多版本并发控制（MVCC）+ 间隙锁（Next-Key Locking）防止幻影读。</li>
<li>主索引是聚簇索引，在索引中保存数据，从而避免直接读取磁盘，对查询性能有很大的提升</li>
<li>内部做了很多优化，包括从磁盘读取数据时采用的可预测性读、能够加快读操作并且自动创建的自适应哈希索引、能够加速插入操作的插入缓冲区等。</li>
<li>对主键查询的性能高于其他类型的存储引擎</li>
<li>通过一些机制和工具支持真正的热备份</li>
<li>支持崩溃后的安全恢复</li>
<li>支持行级锁</li>
<li>支持外键</li>
</ul>
<h2 id="MyISAM"><a href="#MyISAM" class="headerlink" title="MyISAM"></a>MyISAM</h2><ul>
<li>拥有全文索引，压缩表，空间数据索引</li>
<li>不支持事务</li>
<li>不支持行级锁</li>
<li>不支持崩溃后的安全恢复</li>
<li>表存储在两个文件，MYD和MYI</li>
</ul>
<h2 id="其他表引擎"><a href="#其他表引擎" class="headerlink" title="其他表引擎"></a>其他表引擎</h2><p>Archive、Blackhole、CSV、Memory</p>
<h2 id="索引工作原理"><a href="#索引工作原理" class="headerlink" title="索引工作原理"></a>索引工作原理</h2><p>索引存储了指向表中某一行的指针</p>
<p>当某个 SQL 语句运行时，数据库会检查在查询的列上是否有索引，如果有索引，数据库会接着检查使用这个索引做查询是否合理，因为有些场景下，使用索引比全表扫描更加低效。</p>
<p>可以强制数据库使用索引</p>
<h1 id="锁机制"><a href="#锁机制" class="headerlink" title="锁机制"></a>锁机制</h1><h2 id="共享锁（读锁）和排他锁（写锁）"><a href="#共享锁（读锁）和排他锁（写锁）" class="headerlink" title="共享锁（读锁）和排他锁（写锁）"></a>共享锁（读锁）和排他锁（写锁）</h2><ul>
<li>读锁：共享，不堵塞 <code>select ... lock in share mode</code></li>
<li>写锁: 排他，堵塞 <code>select ... for update</code></li>
<li>InnoDB 引擎中的 update，delete，insert 语句自动加排他锁<h2 id="乐观锁和悲观锁"><a href="#乐观锁和悲观锁" class="headerlink" title="乐观锁和悲观锁"></a>乐观锁和悲观锁</h2></li>
</ul>
<h2 id="锁粒度"><a href="#锁粒度" class="headerlink" title="锁粒度"></a>锁粒度</h2><ul>
<li>表锁：系统性能开销最小，会锁定整张表,MyISAM使用表锁</li>
<li>行锁：最大程度的支持并发处理,但是也带来zui大的锁开销，InnoDB使用行级锁</li>
</ul>
<h1 id="存储过程"><a href="#存储过程" class="headerlink" title="存储过程"></a>存储过程</h1><p>为以后的使用而保存的一条或多条 MySQL 语句的集合。存储过程就是有业务逻辑和流程的集合</p>
<h2 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h2><ul>
<li>通过把处理封装在容易使用的单元中，简化复杂的操作</li>
<li>保证数据的一致性</li>
<li>简化对变动的管理</li>
</ul>
<h1 id="触发器"><a href="#触发器" class="headerlink" title="触发器"></a>触发器</h1><p>提供给程序员和数据分析元来保证数据完整性的一种方法，它是与表事件相关的特殊的存储过程</p>
<h2 id="使用场景-1"><a href="#使用场景-1" class="headerlink" title="使用场景"></a>使用场景</h2><ul>
<li>可通过数据库中的相关表实现级联更改</li>
<li>实时监控某张表中的某个字段的更改而需要做出相应的处理</li>
<li>某些业务编号的生成</li>
</ul>
<h1 id="安全性"><a href="#安全性" class="headerlink" title="安全性"></a>安全性</h1><ul>
<li>使用预处理防止 sql 注入</li>
<li>写入数据库的数据要进行特殊字符的转义</li>
<li>查询错误信息不返回给用户，记录到日志</li>
<li>定期数据备份</li>
<li>不给查询用户root权限</li>
<li>关闭远程访问数据库权限</li>
</ul>
<h2 id="Mysql权限管理"><a href="#Mysql权限管理" class="headerlink" title="Mysql权限管理"></a>Mysql权限管理</h2><ul>
<li>host user password 这三个信息存储在mysql.user中</li>
<li>赋予权限 grant 权限(all,create,update…) on <em>.</em> to user@’host’ identified by ‘password’</li>
<li>针对某个库授权 grant all on ecshop.* to user@’host’</li>
<li>修改用户密码 update user set password=password(‘111111’) where XXX;</li>
<li>收回权限 revoke all on <em>.</em> from user@’host’</li>
</ul>
<h2 id="事务的实现"><a href="#事务的实现" class="headerlink" title="事务的实现"></a>事务的实现</h2><ul>
<li>原子性：undo log 回滚日志</li>
<li>一致性：redo log 重做日志</li>
</ul>
<h1 id="主从复制"><a href="#主从复制" class="headerlink" title="主从复制"></a>主从复制</h1><p>在主库上把数据更改记录到二进制日志，从库将主库的日志复制到自己的中继日志，从库中读取中继日志中的事件，将其重放到从库的数据中</p>
<h2 id="工作原理"><a href="#工作原理" class="headerlink" title="工作原理"></a>工作原理</h2><ul>
<li>主服务器将用户对数据库更新的操作以二进制格式保存到 Binary Log 日志文件中，然后由 Binary Dump 线程将 Bina Log 日志文件传输给从服务器</li>
<li>从服务器通过一个 I/O 线程将主服务器的 Bina Log 日志文件中的更新操作复制到一个叫 Relay Log 的中继日志文件中</li>
<li>从服务器通过另一个 SQL 线程将 Relay Log 中继日志文件中的操作依此在本地执行<br>主要涉及三个线程：binlog 线程、I/O 线程和 SQL 线程。</li>
<li>binlog 线程 ：负责将主服务器上的数据更改写入二进制日志（Binary log）中。</li>
<li>I/O 线程 ：负责从主服务器上读取二进制日志，并写入从服务器的重放日志（Replay log）中。</li>
<li>SQL 线程 ：负责读取重放日志并重放其中的 SQL 语句。</li>
<li>数据分布：随意停止或开始复制，并在不同地理位置分布数据备份</li>
<li>负载均衡：降低单个服务器压力</li>
<li>高可用和故障切换：帮助应用程序避免单点失败</li>
<li>升级测试：可以使用更高版本的MySQL作为从库</li>
</ul>
<h2 id="解决的问题"><a href="#解决的问题" class="headerlink" title="解决的问题"></a>解决的问题</h2><ul>
<li>数据分布：随意停止或开始复制，并在不同的地理位置分布数据备份</li>
<li>负载均衡：将第三个服务器的压力</li>
<li>高可用和故障切换：帮助应用程序避免单节点失败</li>
<li>升级测试：可以使用更高版本的 MySQL 作为从库</li>
</ul>
<h2 id="读写分离"><a href="#读写分离" class="headerlink" title="读写分离"></a>读写分离</h2><p>主服务器处理写操作以及实时性要求比较高的读操作，而从服务器处理读操作。<br>读写分离能提高性能的原因在于：<br>主从服务器负责各自的读和写，极大程度缓解了锁的争用；<br>从服务器可以使用 MyISAM，提升查询性能以及节约系统开销；<br>增加冗余，提高可用性。<br>读写分离常用代理方式来实现，代理服务器接收应用层传来的读写请求，然后决定转发到哪个服务器。</p>
<h1 id="数据库缓存"><a href="#数据库缓存" class="headerlink" title="数据库缓存"></a>数据库缓存</h1><ul>
<li>极大的解决数据库服务器压力</li>
<li>提高应用数据的响应速度</li>
<li>常见的缓存形式：内存缓存，文件缓存</li>
<li>用户请求–&gt;数据查询–&gt;连接数据库服务器并查询数据–&gt;将数据缓存起来(HTML，内存，JSON，序列化数据)–&gt;显示给客户端</li>
<li>用户再次请求或新用户访问–&gt;数据查询–&gt;直接从缓存中获取数据–&gt;显示给客户端</li>
</ul>
<h2 id="MySql的查询缓存"><a href="#MySql的查询缓存" class="headerlink" title="MySql的查询缓存"></a>MySql的查询缓存</h2><ul>
<li>启用MySql查询缓存 query_cache_type 查询缓存类型，有0、1、2三个取值。</li>
</ul>
<ol>
<li>0不使用查询缓存。</li>
<li>1始终使用查询缓存。也可以关闭查询缓存 SELECT <strong>SQL_NO_CACHE</strong> * FROM my_table WHERE condition;</li>
<li>2按需使用查询缓存。 SELECT <strong>SQL_CACHE</strong> * FROM my_table WHERE condition;</li>
</ol>
<ul>
<li>query_cache_size 默认情况下为0，表示查询缓存预留的内存为0，无法使用查询缓存 可以临时更改 SEGLOBAL query_cache_size=134217728</li>
<li>查询缓存可以看做是SQL文本和查询结果的映射</li>
<li>第二次查询的SQL和第一次查询的SQL完全相同，则会使用缓存</li>
<li>SHOW STATUS LIKE ‘Qchace_hits’; 查看命中次数<br>1.表的结构或数据发生改变时，查询缓存中的数据不再有效</li>
<li>清理缓存</li>
</ul>
<ol>
<li>FLUSH QUERY CACHE;//清理查询缓存的内存碎片</li>
<li>RESET QUERY CACHE;//从查询缓存中移出所有查询</li>
<li>FLUSH TABLES;//关闭所有打开的表，同时该操作将会清空查询缓存中的内容</li>
</ol>
<h2 id="Memcache缓存查询数据"><a href="#Memcache缓存查询数据" class="headerlink" title="Memcache缓存查询数据"></a>Memcache缓存查询数据</h2><ul>
<li>方法 获取：get(key) 设置：set(key,val,expire) 删除：delete(key)</li>
<li>通用缓存机制：用查询的方法名+参数作为查询时的key value中对应的key值</li>
</ul>
<h2 id="Redis-与-Memchche-的区别："><a href="#Redis-与-Memchche-的区别：" class="headerlink" title="Redis 与 Memchche 的区别："></a>Redis 与 Memchche 的区别：</h2><ul>
<li>性能相差不大</li>
<li>Redis在2.0版本后增加了自己的VM特性，突破物理内存的限制。Memcache可以修改最大可用内存，采用LR算法</li>
<li>Redis以来客户端实现分布式读写 Memcache本身没有数据冗余机制</li>
<li>Redis支持快照、AOF，依赖快照进行持久化，aof增强了可靠性的同时，对性能有所影响</li>
<li>Memcache不支持持久化，通常做缓存，提升性能</li>
<li>Memcachche在并发场景下，用cas保证一致性，redis事务支持比较弱，只能保证事务中的每个操作连续行</li>
<li>Redis支持多种数据类型</li>
<li>Redis用于数据量较小的高性能操作和运算上</li>
<li>Memcache用于在动态系统中减少数据库负载，提升性能</li>
</ul>
<h2 id="其他缓存数据"><a href="#其他缓存数据" class="headerlink" title="其他缓存数据"></a>其他缓存数据</h2><ul>
<li>session不适合存到数据库中，可以存到内存里</li>
<li>session_set_save_handler 通过这个函数存储session</li>
</ul>
<h1 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h1><ul>
<li><a href="https://segmentfault.com/a/1190000008131735" target="_blank" rel="external">MySQL 性能优化神器 Explain 使用分析</a></li>
<li><a href="https://www.jfox.info/2017/20-tiao-mysql-xing-nen-you-hua-de-zui-jia-jing-yan.html" target="_blank" rel="external">20+条MySQL性能优化的最佳经验</a></li>
<li><a href="https://www.jianshu.com/p/43091bfa8aa7" target="_blank" rel="external">MySQL慢查询&amp;分析SQL执行效率浅谈</a></li>
<li><a href="https://blog.csdn.net/xiangwanpeng/article/details/54310955" target="_blank" rel="external">数据库索引是怎样工作的？</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/23624390" target="_blank" rel="external">深入浅出数据库索引原理</a></li>
<li><a href="http://www.uml.org.cn/sjjm/201107145.asp" target="_blank" rel="external">MySQl 索引背后的数据结构及算法原理</a></li>
<li><a href="http://tencentdba.com/blog/innodb%E9%A1%B5%E9%9D%A2%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84-1/" target="_blank" rel="external">innodb页面存储结构-1</a></li>
</ul>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color1">MySQL</a>
        		</li>
      		 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color3">面试</a>
        		</li>
      		
		</ul>
	</div>

      
	<div class="article-category tagcloud">
		<i class="icon-book icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="/categories/MySQL//" class="article-tag-list-link color1">MySQL</a>
        		</li>
      		
		</ul>
	</div>


      
        <p class="article-more-link">
          <a class="article-more-a" href="/2019/05/09/MySQL-知识点/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        
    </div>
</aside>




  
    <article id="post-收集的各种题" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/04/16/收集的各种题/">收集的各种题</a>
    </h1>
  

        
        <a href="/2019/04/16/收集的各种题/" class="archive-article-date">
  	<time datetime="2019-04-16T13:55:58.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2019-04-16</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="子类重写父类的-protected-方法有什么限制"><a href="#子类重写父类的-protected-方法有什么限制" class="headerlink" title="子类重写父类的 protected 方法有什么限制"></a>子类重写父类的 protected 方法有什么限制</h4><ul>
<li>final 修饰的类方法不可被子类重写</li>
<li>php 是否重写父类方法只会根据方法名是否一致（5.3以后参数个数必须一致）</li>
<li>重写是访问级别只可以等于或宽松于父类，不可提升访问级别<h4 id="php文件末尾是否应该加-gt-结束符号"><a href="#php文件末尾是否应该加-gt-结束符号" class="headerlink" title="php文件末尾是否应该加?&gt;结束符号"></a>php文件末尾是否应该加?&gt;结束符号</h4>主要防止 include，require 引用文件，把文件末尾可能的回车和空格等字符引用进来，还有一些函数必须在没有任何输出之前调用，就会造成不是期望的结果。PHP文件的编码不包含BOM的UTF8. 这也是PSR-2中的规范：纯PHP代码文件必须省略最后的 ?&gt; 结束标签。<h4 id="trait解决了什么痛点"><a href="#trait解决了什么痛点" class="headerlink" title="trait解决了什么痛点"></a>trait解决了什么痛点</h4></li>
<li>trait 是为类似 php 的单继承语言二准备的一种代码复用机制<h4 id="yield是什么，使用场景"><a href="#yield是什么，使用场景" class="headerlink" title="yield是什么，使用场景"></a>yield是什么，使用场景</h4></li>
<li>生成器提供了一种更容易的方法来实现简单的对象迭代</li>
<li>laravel框架的model以游标方式读取数据是，用的是yield来防止一次性读取数据太多导致内存不足的问题<h4 id="PSR是什么"><a href="#PSR是什么" class="headerlink" title="PSR是什么"></a>PSR是什么</h4></li>
<li>PSR-1 基础编码规范</li>
<li>PSR-2 编码风格规范</li>
<li>PSR-4 自动加载规范</li>
<li>PSR-7 HTTP消息基础规范<h4 id="代理透传-实际ip的概念"><a href="#代理透传-实际ip的概念" class="headerlink" title="代理透传 实际ip的概念"></a>代理透传 实际ip的概念</h4></li>
<li>代理一般会在HTTP的Header中输入三个字段<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">REMOTE_ADDR</div><div class="line">HTTP_X_FORWARDED_FOR</div><div class="line">HTTP_VIA</div></pre></td></tr></table></figure>
</li>
</ul>
<p>REMOTE_ADDR总是发送代理服务器的ip</p>
<ul>
<li>透传代理：真实ip地址会被放在HTTP_X_FORWARDED_FOR里面，HTTP_VIA也会发送，显示正在使用的代理服务器</li>
<li>匿名代理：匿名代理不会把你的真实IP写在HTTP_X_FORWARDED_FOR头里面。但是HTTP_VIA头还是透露了您正在使用一个代理服务器。</li>
<li>精英代理：精英代理只发送REMOTE_ADDR头,因此让你看起来像一个普通互联网用户不使用代理<h4 id="如何开启php异常提示"><a href="#如何开启php异常提示" class="headerlink" title="如何开启php异常提示"></a>如何开启php异常提示</h4></li>
<li>php.ini中开启display_errors设置error_reporting等级</li>
<li>运行时，使用ini_set(k,v)动态设置<h4 id="如何返回一个301重定向"><a href="#如何返回一个301重定向" class="headerlink" title="如何返回一个301重定向"></a>如何返回一个301重定向</h4><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">http_response_code(<span class="number">301</span>);<span class="comment">//或者header("HTTP/1.1 301 Moved Permanently");</span></div><div class="line">header(<span class="string">'Location: /option-a'</span>);</div><div class="line"><span class="keyword">exit</span>;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="字符串、数字比较大小的原理，注意-0-开头的8进制、0x-开头16进制"><a href="#字符串、数字比较大小的原理，注意-0-开头的8进制、0x-开头16进制" class="headerlink" title="字符串、数字比较大小的原理，注意 0 开头的8进制、0x 开头16进制"></a>字符串、数字比较大小的原理，注意 0 开头的8进制、0x 开头16进制</h4><ul>
<li>字符串比较大小，从左(高位)至右，逐个字符 ASCII 比较</li>
<li>字符串和数字比较，会先把字符串转换成数字类型，比如12se转换成12，abx转换成0，此时就不是字符的ASCII值与数字比较。0与任何不可转换成数字的字符串比较都是true</li>
<li>两个不同进制的数字比较会转成十进制比较（得出这个结论是因为我在php中直接输出其他进制数字时均显示十进制格式<h4 id="什么是面向对象？主要特征是什么？几大原则是什么？"><a href="#什么是面向对象？主要特征是什么？几大原则是什么？" class="headerlink" title="什么是面向对象？主要特征是什么？几大原则是什么？"></a>什么是面向对象？主要特征是什么？几大原则是什么？</h4></li>
<li>面向对象是程序的一种设计模式，它利于提高程序的重用性，是程序机构更加清晰</li>
<li>主要特征：封装，继承，多态</li>
<li>五大基本原则：单一职责原则，开放封闭原则，替换原则，以来原则，接口分离原则<h4 id="issset-empty-is-null的区别"><a href="#issset-empty-is-null的区别" class="headerlink" title="issset,empty,is_null的区别"></a>issset,empty,is_null的区别</h4></li>
<li>isset判断变量是否定义或者是否为空</li>
</ul>
<ol>
<li>变量存在返回true</li>
<li>变量定义不赋值返回false</li>
<li>变量赋值为null，返回false</li>
</ol>
<ul>
<li>empty判断变量的值是否为空，能转换为false的都是空，没有任何属性对象的都认为是空</li>
<li>is_null检测传入的值是否为null</li>
</ul>
<ol>
<li>定义了，赋值为null</li>
<li>定义了没有赋值</li>
<li>unset一个变量<h4 id="对于大流量网站，采用什么方法来解决访问量的问题"><a href="#对于大流量网站，采用什么方法来解决访问量的问题" class="headerlink" title="对于大流量网站，采用什么方法来解决访问量的问题"></a>对于大流量网站，采用什么方法来解决访问量的问题</h4></li>
</ol>
<ul>
<li>确认服务器硬件是否能够支持当前的流量</li>
<li>数据库读写分离，优化数据表</li>
<li>程序功能规则，禁止外部的盗链</li>
<li>控制大文件的下载</li>
<li>使用不同主机分流主要流量<h4 id="优化数据库的方法"><a href="#优化数据库的方法" class="headerlink" title="优化数据库的方法"></a>优化数据库的方法</h4></li>
<li>选取最适用的字段属性，尽可能减少定义字段宽度，尽量把字段设置NOTNULL，例如’省份’、’性别’最好适用ENUM</li>
<li>使用连接(JOIN)来代替子查询</li>
<li>适用联合(UNION)来代替手动创建的临时表</li>
<li>事务处理</li>
<li>锁定表、优化事务处理</li>
<li>适用外键，优化锁定表</li>
<li>建立索引</li>
<li>优化查询语句<h4 id="三次握手，最后一次客户端对服务器的响应如果失败了，服务器没有收到，会产生什么后果"><a href="#三次握手，最后一次客户端对服务器的响应如果失败了，服务器没有收到，会产生什么后果" class="headerlink" title="三次握手，最后一次客户端对服务器的响应如果失败了，服务器没有收到，会产生什么后果"></a>三次握手，最后一次客户端对服务器的响应如果失败了，服务器没有收到，会产生什么后果</h4></li>
<li>被黑客利用，进行DDOS攻击(<a href="https://www.jianshu.com/p/1c65840fc02d" target="_blank" rel="external">https://www.jianshu.com/p/1c65840fc02d</a>)<h2 id="HTTP缓存策略"><a href="#HTTP缓存策略" class="headerlink" title="HTTP缓存策略"></a><a href="https://juejin.im/entry/599afbe5f265da247c4ee6e3" target="_blank" rel="external">HTTP缓存策略</a></h2></li>
<li>强制缓存，响应header中有两个字段来标明失效规则（Expires/Cache-Control）</li>
<li>对比缓存，缓存标识在请求头和响应头之间进行传递，Last-Modified/If-Modified-Since<h4 id="HTTP和HTTPS的差别在哪？有什么改进和优点"><a href="#HTTP和HTTPS的差别在哪？有什么改进和优点" class="headerlink" title="HTTP和HTTPS的差别在哪？有什么改进和优点"></a>HTTP和HTTPS的差别在哪？有什么改进和优点</h4></li>
<li>HTTP 协议以明文方式发送内容，不提供任何方式的数据加密</li>
<li>HTTPS 为了数据传输的安全，HTTPS 在 HTTP 的基础上加入了 SSL/TLS 协议，依靠证书来验证服务器的身份，并未浏览器和服务器之间的通信加密</li>
<li>http 和 https 是使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443</li>
<li>https 采用混合加密机制</li>
<li>共享密钥加密/对称加密：加密和解密同用一个密钥</li>
<li>公开密钥加密/非对称加密（公钥，私钥）发送方的一方使用对方的公开密钥进行加密处理，对方收到被加密的信息后，在使用自己的私有密钥进行解密</li>
<li>HTTPS 在交换密钥环节使用公开密钥加密方式，之后建立通信交换报文阶段使用共享密钥加密方式</li>
<li>数字证书认证机构（CA）颁发的公开密钥证书：接到证书的客户端可使用数字认证机构的公开密钥，对那张证书上的数字签名进行验证，一旦验证通过就可以明确两件事：一，认证服务器的公开密钥是真实有效的数字认证机构。二，服务器的公开密钥是值得信赖的<h4 id="php垃圾回收"><a href="#php垃圾回收" class="headerlink" title="php垃圾回收"></a><a href="http://php.net/manual/zh/features.gc.collecting-cycles.php" target="_blank" rel="external">php垃圾回收</a></h4></li>
<li>在PHP5.3版本之前，PHP只有简单的基于引用计数的垃圾回收，当一个变量的引用计数变为0时， PHP将在内存中销毁这个变量，只是这里的垃圾并不能称之为垃圾。 并且PHP在一个生命周期结束后就会释放此进程/线程所占的内容，这种方式决定了PHP在前期不需要过多考虑内存的泄露问题。</li>
<li>PHP5.3中引入了更加完善的垃圾回收机制。 新的垃圾回收机制解决了无法处理循环的引用内存泄漏问题。PHP5.3中的垃圾回收机制使用了引用计数系统中的同步周期回收(Concurrent Cycle Collection in Reference Counted Systems) ，算法的基本规则：如果一个引用计数增加，它将继续被使用，当然就不再在垃圾中。如果引用计数减少到零，所在变量容器将被清除。就是说，仅仅在引用计数减少到非零值时，才会产生垃圾周期，php会把一些可能为垃圾的容器（可能根）放在一个根缓冲区中，当这个缓冲区满了就会执行垃圾回收操作。<h4 id="限流算法"><a href="#限流算法" class="headerlink" title="限流算法"></a>限流算法</h4></li>
<li>计数器算法</li>
<li>滑动窗口算法</li>
<li>漏桶算法</li>
<li>令牌桶算法<h4 id="内存泄漏和内存溢出"><a href="#内存泄漏和内存溢出" class="headerlink" title="内存泄漏和内存溢出"></a>内存泄漏和内存溢出</h4></li>
<li>内存泄漏：内存泄漏是指那些本应该回收（不再使用）的内存对象无法被系统回收的现象。</li>
<li>内存溢出：系统在为某段执行指令（程序）分配内存的时候，发现内存不足，抛出错误，这叫做内存溢出。<h4 id="定义和声明"><a href="#定义和声明" class="headerlink" title="定义和声明"></a>定义和声明</h4></li>
<li>定义创建对象并为这个对象分配了内存，声明没有分配内存。<h4 id="指针和引用"><a href="#指针和引用" class="headerlink" title="指针和引用"></a>指针和引用</h4></li>
<li>指针：指针是一个变量，只不过这个变量存储的是一个地址，指向内存的一个存储单元；而引用跟原来的变量实质上是同一个东西，只不过是原变量的一个别名而已。<h4 id="堆和栈的区别"><a href="#堆和栈的区别" class="headerlink" title="堆和栈的区别"></a><a href="https://www.jianshu.com/p/ce02402fb36b" target="_blank" rel="external">堆和栈的区别</a></h4>1、算法复杂度与初始状态无关的有：选择排序、堆排序、归并排序、基数排序。<br>2、元素总比较次数与初始状态无关的有：选择排序、基数排序。<br>3、元素总移动次数与初始状态无关的有：归并排序、基数排序。<h4 id="浏览器如何解析一个-url"><a href="#浏览器如何解析一个-url" class="headerlink" title="浏览器如何解析一个 url"></a>浏览器如何解析一个 url</h4></li>
</ul>
<ol>
<li>首先当然是浏览器红输入url地址，当你的URL编程baidu.com的时候，baidu.com是一个一级域名，那你访问一个域名的时候，在Apache或者nginx上面的配置中就会给你访问一个默认的二级域名（当你没有写完整时），这中间的过程十分的复杂，因为你直接访问baidu.com和访问<a href="http://www.baidu.com不仅仅是名字上的差别，而涉及到了一个重定向的问题" target="_blank" rel="external">www.baidu.com不仅仅是名字上的差别，而涉及到了一个重定向的问题</a></li>
<li>输入你的url地址之后，浏览器就开始好好工作了，寻找浏览器缓存（可以从浏览器缓存中取数据），系统缓存，路由器（有时候也叫DNS缓存）缓存，看看有没有缓存过这个url中的信息啊，这对于快速反应有着很大的帮助，有缓存就可以直接调用缓存了，没有的话就去访问DNS服务器吧浏览器缓存参考：点击打开链接 <a href="http://blog.csdn.net/longxibendi/article/details/41630389" target="_blank" rel="external">http://blog.csdn.net/longxibendi/article/details/41630389</a><br>DNS缓存：首先客户机将域名查询请求发送到本地DNS服务器，本地DNS服务器先在之前的记录（缓存）中查找，如果有缓存，则直接利用缓存进行解析，如果没有缓存，则进入本地的缓存的寻找。<br>本地缓存：如果本地服务器不能在本地找到缓存，则将请求发送到根域名DNS服务器（全球13台呢<br>哈哈哈）<br>本地服务器与网络服务器：本地服务器是内部局域网的设备才能访问，没有公网的IP，网络服务器<br>有公网IP，属于城域网更大的巴拉巴拉，即属于internet<br>3.请求终于来到了DNS服务器，DNS服务器将域名解析成IP地址，<br>域名解析：由于网络识别不认识什么域名，这些都是字符组合的，计算机当然不认识，IP地址就认<br>识了，域名解析就是将域名转化成ip地址<br>DNS：domain name system 域名系统<br>域名为什么存在呢，就是看一串ip地址会很难记住啊，就有了域名<br>域名结构：我们来看一个域名<br>.com 顶级域名 这是全球顶级域名<br>baidu.com 这是一级域名，一级域名就是在顶级域名前面加上一级<br><a href="http://www.baidu.com" target="_blank" rel="external">www.baidu.com</a> 这是二级域名，百度的二级域名很多，还有tieba.baidu.com等等，可以<br>上网搜一搜<br>分区 任务日志 的第 36 页<br>http://：大家基友疑问了，这不是域名吗？这是一种传输协议，还有很多其他的传输协议，就是网上<br>传输东西的时候遵循的原则<br>IP地址：互联网上面的每一台主机有一个属于自己的IP地址，用来屏蔽物理性的差异，IP地址就像现<br>实中的住址一样，有了IP就有了目标地了。<br>4.浏览器有了IP就可以找到服务器，两者之间就可以建立TCP连接，服务器需要和浏览器建立tcp三次握手<br>（打好招呼，要来一发数据了）<br>TCP连接参考点击打开链接：<a href="http://blog.163.com/hlz" target="_blank" rel="external">http://blog.163.com/hlz</a>_<br>2599/blog/static/142378474201151943414397/<br>三次握手：简化版： 甲：你瞅啥 乙：瞅你咋地 甲：不服来一发啊 甲和乙就来一发数据了。<br>参考：<a href="http://blog.csdn.net/whuslei/article/details/6667471/" target="_blank" rel="external">http://blog.csdn.net/whuslei/article/details/6667471/</a> （三次握手+四次握手）<br>5.握手成功后，就可以来一发数据了，不过首先浏览器得向服务器发送http请求（如果是http协议）和请求<br>数据包<br>http请求就是用什么版本的协议请求，请求的方式是什么，你想要什么数据，这些数据是什么格式，<br>http请求参考：<a href="http://canrry.iteye.com/blog/1331292" target="_blank" rel="external">http://canrry.iteye.com/blog/1331292</a><br><a href="http://www.cnblogs.com/loveyakamoz/archive/2011/07/22/2113614.html" target="_blank" rel="external">http://www.cnblogs.com/loveyakamoz/archive/2011/07/22/2113614.html</a><br>6.请求通过网络，服务器收到了请求，进行处理后，将需要的数据（http响应头）返回浏览器<br>有请求就要响应，那服务器通过物理地址的取数据和逻辑处理，将数据以响应头的形式返回<br>数据在网络中传输的过程十分复杂，网络中传输一共有7层，每一层数据的形式有有所差异<br>数据包网络的传输参考：<a href="http://www.tuicool.com/articles/F3Qvie3" target="_blank" rel="external">http://www.tuicool.com/articles/F3Qvie3</a><br><a href="http://www.cnblogs.com/hnrainll/archive/2012/11/07/2758191.html" target="_blank" rel="external">http://www.cnblogs.com/hnrainll/archive/2012/11/07/2758191.html</a><br>http响应头参考：<a href="http://canrry.iteye.com/blog/1331292" target="_blank" rel="external">http://canrry.iteye.com/blog/1331292</a><br>7.浏览器收到http响应头，此时就要读取数据了，进行浏览器渲染，解析html<br>来自 <a href="http://blog.csdn.net/alwanyslongjing/article/details/52601920" target="_blank" rel="external">http://blog.csdn.net/alwanyslongjing/article/details/52601920</a><h4 id="const和define-定义常量的区别"><a href="#const和define-定义常量的区别" class="headerlink" title="const和define()定义常量的区别"></a>const和define()定义常量的区别</h4></li>
</ol>
<ul>
<li>const在编译时定义常量，define()在运行时定义</li>
<li>const不能用在if语句中，define()可以</li>
<li>define()的一个常用场景是先判断常量是否已经定义再定义常量</li>
<li>const 具有更好的可读性，const是语言结构而不是函数，而且与在类中定义类常量的形式保持一致</li>
<li>const在当前的命名空间中定义常量， 而define()要实现类似效果必须在定义时传递完整的命名空间名称</li>
<li>const从PHP5.6版本开始可以把数组用作常量值，而define()在PHP7.0版本开始才支持把数组用作常量值</li>
<li>因为const是语言结构并且在编译时定义常量所以const会比define() 稍稍快一些</li>
<li>const还能被用于在类和接口中定义常量，define()只能被用于在全局命名空间中定义常量<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">FOO</span></span></div><div class="line">&#123;</div><div class="line"><span class="keyword">const</span> BAR = <span class="number">2</span>;<span class="comment">// 正确</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Baz</span></span></div><div class="line">&#123;</div><div class="line">define(<span class="string">'QUX'</span>, <span class="number">2</span>)<span class="comment">// 错误</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="如何在页面之间传递变量-至少两种方式"><a href="#如何在页面之间传递变量-至少两种方式" class="headerlink" title="如何在页面之间传递变量(至少两种方式)"></a>如何在页面之间传递变量(至少两种方式)</h4><p>GET,POST,COOKIE,SESSION，隐藏表单</p>
<h4 id="请问GET-和POST的区别是什么"><a href="#请问GET-和POST的区别是什么" class="headerlink" title="请问GET 和POST的区别是什么?"></a>请问GET 和POST的区别是什么?</h4><p>GET方法传输数据,所有的信息都会出现在URL地址中,最多只能传输1024字节，而POST可以通过表单传输大量数据,最多可以传输2M数据,可以根据需求调节.</p>
<h4 id="能够使HTML和PHP分离开使用的模板"><a href="#能够使HTML和PHP分离开使用的模板" class="headerlink" title="能够使HTML和PHP分离开使用的模板"></a>能够使HTML和PHP分离开使用的模板</h4><p>Smarty,Dwoo,TinyButStrong,Template Lite,Savant,phemplate,XTemplate</p>
<h4 id="JS表单弹出对话框函数是-获得输入焦点函数是"><a href="#JS表单弹出对话框函数是-获得输入焦点函数是" class="headerlink" title="JS表单弹出对话框函数是?获得输入焦点函数是?"></a>JS表单弹出对话框函数是?获得输入焦点函数是?</h4><p>弹出对话框: alert(),prompt(),confirm()</p>
<h4 id="php读取文件内容的几种方法和函数？"><a href="#php读取文件内容的几种方法和函数？" class="headerlink" title="php读取文件内容的几种方法和函数？"></a>php读取文件内容的几种方法和函数？</h4><p>打开文件，然后读取。Fopen() fread()<br>打开读取一次完成 file_get_contents()</p>
<h4 id="HTTP-状态中302、403、-500代码含义？"><a href="#HTTP-状态中302、403、-500代码含义？" class="headerlink" title="HTTP 状态中302、403、 500代码含义？"></a>HTTP 状态中302、403、 500代码含义？</h4><p>一二三四五原则:一 消息系列 二 成功系列 三 重定向系列   四错误系列   五 服务器端错误系列</p>
<h4 id="javascript能否定义二维数组，如果不能你如何解决？"><a href="#javascript能否定义二维数组，如果不能你如何解决？" class="headerlink" title="javascript能否定义二维数组，如果不能你如何解决？"></a>javascript能否定义二维数组，如果不能你如何解决？</h4><p>javascript不支持二维数组定义，可以用arr[0] = new array()来解决</p>
<h4 id="MySQL数据库中的字段类型varchar和char的主要区别是什么？那种字段的查找效率要高，为什么"><a href="#MySQL数据库中的字段类型varchar和char的主要区别是什么？那种字段的查找效率要高，为什么" class="headerlink" title="MySQL数据库中的字段类型varchar和char的主要区别是什么？那种字段的查找效率要高，为什么?"></a>MySQL数据库中的字段类型varchar和char的主要区别是什么？那种字段的查找效率要高，为什么?</h4><p>Varchar是变长，节省存储空间，char是固定长度。查找效率要varchar型快，因为varchar是非定长，必须先查找长度，然后进行数据的提取，比char定长类型多了一个步骤，所以效率低一些</p>
<h4 id="MYSQL取得当前时间的函数是-，格式化日期的函数是"><a href="#MYSQL取得当前时间的函数是-，格式化日期的函数是" class="headerlink" title="MYSQL取得当前时间的函数是?，格式化日期的函数是?"></a>MYSQL取得当前时间的函数是?，格式化日期的函数是?</h4><p>now(),date()</p>
<h4 id="const和define-定义常量的区别-1"><a href="#const和define-定义常量的区别-1" class="headerlink" title="const和define()定义常量的区别"></a>const和define()定义常量的区别</h4><ul>
<li>const在编译时定义常量，define()在运行时定义</li>
<li>const不能用在if语句中，define()可以</li>
<li>define()的一个常用场景是先判断常量是否已经定义再定义常量</li>
<li>const 具有更好的可读性，const是语言结构而不是函数，而且与在类中定义类常量的形式保持一致</li>
<li>const在当前的命名空间中定义常量， 而define()要实现类似效果必须在定义时传递完整的命名空间名称</li>
<li>const从PHP5.6版本开始可以把数组用作常量值，而define()在PHP7.0版本开始才支持把数组用作常量值</li>
<li>因为const是语言结构并且在编译时定义常量所以const会比define() 稍稍快一些</li>
<li>const还能被用于在类和接口中定义常量，define()只能被用于在全局命名空间中定义常量<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">FOO</span></span></div><div class="line">&#123;</div><div class="line"><span class="keyword">const</span> BAR = <span class="number">2</span>;<span class="comment">// 正确</span></div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Baz</span></span></div><div class="line">&#123;</div><div class="line">define(<span class="string">'QUX'</span>, <span class="number">2</span>)<span class="comment">// 错误</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></li>
</ul>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2019/04/16/收集的各种题/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        
    </div>
</aside>




  
    <article id="post-PHP-面试知识点" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/04/16/PHP-面试知识点/">PHP 面试知识点</a>
    </h1>
  

        
        <a href="/2019/04/16/PHP-面试知识点/" class="archive-article-date">
  	<time datetime="2019-04-16T13:53:20.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2019-04-16</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="引用变量"><a href="#引用变量" class="headerlink" title="引用变量"></a>引用变量</h1><h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p>在 php 中意味着用不同的名字访问同一个变量内容</p>
<h2 id="定义方式"><a href="#定义方式" class="headerlink" title="定义方式"></a>定义方式</h2><p>使用 &amp; 符号 </p>
<h2 id="工作原理"><a href="#工作原理" class="headerlink" title="工作原理"></a>工作原理</h2><p>COW（Copy On Write）机制：只有在 $a 或者 $b 进行修改操作，才会新开辟一块空间<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">$a = range(<span class="number">0</span>,<span class="number">1000</span>);</div><div class="line">var_dump(memory_get_usage());<span class="comment">//查看内存使用情况</span></div><div class="line"><span class="comment">//定义变量b，将a的值赋值给b</span></div><div class="line"><span class="comment">//COW机制 Copy On Write 只有在$a或者$b进行修改操作，才会新开辟一块空间</span></div><div class="line">$b = $a;<span class="comment">//此时a,b指向同一块内存空间</span></div><div class="line">$b = &amp;$a;<span class="comment">//此时修改$a也不会开辟新的空间。a，b始终指向同一块内存</span></div><div class="line">var_dump(memory_get_usage());</div><div class="line">$a = range(<span class="number">0</span>,<span class="number">1000</span>);<span class="comment">//a指向新开辟了空间</span></div><div class="line">var_dump(menory_get_usage());</div></pre></td></tr></table></figure></p>
<h2 id="zval-变量容器"><a href="#zval-变量容器" class="headerlink" title="zval 变量容器"></a>zval 变量容器</h2><p><code>xdebug_debug_zval(&#39;a&#39;);</code> 打印出变量a的结构</p>
<ul>
<li>refcount = 1 代表有一个对象指向这个内存空间</li>
<li>is_ref = 0 表示是不是引用，0 代表 false</li>
</ul>
<h2 id="unset-只会取消引用，不会销毁空间"><a href="#unset-只会取消引用，不会销毁空间" class="headerlink" title="unset 只会取消引用，不会销毁空间"></a>unset 只会取消引用，不会销毁空间</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$a=<span class="number">1</span>;</div><div class="line">$b=&amp;$a;</div><div class="line"><span class="keyword">unset</span>($b);<span class="comment">//取消b的引用</span></div><div class="line"><span class="keyword">echo</span> $a;</div></pre></td></tr></table></figure>
<h2 id="对象本身就是引用传递-不会进行空间复制，如果要复制，用-clone"><a href="#对象本身就是引用传递-不会进行空间复制，如果要复制，用-clone" class="headerlink" title="对象本身就是引用传递,不会进行空间复制，如果要复制，用 clone()"></a>对象本身就是引用传递,不会进行空间复制，如果要复制，用 clone()</h2> <figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">public</span> $name=<span class="string">'a'</span>;</div><div class="line">&#125;</div><div class="line">$p1=<span class="keyword">new</span> Person;</div><div class="line">xdebug_debug_zval(<span class="string">'p1'</span>);</div><div class="line">$p2=$p1;</div><div class="line">xdebug_debug_zval(<span class="string">'p1'</span>);<span class="comment">//refcount=2,if_ref=0</span></div><div class="line">$p2-&gt;name=<span class="string">'b'</span>;</div><div class="line">xdebug_debug_zval(<span class="string">'p1'</span>);<span class="comment">//p1的值已经被改变为b，refcount=2</span></div></pre></td></tr></table></figure>
<h2 id="写出如下程序运行的结果-bcc"><a href="#写出如下程序运行的结果-bcc" class="headerlink" title="写出如下程序运行的结果 bcc"></a>写出如下程序运行的结果 bcc</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$data=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>];</div><div class="line"><span class="keyword">foreach</span>($data <span class="keyword">as</span> $key =&gt; $val)&#123;</div><div class="line">    $val=&amp;$data[$key];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="常量及数据类型"><a href="#常量及数据类型" class="headerlink" title="常量及数据类型"></a>常量及数据类型</h1><h2 id="php的字符串的定义方式及各自区别"><a href="#php的字符串的定义方式及各自区别" class="headerlink" title="php的字符串的定义方式及各自区别"></a>php的字符串的定义方式及各自区别</h2><ul>
<li>定义方式：单引号，双引号，heredoc 和 newdoc</li>
<li>单引号不能解析变量，不能解析转义字符，效率更高</li>
<li>双引号可以解析变量，变量字符用{}包含，可以解析转义字符，可以使用.连接</li>
<li>heredoc 类似双引号，newdoc 类似于单引号，用来处理大文本</li>
</ul>
<h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><ul>
<li>三大数据类型（标量，复合，特殊）</li>
<li>浮点类型不能运用于比较运算</li>
<li>false的七种情况：0,0.0,’ ‘,’0’,false,array(),NULL,</li>
<li>超全局数组</li>
<li>NULL的三种情况：直接赋值null，未定义的变量，unset销毁的变量</li>
<li>常量：定义方式<ul>
<li>const 更快，是语言函数，可以定义类常量</li>
<li>define 是函数，不能定义类常量</li>
</ul>
</li>
</ul>
<h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><ul>
<li>@ 错误控制符，当将其放置在一个 php 表达式之前，该表达式可能将任何错误信息都忽略掉</li>
<li>运算符的优先级 由高到低 递增递减 算数运算符 大小比较 逻辑与 逻辑或 三目 赋值 and xor or</li>
<li>比较运算符 == 和 === </li>
<li>等值判断（false 的七种情况都是相等的）</li>
<li>递增递减运算符不影响 <strong>布尔值</strong></li>
<li><strong>null</strong> 递增为1</li>
</ul>
<h1 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h1><ul>
<li>foreach() 开始遍历时会对数组进行 reset() 操作，但是遍历结束后指针指向末尾</li>
<li>while(),list(),each()不会 reset()</li>
<li>switch 后面的控制表达式的数据类型只能是整性，浮点型，字符串</li>
</ul>
<h1 id="自定义函数及内部函数"><a href="#自定义函数及内部函数" class="headerlink" title="自定义函数及内部函数"></a>自定义函数及内部函数</h1><ul>
<li>变量的作用域即它定义的上下文背景，包含了 include 和 require 引入的文件</li>
<li><p>函数体内部的变量是内部变量，函数体内可以用 global 关键字来使用外部变量</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$outer = <span class="string">"str"</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span><span class="params">()</span></span>&#123;</div><div class="line">    <span class="keyword">global</span> $outer;<span class="comment">//使用外部变量</span></div><div class="line">    $GLOBALS[<span class="string">'outer'</span>];也可以用这种方式</div><div class="line"><span class="keyword">echo</span> $outer;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>默认情况下函数通过值传递，如果允许函数修改它的值，必须通过引用传递</p>
</li>
<li>include/require 语句包含文件，如果没有给出路径名，就会从 include_path 来查找，如果没找到，就从调用脚本文件所在的目录和当前工作目录下寻找</li>
<li>加载过程中未找到文件 include 会发出一条警告，require 会发出致命错误</li>
</ul>
<h2 id="static关键字"><a href="#static关键字" class="headerlink" title="static关键字"></a>static关键字</h2><ol>
<li>仅初始化一次</li>
<li>初始化时需要赋值</li>
<li>每次执行函数该值会保留</li>
<li>static 修饰的变量是局部的，仅在函数内部有效</li>
<li>可以记录函数的调用次数，从而在某些条件下终止递归</li>
</ol>
<h2 id="后期静态绑定"><a href="#后期静态绑定" class="headerlink" title="后期静态绑定"></a>后期静态绑定</h2><p>使用 self 对当前类的静态引用，取决于定义当前方法所在的类<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">who</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">echo</span> <span class="keyword">__CLASS__</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">self</span>::who();</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">who</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">echo</span> <span class="keyword">__CLASS__</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">B::test();</div><div class="line"><span class="comment">//输出 A</span></div><div class="line">``` </div><div class="line">后期静态绑定本想通过引入一个新的关键字表示运行时最初调用的类来绕过限制。简单地说，这个关键字能够让你在上述例子中调用 test() 时引用的类是 B 而不是 A。最终决定不引入新的关键字，而是使用已经预留的 <span class="keyword">static</span> 关键字。</div><div class="line">```php</div><div class="line"><span class="meta">&lt;?php</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">who</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">echo</span> <span class="keyword">__CLASS__</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">static</span>::who(); <span class="comment">// 后期静态绑定从这里开始</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">who</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">echo</span> <span class="keyword">__CLASS__</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">B::test();</div><div class="line"><span class="comment">//输出 B</span></div></pre></td></tr></table></figure></p>
<h1 id="文件及目录处理"><a href="#文件及目录处理" class="headerlink" title="文件及目录处理"></a>文件及目录处理</h1><ul>
<li>fopen()函数 用来打开一个文件,打开时需要指定打开模式</li>
<li>写入函数 fwrite() fputs()</li>
<li>读取函数 fread() fgets() fgetc()</li>
<li>关闭函数 fclose() </li>
<li>遍历目录<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">loopDir</span><span class="params">($dir)</span></span>&#123;</div><div class="line">$handle=opendit($dir);</div><div class="line"><span class="keyword">while</span>(<span class="keyword">false</span>!==($file=readdir($handle)))&#123;</div><div class="line">    <span class="keyword">if</span>($file!=<span class="string">'.'</span>&amp;&amp;$file!=<span class="string">'..'</span>)&#123;</div><div class="line">        <span class="keyword">echo</span> $file;</div><div class="line">        <span class="keyword">if</span>(filetype($dir.<span class="string">'/'</span>.$file)==<span class="string">'dir'</span>)&#123;</div><div class="line">            loopDir(filetype($dir.<span class="string">'/'</span>.$file);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="php-运行原理"><a href="#php-运行原理" class="headerlink" title="php 运行原理"></a>php 运行原理</h1><ul>
<li>CGI：解决 php 解释器和服务器之间通信</li>
<li>FastCGI：是一种协议每次处理完进程不会 kill 掉，而是保留，使这个进程一次处理多个请求</li>
<li>PHP-FPM：提供了FastCGI的实现，是 FastCGI 的进程管理器，有 master 进程和 worker 进程，master 进程只有一个，负责监听端口，接收来自服务器的请求，worker 进程有多个，可以在 php-fpm 配置，每个进程内部嵌入 php 解析器，worker 负责处理代码，master 监听端口。</li>
</ul>
<h1 id="会话控制技术"><a href="#会话控制技术" class="headerlink" title="会话控制技术"></a>会话控制技术</h1><h2 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h2><ul>
<li>setcookie($name,$value,$exppire,$path,$domain,$secure)</li>
<li>$_COOKIE 只读 无法unset</li>
<li>删除 cookie setcookie($name,’’,time()-1000)</li>
</ul>
<h2 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h2><ul>
<li>session_start()</li>
<li>$_SESSION</li>
<li>删除session $_SESSION=[]</li>
<li>销毁session  session_destory()</li>
<li><p>配置 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">//垃圾回收</div><div class="line">session.gc_probability=1</div><div class="line">session.gc_divisor=100</div><div class="line">session.gc_maxlifetime=1440</div><div class="line"></div><div class="line">session.save_handler//可以配置存储句柄 redis memcached</div></pre></td></tr></table></figure>
</li>
<li><p>如果cookie被禁用 <code>&lt;a href=&quot;1.php?&lt;?php echo SID;?&gt;&quot;&gt;下个页面&lt;/a&gt;</code></p>
</li>
</ul>
<h1 id="框架原理"><a href="#框架原理" class="headerlink" title="框架原理"></a>框架原理</h1><ul>
<li>Model View Controller</li>
<li>单一入口的工作原理：用一个程序文件处理所有的 HTTP 请求，根据请求时的参数的不同区分不同模块和操作的请求<br>index.php?r-user/reg =&gt; new user(); 调用 reg方法 <ul>
<li>优势：可以进行统一的安全性检查，集中处理程序</li>
<li>劣势：URL 不美观（URL 重写），处理效率稍低</li>
</ul>
</li>
<li>模板引擎的理解：PHP 是一种 HTML 内嵌式的在服务端执行的脚本语言，但是 PHP 有很多使 PHP 代码和 HTML 代码分开的模板引擎</li>
<li>模板引擎的工作原理就是一个庞大的正则表达式库</li>
<li>php 框架的差异和优缺点：Laravel 和 ThinkPHP</li>
<li>框架特性</li>
</ul>
<h2 id="php7-新特性"><a href="#php7-新特性" class="headerlink" title="php7 新特性"></a>php7 新特性</h2><ul>
<li>?? NULL 合并运算符</li>
<li>&lt;=&gt; 组合比较符</li>
<li>函数返回值类型声明</li>
<li>标量类型声明</li>
<li>try…catch 增加多条件判断，更多 Error 错误可以进行异常处理</li>
<li>增加了匿名类，现在支持通过 new class 来实例化一个匿名类，这可以用来替代一些 “用后即焚” 的完整类定义类</li>
<li>define 定义常量数组</li>
<li>Unicode codepoint 转译语法</li>
<li>为 unserialize() 提供过滤</li>
<li>Throwable 接口</li>
<li>use 批量声明</li>
</ul>
<h3 id="为什么-PHP7-比-PHP5-性能提升了"><a href="#为什么-PHP7-比-PHP5-性能提升了" class="headerlink" title="为什么 PHP7 比 PHP5 性能提升了"></a>为什么 PHP7 比 PHP5 性能提升了</h3><ul>
<li>变量存储字节减小，减少内存占用，提升变量操作速度</li>
<li>改善数据结构，数组元素和 hash 映射表被分配在同一块内存里，降低了内存占用、提升了 cpu 缓存命中率</li>
<li>改进了函数的调用机制，通过优化参数传递的环节，减少了一些指令，提高执行效率</li>
</ul>
<h3 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h3><ul>
<li>PHP7中更多的Error变为可捕获的Exception返回给开发者，如果不进行捕获则为Error，如果捕获就变为一个可在程序内处理的Exception。默认情况下，Error会直接导致程序中断，而PHP7则通过try / catch程序块捕获并且处理，让程序继续执行下去，为程序员提供更灵活的选择。</li>
</ul>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
		<i class="icon-book icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="/categories/PHP//" class="article-tag-list-link color4">PHP</a>
        		</li>
      		
		</ul>
	</div>


      
        <p class="article-more-link">
          <a class="article-more-a" href="/2019/04/16/PHP-面试知识点/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        
    </div>
</aside>




  
    <article id="post-PHP-底层原理" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/04/16/PHP-底层原理/">PHP 底层原理</a>
    </h1>
  

        
        <a href="/2019/04/16/PHP-底层原理/" class="archive-article-date">
  	<time datetime="2019-04-16T13:52:55.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2019-04-16</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="生命周期和-Zend-引擎"><a href="#生命周期和-Zend-引擎" class="headerlink" title="生命周期和 Zend 引擎"></a>生命周期和 Zend 引擎</h2><p>SAPI 指的是 PHP 集体应用的编程接口，脚本执行的开始都是以 SAPI 接口实现开始的</p>
<h2 id="SAPI-概述"><a href="#SAPI-概述" class="headerlink" title="SAPI 概述"></a>SAPI 概述</h2><h2 id="PHP-脚本的执行"><a href="#PHP-脚本的执行" class="headerlink" title="PHP 脚本的执行"></a>PHP 脚本的执行</h2><ul>
<li>php 虽然是一个脚本语言。但不是靠解释器解释，而是 zend 虚拟机，屏蔽了操作系统的区别。</li>
<li>php 代码编译成 opcode，用 zend 虚拟机来执行 opcode，php 脚本一结束，opcode 就清除了</li>
<li>php 本身不支持缓存，但是 apc，xcache 等加速器，实现了这样的效果</li>
</ul>
<h2 id="执行过程"><a href="#执行过程" class="headerlink" title="执行过程"></a>执行过程</h2><p>Opcode 是一种 php 脚本编译后的中间语言</p>
<ul>
<li>Scanning（Lexing），将 php 代码转换为语言片段（Tokens）</li>
<li>parsing，将 Tokens 转换成简单而有意义的表达式</li>
<li>Compilation，将表达式编译成 Opcodes</li>
<li>Execution，顺次执行 Opcodes，每次一条，从而实现 PHP 脚本的功能</li>
</ul>
<h2 id="变量的底层实现"><a href="#变量的底层实现" class="headerlink" title="变量的底层实现"></a>变量的底层实现</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">struct</span> _zval_struct&#123;</div><div class="line">    <span class="keyword">union</span> &#123;</div><div class="line">        <span class="keyword">long</span> lval;</div><div class="line">        <span class="keyword">double</span> dval;</div><div class="line">        <span class="keyword">struct</span>&#123;</div><div class="line">            <span class="keyword">char</span> *val;</div><div class="line">            <span class="keyword">int</span> len;<span class="comment">//字符串长度</span></div><div class="line">        &#125;str;</div><div class="line">        HashTable *ht;</div><div class="line">        zend_object_value obj;</div><div class="line">        zend_ast *ast;</div><div class="line">    &#125;value;</div><div class="line">    <span class="comment">//变量的值，是个联合体</span></div><div class="line">    zend_uint refcount_gc <span class="comment">//指向次数</span></div><div class="line">    zend_uchar type <span class="comment">//变量类型</span></div><div class="line">    zend_uchar is_ref_gc <span class="comment">//是否引用</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>在php中，字符串长度直接体现在其结构体中。strlen速度非常快</li>
</ul>
<h2 id="PHP-中有-8-种数据类型，为什么联合体中只有-5-种"><a href="#PHP-中有-8-种数据类型，为什么联合体中只有-5-种" class="headerlink" title="PHP 中有 8 种数据类型，为什么联合体中只有 5 种"></a>PHP 中有 8 种数据类型，为什么联合体中只有 5 种</h2><ol>
<li>NULL，直接 zval-&gt;type=IS_NULL 就可以表示，不必设置 value 的值。</li>
<li>BOOL，zval-&gt;type=IS_BOOL,再设置 lval=1/0。</li>
<li>Resource，资源型，往往是服务器上打开的一个接口，lval=服务器上打开的接口的编号。</li>
</ol>
<h2 id="符号表"><a href="#符号表" class="headerlink" title="符号表"></a>符号表</h2><p>符号表是一张哈希表 里面存储了变量名 -&gt; 变量的 zval 结构体的地址。</p>
<p>在传值赋值时，以 <code>$a=3;$b=$a;</code>  为例，并没有再次产生结构体，而是两个变量共用一个结构体，refcount_gc 值为 2。</p>
<p>a，b 指向同一结构体，修改其中一方时，结构体会分裂成两个，这种特点称为 cow（copy on write）。</p>
<p>引用时，if_ref_gc=1,说明这个变量是引用，共用一个结构体，修改时直接改这个结构体的值，不分裂。</p>
<p>如果 <code>$a=3;$b=$a; $c=&amp;$a;</code> 会强制分裂，b分裂一份结构体。</p>
<p>数组的 zvalue 里面存放的是指针，指向哈希表，哈希表里面就是数组的键和存放数组值的 zval<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$arr=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</div><div class="line">$tmp=$arr;</div><div class="line">$arr[<span class="number">1</span>]=<span class="number">11</span>;<span class="comment">//$tmp[1]=1</span></div></pre></td></tr></table></figure></p>
<p>此时发生了分裂，数组的一号单元产生了一个新的结构体，但是0，2，3对应的还是同一个结构体<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$arr=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</div><div class="line">$x=&amp;$arr[<span class="number">1</span>];</div><div class="line">$tmp=$arr;</div><div class="line">$arr[<span class="number">1</span>]=<span class="number">11</span>;<span class="comment">//$tmp[1]=11</span></div></pre></td></tr></table></figure></p>
<p>此时强制分裂失效</p>
<h2 id="弱类型的实现"><a href="#弱类型的实现" class="headerlink" title="弱类型的实现"></a>弱类型的实现</h2><h2 id="foreach"><a href="#foreach" class="headerlink" title="foreach"></a>foreach</h2><ul>
<li>foreach 循环后，数组指针停留在数组结尾</li>
<li>foreach 操作的是 arrcopy，是 arr 的复制</li>
</ul>
<h2 id="符号表与作用域"><a href="#符号表与作用域" class="headerlink" title="符号表与作用域"></a>符号表与作用域</h2><ul>
<li>当执行函数时，会生成函数的“执行环境结构体”，包含函数名，参数，执行步骤，所在的类，以及为这个函数生成一个符号表，符号表统一放在栈上，并把active_symbol_table指向刚产生的符号表，这个结构体是_zend_execute_data{}结构体，这个结构体中，有两个重要信息</li>
<li>*op_array 是函数的执行步骤</li>
<li>*hash_table–&gt;symbol_table 这个函数对应的符号表</li>
<li>静态变量 放在op_array里，函数无论调用多少次。op_array只有一个，所以操作的是共同的变量<h2 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h2></li>
<li>define，值为对象时，会把对象转成标量来存储，需要__toString魔术方法</li>
<li>常量的符号表只有一个，所以全局有效，变量，每调用一次，生成一个独立的符号表<h2 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h2></li>
<li>对象存储在 handle 里，handle 指向 hash 表中的对象<h2 id="垃圾回收"><a href="#垃圾回收" class="headerlink" title="垃圾回收"></a>垃圾回收</h2>PHP 5.3 版本之前都是采用引用计数的方式管理内存，PHP 所有的变量存在一个叫 zval 的变量容器中，当变量被引用的时候，引用计数会 + 1，变量引用计数变为 0 时，PHP 将在内存中销毁这个变量。</li>
</ul>
<p>但是引用计数中的循环引用，引用计数不会消减为 0，就会导致内存泄露。<br>而php中内存对象就是zval，而计数器就是refcount__gc。</p>
<ul>
<li>循环引用问题：<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$a=<span class="keyword">array</span>(<span class="string">"one"</span>);</div><div class="line">$a[]=&amp;$a;</div><div class="line"><span class="keyword">unset</span>($a);</div></pre></td></tr></table></figure>
</li>
</ul>
<p>在 5.3 版本之后，做了这些优化：</p>
<ol>
<li>并不是每次引用计数减少时都进入回收周期，只有根缓冲区满额后在开始垃圾回收；</li>
<li>可以解决循环引用问题；</li>
<li>可以总将内存泄露保持在一个阈值以下。</li>
</ol>
<p>有几个基本准则：</p>
<ol>
<li>如果一个 zval 的 refcount 增加，那么此 zval 还在使用，不属于垃圾</li>
<li>如果一个 zval 的 refcount 减少到 0，那么 zval 可以被释放掉，不属于垃圾</li>
<li>如果一个 zval 的 refcount 减少之后大于 0，那么此 zval 还不能被释放，此 zval 可能成为一个垃圾。</li>
</ol>
<p>新的GC算法目的就是防止循环引用的变量引起内存泄露问题。在PHP中GC算法，当节点缓冲区满了之后，垃圾分析算法就会启动，并且会释放掉发现的垃圾，从而回收内存。<br>首先PHP会分配一个固定大小的“根缓冲区”，这个缓冲区用于存放固定数量的zval，这个数量默认是10,000，如果需要修改则需要修改源代码Zend/zend_gc.c中的常量GC_ROOT_BUFFER_MAX_ENTRIES然后重新编译。<br>由上文我们可以知道，一个zval如果有引用，要么被全局符号表中的符号引用，要么被其它表示复杂类型的zval中的符号引用。因此在zval中存在一些可能根（root）。这里我们暂且不讨论PHP是如何发现这些可能根的，这是个很复杂的问题，总之PHP有办法发现这些可能根zval并将它们投入根缓冲区。<br>当根缓冲区满额时，PHP就会执行垃圾回收，此回收算法如下：</p>
<ol>
<li>对每个根缓冲区中的根zval按照深度优先遍历算法遍历所有能遍历到的zval，并将每个zval的refcount减1，同时为了避免对同一zval多次减1（因为可能不同的根能遍历到同一个zval），每次对某个zval减1后就对其标记为“已减”。</li>
<li>再次对每个缓冲区中的根zval深度优先遍历，如果某个zval的refcount不为0，则对其加1，否则保持其为0。</li>
<li>清空根缓冲区中的所有根（注意是把这些zval从缓冲区中清除而不是销毁它们），然后销毁所有refcount为0的zval，并收回其内存。</li>
</ol>
<h2 id="相关文章"><a href="#相关文章" class="headerlink" title="相关文章"></a>相关文章</h2><ul>
<li><a href="http://www.php-internals.com/book/" target="_blank" rel="external">TIPI 深入理解 PHP 内核</a></li>
<li><a href="http://www.laruence.com/2018/04/08/3170.html" target="_blank" rel="external">深入理解PHP7内核之zval</a></li>
<li><a href="https://segmentfault.com/a/1190000013893628" target="_blank" rel="external">内存管理与垃圾回收</a>(<a href="https://www.jianshu.com/p/63a381a7f70c" target="_blank" rel="external">https://www.jianshu.com/p/63a381a7f70c</a>)</li>
</ul>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
		<i class="icon-book icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="/categories/PHP//" class="article-tag-list-link color4">PHP</a>
        		</li>
      		
		</ul>
	</div>


      
        <p class="article-more-link">
          <a class="article-more-a" href="/2019/04/16/PHP-底层原理/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        
    </div>
</aside>




  
    <article id="post-春招面经" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/04/14/春招面经/">春招面经</a>
    </h1>
  

        
        <a href="/2019/04/14/春招面经/" class="archive-article-date">
  	<time datetime="2019-04-14T06:51:54.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2019-04-14</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>从二月底到现在，投了一堆乱七八糟的，也没有收到几个面试，双非渣本就是这么惨。再加上学的是 PHP，看大部分后端要的都是 JAVA ，还有一部分 Python，PHP少得可怜，简直扎心。感觉 bat 级别的公司真的不是这么好混过去的，但是给我面试过的面试官人都很不错，其他难度都感觉还行，不算太难，但是前期经验不足，大厂就是一轮游，后来总结了很多想了很多，可惜再也没有面试的机会了，笔试了几个，一个也没过。。上个礼拜面试通过了一家，本想着继续再试试别的，发现还真的没有机会了，不管怎么说暂时是有着落了，一共面试了6家公司，拿了两个offer，感觉不好也不坏，自己的运气还是可以的。我自己的心理素质是真的很差很差，面个试感觉跟送死一样，这一个月间真的很难受，每天提心吊胆的。</p>
<h2 id="地平线"><a href="#地平线" class="headerlink" title="地平线"></a>地平线</h2><p>实习僧上投递的，面试的第一家公司，那个时候刚好在北京，就现场去了，第一次面试真的很紧张而且菜到不行，就算这样还是给了二面的机会感觉真的很感谢面试官了，然后最后当然还是挂了。面试体验挺不错的，面试官人都很好，刚到的时候工作人员还给我倒了一杯水。现场面试会直接用面试官的电脑写代码，还有看一段代码来解释，后来的电话面试都没有。一面和二面问的问题都写一起了。</p>
<ol>
<li>用过什么框架，讲一下 laravel 框架用到的设计模式，依赖注入解决的问题</li>
<li>设计一个存储几千份邮件的方案，答案是设计一个哈希表</li>
<li>问有没有了解布隆过滤器</li>
<li>手写单例模式</li>
<li>手写一个排序算法</li>
<li>数据库查询优化，索引方面的问题</li>
<li>数据库的事务如何实现</li>
<li>Redis 有哪些数据结构，应用场景</li>
<li>因为项目里写用到了 Elasticsearch，所以简单问了下用在什么地方，为什么快</li>
</ol>
<h2 id="小米"><a href="#小米" class="headerlink" title="小米"></a>小米</h2><p>也是实习僧投递的，第二天面试官就约了时间面试了，一面面的挺差的，问的都是基础，但是就是没有复习到，几乎都忘了，答不出来，也不知道这样的我是怎么过的。面试刚结束，面试官就发微信问我是不是紧张了，然后还给我提出了一些建议，真的人好好啊，一两个小时后又通知我过了，还说二面的面试官是女孩子叫我不要紧张(然而后来电话打来还是个男的)，真的太贴心了。由于二面问到的问题正好都有了解到，答的还可以就直接通过了。这也是我收到的第一个实习offer，但是由于时间问题，没能去成，当时真的好气，因为感觉面试太太太痛苦了，以为自己找到一个自认为还可以的实习就不用继续了，看来还是没有这么简单。</p>
<h3 id="一面"><a href="#一面" class="headerlink" title="一面"></a>一面</h3><ol>
<li>字符串 abcdef 怎么截取后面两位 substr()</li>
<li>查找一个字符串中字符出现的位置 strpos()，如果没有找到，返回值是什么</li>
<li>Redis 的基本操作，字符串类型，incr()，说看我用 redis 做了队列，那说说链表的基本操作</li>
<li>给了一个场景（记不清了），叫我说出sql语句，我就答到了连接，然后面试官说要用左连接，效率比较高</li>
<li>项目的商品表怎么设计的</li>
<li>数据库连接 PDO</li>
<li>算法，说思路 二叉树中序遍历 快排 判断链表是否有环</li>
</ol>
<h3 id="二面"><a href="#二面" class="headerlink" title="二面"></a>二面</h3><ol>
<li>在一个学生信息成绩表查询出单科成绩最高分和最低分<br>我说order by score limit 1,面试官说我这样要写两条sql语句，能不能用一条，max，min</li>
<li>说我这个项目查询课表的功能如果人太多的话查不出来怎么办<br> 我说缓存，用redis。问我缓存到什么数据结构里，我说字符串类型就可以了吧。然后问我有没有用过 zset，说下什么地方用到的，我想了想，说比如用户有发微博的功能，把微博存进去（之前看十八哥的微博项目视频看到了。自己也写了，但是记不太清，就随便说了）。</li>
<li>说一下 web 请求页面的过程</li>
<li>TCP三次握手</li>
<li>php 如何跟 nginx 交流，cgi,php-fpm,fasicgi</li>
<li>php 垃圾回收机制</li>
<li>说说常用的字符串函数，数组函数</li>
<li>说说常用的linux命令 </li>
<li>如果系统正在运行，日志文件不断的写，tail 输出会怎么样<br> tail -f laravel.log 使用 -f 循环查看文件内容，可以自动刷新日志</li>
<li>看我这个项目用到了laravel框架，说一下开发的时候用到了哪些类</li>
<li>登录功能怎么实现</li>
<li>session 和 cookie 的区别，浏览器禁用 cookie，session 还能用吗</li>
</ol>
<h2 id="腾讯"><a href="#腾讯" class="headerlink" title="腾讯"></a>腾讯</h2><p>牛客找人内推的，想着反正提前批挂了正式批还是可以笔试的还有机会。然而实际上我笔试很菜，根本过不了，一面挂了也没人捞我。看网上好多面经都问基础，我就使劲看，结果几乎都在怼项目，然后后面还问了些别的，感觉大厂的面试官真的，很有水平，不是问些套路性的问题，会结合项目，问你用到了什么技术，要看你自己的发挥，会不会把面试官引到自己擅长的点上，可惜我，不会，全程作死。一面挂。总之面试中问到一个点，会一直深入问，不是说把那些只是背下来就完了，会结合场景，比如什么什么这时候怎么办。。</p>
<ol>
<li>问项目，订单的实现的过程，订单表的设计（问得很详细，一直问，然而我订单表用到的字段记不太清了，好多重要的都没想起来）</li>
<li>项目大流量怎么优化，缓存。从数据访问层优化，不怎么会（以前看过来着，给忘了）</li>
<li>项目里用到了 elasticsearch，用在什么地方，怎么用的。（又一波作死，对 elasticsearch 不是特别熟）</li>
<li>安全，xss 攻击，csrf 攻击，sql 注入</li>
<li>问项目开发流程，和前端怎么配合的，我提到用了docker，问 dockerfile 是自己写的么，不是。那有没有配置那种一条命令直接启动的，没有。</li>
<li>问项目的 nginx 是我配的么，问了一个场景，就是访问到 jpg，png 还有其他结尾的图片时进行匹配然后做处理，我说了用 location 然后给出详细配置，又问如果访问其他结尾的图片的时候要全部改成 gif 结尾来处理怎么办，我就说了正则替换什么的。。我不知道 nginx 中怎么处理（后来查了下，用 rewrite），然后就问我如果是在 php 中，要怎么进行正则替换。 </li>
</ol>
<h2 id="滴滴"><a href="#滴滴" class="headerlink" title="滴滴"></a>滴滴</h2><p>总体不是很难，但是自己答的不够好吧，一面挂。</p>
<ol>
<li>如果两个应用在不同的服务器上怎么通信<br> 真想打死自己，想不起来怎么答。然后面试官说 api。。这么简单我都想不到，真是想死。</li>
<li>RESTFul api 了解吗，特点，状态码</li>
<li>说下单例模式怎么写的，然后说 php 都是单线程的，如果是多线程语言怎么办。emmm，加锁？</li>
<li>开发用到了 git 吧，怎么用的，多人合作 git 冲突怎么解决</li>
<li>linux 文件查找的命令有哪些，如果要查看一个日志文件，但是内容很大，怎么查看找到想要的内容</li>
<li>发一百万封邮件如何提高速度</li>
<li>项目相关的问题，异步队列怎么实现</li>
</ol>
<h2 id="阿里"><a href="#阿里" class="headerlink" title="阿里"></a>阿里</h2><p>其实本来不想投，阿里几乎用的是 JAVA，我除非其他条件很好才会要我吧，但是群里正好有个老哥在到处内推，我就抱着体验的心态投了，后来才发现我投的阿里云是非常非常难进的部门，里面都是神仙😭，真的想不到这么垃圾的我如何过的简历筛选。阿里的面试官真的好有礼貌好亲切啊，开头自己介绍了一下。然后面试，面试的时候，几乎就是逮着一个点深入的问，我随便问问就给问倒了，那个礼拜我感觉特别挫败，面试前完全是个废人，但是面试的时候很平静，已经佛了。面完面试官问我有什么想问的，我知道自己绝对不可能过，也不知道问什么，就随便问他对我有啥建议，人家就说了下阿里几乎是用 JAVA 的，腾讯和百度用 php 比较多，然后说要多关注下大流量分布式啥的。唉，面完好想哭，觉得自己就是个废人，好想去和这些大佬做同事啊。</p>
<ol>
<li>数据库有哪些索引， 索引怎么建，联合索引的问题，如果在 abc 三个字段上分别建立索引查询时用到的是哪一个，如果是 ab 和 ac 和 bc 都要用索引，索引怎么建</li>
<li>用 redis 做缓存，如何保证数据是最新的，如果几个人同时更改数据怎么办，数据库的数据更改了没有同步到 redis 里怎么办<br> 后来自己查的资料：<a href="https://www.jishuwen.com/d/2Cau" target="_blank" rel="external">缓存污染</a> 实时更新：MySQL binlog 增量订阅消费+消息队列+处理并把数据更新到 redis</li>
<li>项目难点，怎么分工，设计</li>
<li>linux 命令，查看 nginx 查看线程</li>
<li>nginx 的特点，为什么用 nginx，和 apache的区别，为什么 nginx 性能更好（答nginx 用的epoll，apache 用的 select），然后又问 select 和 epoll 的区别</li>
<li>近期有什么打算，学什么<br>我说自己一直从事后端开发，学下别的语言，比如 go，但是不想学前端，问为什么，我说我比较想专注于一个领域吧，同时学很多可能学不精。。</li>
</ol>
<h2 id="借贷宝"><a href="#借贷宝" class="headerlink" title="借贷宝"></a>借贷宝</h2><p>牛客网内推，也是第二天就接到 hr电话了，感觉态度也很好，面试官也还不错，面试难度中等，问题都比较套路，背背知识点可以过，平时多积累。面完十分钟 hr 就通知我过了，感觉效率挺高的。二面就问了三个问题，才问了十分钟就，结束了，问我有啥想问的。感觉 hr 比较热情，实习待遇也还可以。</p>
<h3 id="一面-1"><a href="#一面-1" class="headerlink" title="一面"></a>一面</h3><ul>
<li>php 获取昨天的日期</li>
<li>数组去重的函数</li>
<li>mysql 联合索引，联合索引的原理</li>
<li>浏览器输入地址后请求的过程，浏览器做了什么</li>
<li>tcp 三次握手，三次握手的原因<br>  关于这个我纠结了很久，我之前就看过这个问题，并且看到的回答是防止失效的报文到达服务器，我仔细的说了两遍，面试官说不对，是因为 tcp 是全双工通信。</li>
<li>算法（只说思路） 链表环的入口节点 二叉树两个子节点寻找最近父节点 数组中重复的数字</li>
<li>laravel 框架的原理，用到的设计模式，什么是依赖注入</li>
<li>如何让实现类的动态加载</li>
<li>如何实现框架中的路由功能</li>
<li>看什么书</li>
</ul>
<h3 id="二面-1"><a href="#二面-1" class="headerlink" title="二面"></a>二面</h3><ul>
<li>说下 php 底层原理（自己讲，知道多少讲多少）</li>
<li>Nginx 配置，upstream 的作用，location，rewrite 的作用</li>
<li>MySQL InnoDB 和 MyISAM 的区别，聚簇索引和非聚簇索引，非聚簇索引里如果有多个索引，是一个索引一个文件还是只有一个索引文件</li>
<li>如何实现单点登陆 </li>
</ul>
<h2 id="京东"><a href="#京东" class="headerlink" title="京东"></a>京东</h2><ul>
<li>介绍项目</li>
<li>api 怎么设计的</li>
<li>php 怎么合并两个数组</li>
<li>分割字符串的函数</li>
<li>MySQL 外键关联有几种</li>
<li>左连接 右连接 不注明的话是什么连接</li>
<li>场景设计，京东下面有很多 app，app下有很多子模块，子模块要读取配置，怎么设计表</li>
<li>linux 怎么文件夹下查找 .php 结尾的文件<br>  find . -name *.php -ls</li>
<li>怎么在文件夹下查找包含 123 字符的 php 文件<br>  grep “123” *.php</li>
<li>问我还会啥语言 c++，java</li>
<li>c++ 和 c 有啥区别，虚函数是什么，多态是什么</li>
<li>c++ 和 java 对比有什么优缺点</li>
<li>垃圾回收机制了解吗</li>
</ul>
<h2 id="腾讯-1"><a href="#腾讯-1" class="headerlink" title="腾讯"></a>腾讯</h2><ul>
<li>将字符串格式的时间转换为标准时间格式</li>
<li>两个表，员工和部门，查询出各个部门薪水最高的</li>
<li>进程和线程的区别</li>
<li>wait() 和 sleep() 的区别</li>
<li>tcp三次握手四次挥手</li>
<li>https 加密的过程</li>
<li>设计模式 工厂模式的作用</li>
<li>项目中队列的用途</li>
<li>es 排序怎么做</li>
<li>linux 杀死进程的命令 改变文件权限的命令</li>
</ul>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color3">面试</a>
        		</li>
      		 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color3">题目</a>
        		</li>
      		
		</ul>
	</div>

      

      
        <p class="article-more-link">
          <a class="article-more-a" href="/2019/04/14/春招面经/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        
    </div>
</aside>




  
    <article id="post-PHP-基础知识" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/04/10/PHP-基础知识/">PHP 基础</a>
    </h1>
  

        
        <a href="/2019/04/10/PHP-基础知识/" class="archive-article-date">
  	<time datetime="2019-04-10T12:36:32.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2019-04-10</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h3 id="字符串函数"><a href="#字符串函数" class="headerlink" title="字符串函数"></a>字符串函数</h3><ul>
<li>strlen 获取字符串的长度</li>
<li>strtoupper 将字符串中的小写字符转变为大写的字符， strtolower 将字符串中大写的字符转变为小写的字符</li>
<li>ucfirst 首字符大写，ucwords 单词首字母大写</li>
<li>trim 去空格 ltrim | rtrim 删除字符串 开头 | 结尾 的空白字符（或其他字符）</li>
<li>strpos 查找字符串首次出现的位置，查找失败返回 false，应使用 === 来判断，</li>
<li>strstr 查找字符串的首次出现，返回字符串(大小写敏感) stristr 查找字符串的首次出现，返回字符串(大小写不敏感)</li>
<li>str_replace 替换字符串中的某个字符</li>
<li>str_repeat 重复一个字符串</li>
<li>str_pad 使用另一个字符串填充字符串为指定长度</li>
<li>split 用正则表达式将字符串分割成数组</li>
<li>implode 将数组组合成一个字符串，explode 使用一个字符串分割字符串成数组 join 是 implode 的别名</li>
<li>strrev 字符串的反转，ps:汉字不能反转</li>
<li>number_format 数字格式化</li>
<li>wordwrap 打断字符串为指定数量的字串</li>
<li>iconv 字符串按要求的字符编码来转换</li>
<li>substr  字符串的截取函数，substr_compare 字符串的截取比较</li>
</ul>
<h3 id="时间日期函数"><a href="#时间日期函数" class="headerlink" title="时间日期函数"></a>时间日期函数</h3><ul>
<li>date() 格式化时间戳</li>
<li>strtotime() 将任何英文文本的日期时间描述解析为 Unix 时间戳</li>
<li>mktime() 取得一个日期的 Unix 时间戳</li>
<li>time() 返回当前的 Unix 时间戳</li>
<li>microtime() 返回当前 Unix 时间戳和微秒数</li>
<li>data_default_timezone_set() 设定用于一个脚本中所有日期时间函数的默认时区</li>
</ul>
<h3 id="打印处理函数"><a href="#打印处理函数" class="headerlink" title="打印处理函数"></a>打印处理函数</h3><ul>
<li>print()</li>
<li>printf()</li>
<li>print_r()</li>
<li>sprintf()</li>
<li>var_dump()</li>
<li>var_export()</li>
<li>echo</li>
</ul>
<h3 id="HTML函数"><a href="#HTML函数" class="headerlink" title="HTML函数"></a>HTML函数</h3><ul>
<li>htmlspecialchars() 将html标签转换为html实体</li>
<li>htmlspecialchars_decode()将html实体转换为html标签</li>
<li>strip_tags() 从字符串中去除 HTML 和 PHP 标记</li>
<li>stripslashes()去除字符串中转义斜杠</li>
</ul>
<h3 id="数组处理函数"><a href="#数组处理函数" class="headerlink" title="数组处理函数"></a>数组处理函数</h3><ul>
<li>array_search() 在数组中搜索给定的值 用来查找数组元素查找数据在数组中的位置，如果该数组有该数据，返回的是该数据在数组中的数组元素的下标或者键名；</li>
<li>in_array() 判断某个数组元素值是否存在</li>
<li>array_key_exists() 判断某个数组元素的标识符是否存在</li>
<li>array_values() 从数组中取得所有的数组元素值，组成一个新的索引数组，如果正确，返回的是组成的索引数组，不正确则返回false</li>
<li>array_keys() 从数组中取出所有的数组元素的标识符，组成一个新的索引数组</li>
<li>extract() 将关联数组映射到一张变量表中，以键名当作变量名，以数组元素值当作变量值,如果对变量的值做了修改（重定义），那么他不会影响数组中的数组元素值</li>
<li>list() 将数组中的元素值赋给不同的变量 结构：list(变量1,变量2,变量3…)=array(…);注意：只能对索引数组进行操作</li>
<li>each() 返回数组当前元素的键值对，并将指针移动到下一个元素位置</li>
<li>array_push(数组名，参数1，参数2，参数3…) 入栈：从堆栈结构的顶部压入数据的操作 array_pop(数组名) 出栈：从堆栈结构的顶部弹出（删除）数据的过程</li>
<li>array_unshift(数组名，参数1，参数2，参数3…) 入队：从队列的头部压入一些数据，这种操作叫做入队 array_shift(数组名) 出队：从队列的头部删除一些数据，这种操作叫做出队</li>
<li>array_merge($arr1,$arr2) 将参数列表中的数组进行合并</li>
<li>array_slice(数组名，切割的起始位置，切掉的长度)切割数组中的连续的几个数组元素，切割后返回的是切割掉的数组元素组成的新数组，切割不成功返回空数组</li>
<li>array_splice()去掉数组中的某一部分并用其它值取代</li>
<li>sort() 本函数对数组进行排序。当本函数结束时数组单元将被从最低到最高重新安排 rsort()本函数对数组进行逆向排序（最高到最低）。</li>
<li>ksort()对数组按照键名排序 krsort() 对数组按照键名逆向排序</li>
<li>array_unique() 去除重复的数组元素值，返回去除重复元素值之后的数组</li>
<li>array_count_values() 返回的数组，统计数组中所有的值出现的次数</li>
<li>array_rand() 从数组中取出一个或多个随机的单元，并返回随机条目的一个或多个标识符</li>
<li>array_sum() 将数组中的所有值的和以整数或浮点数的结果返回</li>
<li>array_product() 计算乘积</li>
<li>array_diff() 用来求数组的差集，用第一个数组减去第二个数组</li>
<li>array_diff_key()</li>
<li>arraydiffassoc()</li>
<li>array_intersect()</li>
<li>arrayintersectkey()</li>
</ul>
<h3 id="其他函数"><a href="#其他函数" class="headerlink" title="其他函数"></a>其他函数</h3><ul>
<li>ip2long() 将 IPV4 的字符串互联网协议转换成长整型数字</li>
<li>long2ip() 将长整型转化为字符串形式带点的互联网标准格式地址（IPV4）</li>
<li>serilize 类的属性可以序列化后保存到 session 中，从而以后可以恢复整个类</li>
<li>unserilize()</li>
<li>isset()检测一个变量是否有设置 empty()检测一个变量是否为空</li>
<li>is_bool() 检测变量是否为布尔类型</li>
<li>is_float() 检测变量是否是浮点型</li>
<li>is_int() 检测变量是否是整数</li>
<li>is_string() 检测变量是否是字符串</li>
<li>is_null() 检测变量是否是空类型</li>
<li>ceil()进一 floor()舍去 round()四舍五入</li>
</ul>
<h3 id="防止SQL注入漏洞可以用哪些函数？"><a href="#防止SQL注入漏洞可以用哪些函数？" class="headerlink" title="防止SQL注入漏洞可以用哪些函数？"></a>防止SQL注入漏洞可以用哪些函数？</h3><p>ddslashes()<br>mysql_escape_string()</p>
<h3 id="超全局数组（预定义变量）"><a href="#超全局数组（预定义变量）" class="headerlink" title="超全局数组（预定义变量）"></a>超全局数组（预定义变量）</h3><ul>
<li><code>$_SESSION</code></li>
<li><code>$_COOKIE</code></li>
<li><code>$_SERVER</code><ul>
<li>‘GATEWAY_INTERFACE’ 服务器使用的 CGI 规范的版本；例如，“CGI/1.1”。</li>
<li>‘SERVER_PORT’ Web 服务器使用的端口。默认值为 “80”。如果使用 SSL 安全连接，则这个值为用户设置的 HTTP 端口。</li>
<li>‘SERVER_ADDR’ 当前运行脚本所在的服务器的 IP 地址。</li>
<li>‘SERVER_NAME’ 当前运行脚本所在的服务器的主机名。如果脚本运行于虚拟主机中，该名称是由那个虚拟主机所设置的值决定。</li>
<li>‘REQUEST_METHOD’ 访问页面使用的请求方法；例如，“GET”, “HEAD”，“POST”，“PUT”。</li>
<li>‘REQUEST_TIME’ 请求开始时的时间戳。从 PHP 5.1.0 起可用。</li>
<li>‘QUERY_STRING’ query string（查询字符串），如果有的话，通过它进行页面访问。</li>
<li>‘DOCUMENT_ROOT’ 当前运行脚本所在的文档根目录。在服务器配置文件中定义。</li>
<li>‘HTTP_HOST’ 当前请求头中 Host: 项的内容，如果存在的话。</li>
<li>‘HTTP_REFERER’ 引导用户代理到当前页的前一页的地址（如果存在）。由 user agent 设置决定。并不是所有的用户代理都会设置该项，有的还提供了修改 HTTP_REFERER 的功能。简言之，该值并不可信。</li>
<li>‘HTTP_USER_AGENT’ 当前请求头中 User-Agent: 项的内容，如果存在的话。该字符串表明了访问该页面的用户代理的信息。一个典型的例子是：Mozilla/4.5 [en] (X11; U; Linux 2.2.9 i586)。除此之外，你可以通过 get_browser() 来使用该值，从而定制页面输出以便适应用户代理的性能。</li>
<li>‘REMOTE_ADDR’ 浏览当前页面的用户的 IP 地址。</li>
<li>‘REMOTE_HOST’ 浏览当前页面的用户的主机名。DNS 反向解析不依赖于用户的 REMOTE_ADDR。</li>
<li>‘REMOTE_PORT’ 用户机器上连接到 Web 服务器所使用的端口号。</li>
<li>‘SCRIPT_FILENAME’ 当前执行脚本的绝对路径。</li>
<li>‘SCRIPT_NAME’ 包含当前脚本的路径。这在页面需要指向自己时非常有用。<code>__FILE__</code> 常量包含当前脚本(例如包含文件)的完整路径和文件名。</li>
<li>‘REQUEST_URI’ URI 用来指定要访问的页面。例如 “/index.html”。</li>
<li>‘PATH_INFO’ 包含由客户端提供的、跟在真实脚本名称之后并且在查询语句（query string）之前的路径信息，如果存在的话。例如，如果当前脚本是通过 URL <code>http://www.example.com/php/path_info.php/some/stuff?foo=bar</code> 被访问，那么 <code>$_SERVER[&#39;PATH_INFO&#39;]</code> 将包含 <code>/some/stuff</code>。</li>
</ul>
</li>
<li><code>$_GET</code></li>
<li><code>$_POST</code></li>
<li><code>$_REQUEST</code> 默认情况下包含了 <code>$_GET</code>，<code>$_POST</code> 和 <code>$_COOKIE</code> 的数组。</li>
<li><code>$_FILES</code></li>
<li><code>$_ENV</code></li>
<li><code>$GLOBALS</code></li>
</ul>
<h3 id="预定义常量"><a href="#预定义常量" class="headerlink" title="预定义常量"></a>预定义常量</h3><ul>
<li><code>__LINE__</code>  文件中的当前行号。</li>
<li><code>__FILE__</code>  文件的完整路径和文件名。如果用在被包含文件中，则返回被包含的文件名。自 PHP 4.0.2 起，<code>__FILE__</code>  总是包含一个绝对路径（如果是符号连接，则是解析后的绝对路径），而在此之前的版本有时会包含一个相对路径。</li>
<li><code>__DIR__</code> 文件所在的目录。如果用在被包括文件中，则返回被包括的文件所在的目录。它等价于 dirname(<code>__FILE__</code>)。除非是根目录，否则目录中名不包括末尾的斜杠。（PHP 5.3.0中新增） =</li>
<li><code>__FUNCTION__</code>  函数名称（PHP 4.3.0 新加）。自 PHP 5 起本常量返回该函数被定义时的名字（区分大小写）。在 PHP 4 中该值总是小写字母的。</li>
<li><code>__CLASS__</code>   类的名称（PHP 4.3.0 新加）。自 PHP 5 起本常量返回该类被定义时的名字（区分大小写）。在 PHP 4 中该值总是小写字母的。类名包括其被声明的作用区域（例如 Foo\Bar）。注意自 PHP 5.4 起 <code>__CLASS__</code> 对 trait 也起作用。当用在 trait 方法中时，<code>__CLASS__</code> 是调用 trait 方法的类的名字。</li>
<li><code>__TRAIT__</code>  Trait 的名字（PHP 5.4.0 新加）。自 PHP 5.4 起此常量返回 trait 被定义时的名字（区分大小写）。Trait 名包括其被声明的作用区域（例如 Foo\Bar）。</li>
<li><code>__METHOD__</code>  类的方法名（PHP 5.0.0 新加）。返回该方法被定义时的名字（区分大小写）。</li>
<li><code>__NAMESPACE__</code>   当前命名空间的名称（区分大小写）。此常量是在编译时定义的（PHP 5.3.0 新增）。</li>
</ul>
<h3 id="OOP"><a href="#OOP" class="headerlink" title="OOP"></a>OOP</h3><ul>
<li>static 静态，类名可以访问</li>
<li>public 表示全局，类内部外部子类都可以访问</li>
<li>private 表示私有的，只有本类内部可以使用</li>
<li>protected 表示受保护的，只有本类或子类或父类中可以访问</li>
<li><code>__call()</code> 当调用不存在的方法时会自动调用的方法</li>
</ul>
<h4 id="魔术方法"><a href="#魔术方法" class="headerlink" title="魔术方法"></a>魔术方法</h4><ul>
<li><code>__autoload()</code> 在实例化一个尚未被定义的类是会自动调用次方法来加载类文件</li>
<li><code>__set()</code> 当给未定义的变量赋值时会自动调用的方法</li>
<li><code>__get()</code> 当获取未定义变量的值时会自动调用的方法</li>
<li><code>__construct()</code> 构造方法，实例化类时自动调用的方法</li>
<li><code>__destroy()</code> 销毁对象时自动调用的方法</li>
<li><code>__unset()</code> 当对一个未定义变量调用unset()时自动调用的方法</li>
<li><code>__isset()</code> 当对一个未定义变量调用isset()方法时自动调用的方法</li>
<li><code>__clone()</code> 克隆一个对象</li>
<li><code>__tostring()</code> 当输出一个对象时自动调用的方法</li>
</ul>
<h4 id="面向对象6个基本原则"><a href="#面向对象6个基本原则" class="headerlink" title="面向对象6个基本原则"></a>面向对象6个基本原则</h4><ol>
<li>单一职责原则</li>
<li>开闭原则</li>
<li>里氏替换原则</li>
<li>依赖倒置原则</li>
<li>接口隔离原则</li>
<li>合成复用原则</li>
<li>迪米特法则</li>
</ol>
<h3 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h3><ul>
<li><p>自己实现字符串反转</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">strrev</span><span class="params">($str)</span></span></div><div class="line">&#123;</div><div class="line">      $len=strlen($str);      </div><div class="line">      $newstr = <span class="string">''</span>;</div><div class="line">      <span class="keyword">for</span>($i=$len;$i&gt;=<span class="number">0</span>;$i--)&#123;</div><div class="line">            $newstr .= $str&#123;$i&#125;;</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">return</span> $newstr;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>用PHP打印出前一天的时间，打印格式是2007年5月10日22:21:21 <code>echo date(&#39;Y-m-d H:i:s&#39;,strtotime(&#39;-1 day&#39;));</code></p>
</li>
<li><p>写出一个函数,尽可能的高效,从一个标准的URL里取出文件的扩展名例如:<a href="http://www.baidu.com/abc/de/fg.php/?id=1,需要取出" target="_blank" rel="external">http://www.baidu.com/abc/de/fg.php/?id=1,需要取出</a> php 或者.php</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//方法一</span></div><div class="line">$url =<span class="string">"http://www.baidu.com/abc/de/fg.php/?id=1"</span>;</div><div class="line"><span class="comment">//获得文件目录名字,http://www.baidu.com/abc/de/fg.php</span></div><div class="line"><span class="keyword">echo</span> $path = pathinfo($url,PATHINFO_DIRNAME );</div><div class="line"><span class="comment">//获得文件的扩展名,php</span></div><div class="line">$path = pathinfo($path,PATHINFO_EXTENSION);</div><div class="line"><span class="keyword">echo</span> $path;</div><div class="line"></div><div class="line"><span class="comment">//方法二</span></div><div class="line">$arr = parse_url(<span class="string">'http://www.sina.com.cn/abc/de/fg.php?id=1'</span>);</div><div class="line">result=pathinfo(result=pathinfo(arr[<span class="string">'path'</span>]);var_dump($arr);</div><div class="line">var_dump($result[<span class="string">'extension'</span>]);</div></pre></td></tr></table></figure>
</li>
<li><p>写一个函数，可以遍历文件夹下的所有文件和文件夹。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">get_dir_info</span><span class="params">($path)</span></span>&#123;</div><div class="line">       $handle = opendir($path);<span class="comment">//打开目录返回句柄</span></div><div class="line">       <span class="keyword">while</span>(($content = readdir($handle))!== <span class="keyword">false</span>)&#123;</div><div class="line">                 $new_dir = $path . DIRECTORY_SEPARATOR . $content;</div><div class="line">                 <span class="keyword">if</span>($content == <span class="string">'..'</span> || $content == <span class="string">'.'</span>)&#123;</div><div class="line">                        <span class="keyword">continue</span>;</div><div class="line">                 &#125;</div><div class="line">                 <span class="keyword">if</span>(is_dir($new_dir))&#123;</div><div class="line">                       <span class="keyword">echo</span> <span class="string">"&lt;br&gt;目录："</span>.$new_dir . <span class="string">'&lt;br&gt;'</span>;</div><div class="line">                       get_dir_info($new_dir);</div><div class="line">                 &#125;<span class="keyword">else</span>&#123;</div><div class="line">                       <span class="keyword">echo</span> <span class="string">"文件："</span>.$path.<span class="string">':'</span>.$content .<span class="string">'&lt;br&gt;'</span>;</div><div class="line">                 &#125;</div><div class="line">           &#125;</div><div class="line">       &#125;</div><div class="line">      get_dir_info($dir);</div></pre></td></tr></table></figure>
</li>
<li><p>不用新变量直接交换现有两个变量的值</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">list</span>($a, $b) = <span class="keyword">array</span>($b, $a);</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h4><ul>
<li>CGI 通用网关接口</li>
<li>FastCGI 是一个协议，它是应用程序和WEB服务器连接的桥梁。Nginx并不能直接与PHP-FPM通信，而是将请求通过FastCGI交给PHP-FPM处理 用来提高cgi程序性能，启动一个master，在启动多个worker</li>
<li>php-fpm是FastCGI的进程管理器，可以在启动的时候预先生成多个进程</li>
</ul>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color3">面试</a>
        		</li>
      		 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color4">PHP</a>
        		</li>
      		
		</ul>
	</div>

      
	<div class="article-category tagcloud">
		<i class="icon-book icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="/categories/PHP//" class="article-tag-list-link color4">PHP</a>
        		</li>
      		
		</ul>
	</div>


      
        <p class="article-more-link">
          <a class="article-more-a" href="/2019/04/10/PHP-基础知识/">展开全文 >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>

<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        
    </div>
</aside>




  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  


          </div>
        </div>
      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2020 Cellophane
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		mathjax: false,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		toc_hide_index: undefined,
		root: "/",
		innerArchive: true,
		showTags: false
	}
</script>

<script>!function(t){function n(e){if(r[e])return r[e].exports;var i=r[e]={exports:{},id:e,loaded:!1};return t[e].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var r={};n.m=t,n.c=r,n.p="./",n(0)}([function(t,n,r){r(195),t.exports=r(191)},function(t,n,r){var e=r(3),i=r(52),o=r(27),u=r(28),c=r(53),f="prototype",a=function(t,n,r){var s,l,h,v,p=t&a.F,d=t&a.G,y=t&a.S,g=t&a.P,b=t&a.B,m=d?e:y?e[n]||(e[n]={}):(e[n]||{})[f],x=d?i:i[n]||(i[n]={}),w=x[f]||(x[f]={});d&&(r=n);for(s in r)l=!p&&m&&void 0!==m[s],h=(l?m:r)[s],v=b&&l?c(h,e):g&&"function"==typeof h?c(Function.call,h):h,m&&u(m,s,h,t&a.U),x[s]!=h&&o(x,s,v),g&&w[s]!=h&&(w[s]=h)};e.core=i,a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,n,r){var e=r(6);t.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},function(t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,r){var e=r(126)("wks"),i=r(76),o=r(3).Symbol,u="function"==typeof o;(t.exports=function(t){return e[t]||(e[t]=u&&o[t]||(u?o:i)("Symbol."+t))}).store=e},function(t,n){var r={}.hasOwnProperty;t.exports=function(t,n){return r.call(t,n)}},function(t,n,r){var e=r(94),i=r(33);t.exports=function(t){return e(i(t))}},function(t,n,r){t.exports=!r(4)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n,r){var e=r(2),i=r(167),o=r(50),u=Object.defineProperty;n.f=r(10)?Object.defineProperty:function(t,n,r){if(e(t),n=o(n,!0),e(r),i)try{return u(t,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[n]=r.value),t}},function(t,n,r){t.exports=!r(18)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n,r){var e=r(14),i=r(22);t.exports=r(12)?function(t,n,r){return e.f(t,n,i(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n,r){var e=r(20),i=r(58),o=r(42),u=Object.defineProperty;n.f=r(12)?Object.defineProperty:function(t,n,r){if(e(t),n=o(n,!0),e(r),i)try{return u(t,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[n]=r.value),t}},function(t,n,r){var e=r(40)("wks"),i=r(23),o=r(5).Symbol,u="function"==typeof o;(t.exports=function(t){return e[t]||(e[t]=u&&o[t]||(u?o:i)("Symbol."+t))}).store=e},function(t,n,r){var e=r(67),i=Math.min;t.exports=function(t){return t>0?i(e(t),9007199254740991):0}},function(t,n,r){var e=r(46);t.exports=function(t){return Object(e(t))}},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,r){var e=r(63),i=r(34);t.exports=Object.keys||function(t){return e(t,i)}},function(t,n,r){var e=r(21);t.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){var r=0,e=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+e).toString(36))}},function(t,n){var r={}.hasOwnProperty;t.exports=function(t,n){return r.call(t,n)}},function(t,n){var r=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=r)},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n,r){var e=r(11),i=r(66);t.exports=r(10)?function(t,n,r){return e.f(t,n,i(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n,r){var e=r(3),i=r(27),o=r(24),u=r(76)("src"),c="toString",f=Function[c],a=(""+f).split(c);r(52).inspectSource=function(t){return f.call(t)},(t.exports=function(t,n,r,c){var f="function"==typeof r;f&&(o(r,"name")||i(r,"name",n)),t[n]!==r&&(f&&(o(r,u)||i(r,u,t[n]?""+t[n]:a.join(String(n)))),t===e?t[n]=r:c?t[n]?t[n]=r:i(t,n,r):(delete t[n],i(t,n,r)))})(Function.prototype,c,function(){return"function"==typeof this&&this[u]||f.call(this)})},function(t,n,r){var e=r(1),i=r(4),o=r(46),u=function(t,n,r,e){var i=String(o(t)),u="<"+n;return""!==r&&(u+=" "+r+'="'+String(e).replace(/"/g,"&quot;")+'"'),u+">"+i+"</"+n+">"};t.exports=function(t,n){var r={};r[t]=n(u),e(e.P+e.F*i(function(){var n=""[t]('"');return n!==n.toLowerCase()||n.split('"').length>3}),"String",r)}},function(t,n,r){var e=r(115),i=r(46);t.exports=function(t){return e(i(t))}},function(t,n,r){var e=r(116),i=r(66),o=r(30),u=r(50),c=r(24),f=r(167),a=Object.getOwnPropertyDescriptor;n.f=r(10)?a:function(t,n){if(t=o(t),n=u(n,!0),f)try{return a(t,n)}catch(t){}if(c(t,n))return i(!e.f.call(t,n),t[n])}},function(t,n,r){var e=r(24),i=r(17),o=r(145)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),e(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n){t.exports={}},function(t,n){t.exports=!0},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,r){var e=r(14).f,i=r(8),o=r(15)("toStringTag");t.exports=function(t,n,r){t&&!i(t=r?t:t.prototype,o)&&e(t,o,{configurable:!0,value:n})}},function(t,n,r){var e=r(40)("keys"),i=r(23);t.exports=function(t){return e[t]||(e[t]=i(t))}},function(t,n,r){var e=r(5),i="__core-js_shared__",o=e[i]||(e[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,n){var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},function(t,n,r){var e=r(21);t.exports=function(t,n){if(!e(t))return t;var r,i;if(n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!e(i=r.call(t)))return i;if(!n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,n,r){var e=r(5),i=r(25),o=r(36),u=r(44),c=r(14).f;t.exports=function(t){var n=i.Symbol||(i.Symbol=o?{}:e.Symbol||{});"_"==t.charAt(0)||t in n||c(n,t,{value:u.f(t)})}},function(t,n,r){n.f=r(15)},function(t,n){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n,r){var e=r(4);t.exports=function(t,n){return!!t&&e(function(){n?t.call(null,function(){},1):t.call(null)})}},function(t,n,r){var e=r(53),i=r(115),o=r(17),u=r(16),c=r(203);t.exports=function(t,n){var r=1==t,f=2==t,a=3==t,s=4==t,l=6==t,h=5==t||l,v=n||c;return function(n,c,p){for(var d,y,g=o(n),b=i(g),m=e(c,p,3),x=u(b.length),w=0,S=r?v(n,x):f?v(n,0):void 0;x>w;w++)if((h||w in b)&&(d=b[w],y=m(d,w,g),t))if(r)S[w]=y;else if(y)switch(t){case 3:return!0;case 5:return d;case 6:return w;case 2:S.push(d)}else if(s)return!1;return l?-1:a||s?s:S}}},function(t,n,r){var e=r(1),i=r(52),o=r(4);t.exports=function(t,n){var r=(i.Object||{})[t]||Object[t],u={};u[t]=n(r),e(e.S+e.F*o(function(){r(1)}),"Object",u)}},function(t,n,r){var e=r(6);t.exports=function(t,n){if(!e(t))return t;var r,i;if(n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!e(i=r.call(t)))return i;if(!n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,n,r){var e=r(5),i=r(25),o=r(91),u=r(13),c="prototype",f=function(t,n,r){var a,s,l,h=t&f.F,v=t&f.G,p=t&f.S,d=t&f.P,y=t&f.B,g=t&f.W,b=v?i:i[n]||(i[n]={}),m=b[c],x=v?e:p?e[n]:(e[n]||{})[c];v&&(r=n);for(a in r)(s=!h&&x&&void 0!==x[a])&&a in b||(l=s?x[a]:r[a],b[a]=v&&"function"!=typeof x[a]?r[a]:y&&s?o(l,e):g&&x[a]==l?function(t){var n=function(n,r,e){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,e)}return t.apply(this,arguments)};return n[c]=t[c],n}(l):d&&"function"==typeof l?o(Function.call,l):l,d&&((b.virtual||(b.virtual={}))[a]=l,t&f.R&&m&&!m[a]&&u(m,a,l)))};f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,f.U=64,f.R=128,t.exports=f},function(t,n){var r=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=r)},function(t,n,r){var e=r(26);t.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,i){return t.call(n,r,e,i)}}return function(){return t.apply(n,arguments)}}},function(t,n,r){var e=r(183),i=r(1),o=r(126)("metadata"),u=o.store||(o.store=new(r(186))),c=function(t,n,r){var i=u.get(t);if(!i){if(!r)return;u.set(t,i=new e)}var o=i.get(n);if(!o){if(!r)return;i.set(n,o=new e)}return o},f=function(t,n,r){var e=c(n,r,!1);return void 0!==e&&e.has(t)},a=function(t,n,r){var e=c(n,r,!1);return void 0===e?void 0:e.get(t)},s=function(t,n,r,e){c(r,e,!0).set(t,n)},l=function(t,n){var r=c(t,n,!1),e=[];return r&&r.forEach(function(t,n){e.push(n)}),e},h=function(t){return void 0===t||"symbol"==typeof t?t:String(t)},v=function(t){i(i.S,"Reflect",t)};t.exports={store:u,map:c,has:f,get:a,set:s,keys:l,key:h,exp:v}},function(t,n,r){"use strict";if(r(10)){var e=r(69),i=r(3),o=r(4),u=r(1),c=r(127),f=r(152),a=r(53),s=r(68),l=r(66),h=r(27),v=r(73),p=r(67),d=r(16),y=r(75),g=r(50),b=r(24),m=r(180),x=r(114),w=r(6),S=r(17),_=r(137),O=r(70),E=r(32),P=r(71).f,j=r(154),F=r(76),M=r(7),A=r(48),N=r(117),T=r(146),I=r(155),k=r(80),L=r(123),R=r(74),C=r(130),D=r(160),U=r(11),W=r(31),G=U.f,B=W.f,V=i.RangeError,z=i.TypeError,q=i.Uint8Array,K="ArrayBuffer",J="Shared"+K,Y="BYTES_PER_ELEMENT",H="prototype",$=Array[H],X=f.ArrayBuffer,Q=f.DataView,Z=A(0),tt=A(2),nt=A(3),rt=A(4),et=A(5),it=A(6),ot=N(!0),ut=N(!1),ct=I.values,ft=I.keys,at=I.entries,st=$.lastIndexOf,lt=$.reduce,ht=$.reduceRight,vt=$.join,pt=$.sort,dt=$.slice,yt=$.toString,gt=$.toLocaleString,bt=M("iterator"),mt=M("toStringTag"),xt=F("typed_constructor"),wt=F("def_constructor"),St=c.CONSTR,_t=c.TYPED,Ot=c.VIEW,Et="Wrong length!",Pt=A(1,function(t,n){return Tt(T(t,t[wt]),n)}),jt=o(function(){return 1===new q(new Uint16Array([1]).buffer)[0]}),Ft=!!q&&!!q[H].set&&o(function(){new q(1).set({})}),Mt=function(t,n){if(void 0===t)throw z(Et);var r=+t,e=d(t);if(n&&!m(r,e))throw V(Et);return e},At=function(t,n){var r=p(t);if(r<0||r%n)throw V("Wrong offset!");return r},Nt=function(t){if(w(t)&&_t in t)return t;throw z(t+" is not a typed array!")},Tt=function(t,n){if(!(w(t)&&xt in t))throw z("It is not a typed array constructor!");return new t(n)},It=function(t,n){return kt(T(t,t[wt]),n)},kt=function(t,n){for(var r=0,e=n.length,i=Tt(t,e);e>r;)i[r]=n[r++];return i},Lt=function(t,n,r){G(t,n,{get:function(){return this._d[r]}})},Rt=function(t){var n,r,e,i,o,u,c=S(t),f=arguments.length,s=f>1?arguments[1]:void 0,l=void 0!==s,h=j(c);if(void 0!=h&&!_(h)){for(u=h.call(c),e=[],n=0;!(o=u.next()).done;n++)e.push(o.value);c=e}for(l&&f>2&&(s=a(s,arguments[2],2)),n=0,r=d(c.length),i=Tt(this,r);r>n;n++)i[n]=l?s(c[n],n):c[n];return i},Ct=function(){for(var t=0,n=arguments.length,r=Tt(this,n);n>t;)r[t]=arguments[t++];return r},Dt=!!q&&o(function(){gt.call(new q(1))}),Ut=function(){return gt.apply(Dt?dt.call(Nt(this)):Nt(this),arguments)},Wt={copyWithin:function(t,n){return D.call(Nt(this),t,n,arguments.length>2?arguments[2]:void 0)},every:function(t){return rt(Nt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return C.apply(Nt(this),arguments)},filter:function(t){return It(this,tt(Nt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return et(Nt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return it(Nt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Z(Nt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return ut(Nt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return ot(Nt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return vt.apply(Nt(this),arguments)},lastIndexOf:function(t){return st.apply(Nt(this),arguments)},map:function(t){return Pt(Nt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return lt.apply(Nt(this),arguments)},reduceRight:function(t){return ht.apply(Nt(this),arguments)},reverse:function(){for(var t,n=this,r=Nt(n).length,e=Math.floor(r/2),i=0;i<e;)t=n[i],n[i++]=n[--r],n[r]=t;return n},some:function(t){return nt(Nt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return pt.call(Nt(this),t)},subarray:function(t,n){var r=Nt(this),e=r.length,i=y(t,e);return new(T(r,r[wt]))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,d((void 0===n?e:y(n,e))-i))}},Gt=function(t,n){return It(this,dt.call(Nt(this),t,n))},Bt=function(t){Nt(this);var n=At(arguments[1],1),r=this.length,e=S(t),i=d(e.length),o=0;if(i+n>r)throw V(Et);for(;o<i;)this[n+o]=e[o++]},Vt={entries:function(){return at.call(Nt(this))},keys:function(){return ft.call(Nt(this))},values:function(){return ct.call(Nt(this))}},zt=function(t,n){return w(t)&&t[_t]&&"symbol"!=typeof n&&n in t&&String(+n)==String(n)},qt=function(t,n){return zt(t,n=g(n,!0))?l(2,t[n]):B(t,n)},Kt=function(t,n,r){return!(zt(t,n=g(n,!0))&&w(r)&&b(r,"value"))||b(r,"get")||b(r,"set")||r.configurable||b(r,"writable")&&!r.writable||b(r,"enumerable")&&!r.enumerable?G(t,n,r):(t[n]=r.value,t)};St||(W.f=qt,U.f=Kt),u(u.S+u.F*!St,"Object",{getOwnPropertyDescriptor:qt,defineProperty:Kt}),o(function(){yt.call({})})&&(yt=gt=function(){return vt.call(this)});var Jt=v({},Wt);v(Jt,Vt),h(Jt,bt,Vt.values),v(Jt,{slice:Gt,set:Bt,constructor:function(){},toString:yt,toLocaleString:Ut}),Lt(Jt,"buffer","b"),Lt(Jt,"byteOffset","o"),Lt(Jt,"byteLength","l"),Lt(Jt,"length","e"),G(Jt,mt,{get:function(){return this[_t]}}),t.exports=function(t,n,r,f){f=!!f;var a=t+(f?"Clamped":"")+"Array",l="Uint8Array"!=a,v="get"+t,p="set"+t,y=i[a],g=y||{},b=y&&E(y),m=!y||!c.ABV,S={},_=y&&y[H],j=function(t,r){var e=t._d;return e.v[v](r*n+e.o,jt)},F=function(t,r,e){var i=t._d;f&&(e=(e=Math.round(e))<0?0:e>255?255:255&e),i.v[p](r*n+i.o,e,jt)},M=function(t,n){G(t,n,{get:function(){return j(this,n)},set:function(t){return F(this,n,t)},enumerable:!0})};m?(y=r(function(t,r,e,i){s(t,y,a,"_d");var o,u,c,f,l=0,v=0;if(w(r)){if(!(r instanceof X||(f=x(r))==K||f==J))return _t in r?kt(y,r):Rt.call(y,r);o=r,v=At(e,n);var p=r.byteLength;if(void 0===i){if(p%n)throw V(Et);if((u=p-v)<0)throw V(Et)}else if((u=d(i)*n)+v>p)throw V(Et);c=u/n}else c=Mt(r,!0),u=c*n,o=new X(u);for(h(t,"_d",{b:o,o:v,l:u,e:c,v:new Q(o)});l<c;)M(t,l++)}),_=y[H]=O(Jt),h(_,"constructor",y)):L(function(t){new y(null),new y(t)},!0)||(y=r(function(t,r,e,i){s(t,y,a);var o;return w(r)?r instanceof X||(o=x(r))==K||o==J?void 0!==i?new g(r,At(e,n),i):void 0!==e?new g(r,At(e,n)):new g(r):_t in r?kt(y,r):Rt.call(y,r):new g(Mt(r,l))}),Z(b!==Function.prototype?P(g).concat(P(b)):P(g),function(t){t in y||h(y,t,g[t])}),y[H]=_,e||(_.constructor=y));var A=_[bt],N=!!A&&("values"==A.name||void 0==A.name),T=Vt.values;h(y,xt,!0),h(_,_t,a),h(_,Ot,!0),h(_,wt,y),(f?new y(1)[mt]==a:mt in _)||G(_,mt,{get:function(){return a}}),S[a]=y,u(u.G+u.W+u.F*(y!=g),S),u(u.S,a,{BYTES_PER_ELEMENT:n,from:Rt,of:Ct}),Y in _||h(_,Y,n),u(u.P,a,Wt),R(a),u(u.P+u.F*Ft,a,{set:Bt}),u(u.P+u.F*!N,a,Vt),u(u.P+u.F*(_.toString!=yt),a,{toString:yt}),u(u.P+u.F*o(function(){new y(1).slice()}),a,{slice:Gt}),u(u.P+u.F*(o(function(){return[1,2].toLocaleString()!=new y([1,2]).toLocaleString()})||!o(function(){_.toLocaleString.call([1,2])})),a,{toLocaleString:Ut}),k[a]=N?A:T,e||N||h(_,bt,T)}}else t.exports=function(){}},function(t,n){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,n,r){var e=r(21),i=r(5).document,o=e(i)&&e(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,n,r){t.exports=!r(12)&&!r(18)(function(){return 7!=Object.defineProperty(r(57)("div"),"a",{get:function(){return 7}}).a})},function(t,n,r){"use strict";var e=r(36),i=r(51),o=r(64),u=r(13),c=r(8),f=r(35),a=r(96),s=r(38),l=r(103),h=r(15)("iterator"),v=!([].keys&&"next"in[].keys()),p="keys",d="values",y=function(){return this};t.exports=function(t,n,r,g,b,m,x){a(r,n,g);var w,S,_,O=function(t){if(!v&&t in F)return F[t];switch(t){case p:case d:return function(){return new r(this,t)}}return function(){return new r(this,t)}},E=n+" Iterator",P=b==d,j=!1,F=t.prototype,M=F[h]||F["@@iterator"]||b&&F[b],A=M||O(b),N=b?P?O("entries"):A:void 0,T="Array"==n?F.entries||M:M;if(T&&(_=l(T.call(new t)))!==Object.prototype&&(s(_,E,!0),e||c(_,h)||u(_,h,y)),P&&M&&M.name!==d&&(j=!0,A=function(){return M.call(this)}),e&&!x||!v&&!j&&F[h]||u(F,h,A),f[n]=A,f[E]=y,b)if(w={values:P?A:O(d),keys:m?A:O(p),entries:N},x)for(S in w)S in F||o(F,S,w[S]);else i(i.P+i.F*(v||j),n,w);return w}},function(t,n,r){var e=r(20),i=r(100),o=r(34),u=r(39)("IE_PROTO"),c=function(){},f="prototype",a=function(){var t,n=r(57)("iframe"),e=o.length;for(n.style.display="none",r(93).appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),a=t.F;e--;)delete a[f][o[e]];return a()};t.exports=Object.create||function(t,n){var r;return null!==t?(c[f]=e(t),r=new c,c[f]=null,r[u]=t):r=a(),void 0===n?r:i(r,n)}},function(t,n,r){var e=r(63),i=r(34).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return e(t,i)}},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,r){var e=r(8),i=r(9),o=r(90)(!1),u=r(39)("IE_PROTO");t.exports=function(t,n){var r,c=i(t),f=0,a=[];for(r in c)r!=u&&e(c,r)&&a.push(r);for(;n.length>f;)e(c,r=n[f++])&&(~o(a,r)||a.push(r));return a}},function(t,n,r){t.exports=r(13)},function(t,n,r){var e=r(76)("meta"),i=r(6),o=r(24),u=r(11).f,c=0,f=Object.isExtensible||function(){return!0},a=!r(4)(function(){return f(Object.preventExtensions({}))}),s=function(t){u(t,e,{value:{i:"O"+ ++c,w:{}}})},l=function(t,n){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,e)){if(!f(t))return"F";if(!n)return"E";s(t)}return t[e].i},h=function(t,n){if(!o(t,e)){if(!f(t))return!0;if(!n)return!1;s(t)}return t[e].w},v=function(t){return a&&p.NEED&&f(t)&&!o(t,e)&&s(t),t},p=t.exports={KEY:e,NEED:!1,fastKey:l,getWeak:h,onFreeze:v}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},function(t,n){t.exports=function(t,n,r,e){if(!(t instanceof n)||void 0!==e&&e in t)throw TypeError(r+": incorrect invocation!");return t}},function(t,n){t.exports=!1},function(t,n,r){var e=r(2),i=r(173),o=r(133),u=r(145)("IE_PROTO"),c=function(){},f="prototype",a=function(){var t,n=r(132)("iframe"),e=o.length;for(n.style.display="none",r(135).appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),a=t.F;e--;)delete a[f][o[e]];return a()};t.exports=Object.create||function(t,n){var r;return null!==t?(c[f]=e(t),r=new c,c[f]=null,r[u]=t):r=a(),void 0===n?r:i(r,n)}},function(t,n,r){var e=r(175),i=r(133).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return e(t,i)}},function(t,n,r){var e=r(175),i=r(133);t.exports=Object.keys||function(t){return e(t,i)}},function(t,n,r){var e=r(28);t.exports=function(t,n,r){for(var i in n)e(t,i,n[i],r);return t}},function(t,n,r){"use strict";var e=r(3),i=r(11),o=r(10),u=r(7)("species");t.exports=function(t){var n=e[t];o&&n&&!n[u]&&i.f(n,u,{configurable:!0,get:function(){return this}})}},function(t,n,r){var e=r(67),i=Math.max,o=Math.min;t.exports=function(t,n){return t=e(t),t<0?i(t+n,0):o(t,n)}},function(t,n){var r=0,e=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+e).toString(36))}},function(t,n,r){var e=r(33);t.exports=function(t){return Object(e(t))}},function(t,n,r){var e=r(7)("unscopables"),i=Array.prototype;void 0==i[e]&&r(27)(i,e,{}),t.exports=function(t){i[e][t]=!0}},function(t,n,r){var e=r(53),i=r(169),o=r(137),u=r(2),c=r(16),f=r(154),a={},s={},n=t.exports=function(t,n,r,l,h){var v,p,d,y,g=h?function(){return t}:f(t),b=e(r,l,n?2:1),m=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(v=c(t.length);v>m;m++)if((y=n?b(u(p=t[m])[0],p[1]):b(t[m]))===a||y===s)return y}else for(d=g.call(t);!(p=d.next()).done;)if((y=i(d,b,p.value,n))===a||y===s)return y};n.BREAK=a,n.RETURN=s},function(t,n){t.exports={}},function(t,n,r){var e=r(11).f,i=r(24),o=r(7)("toStringTag");t.exports=function(t,n,r){t&&!i(t=r?t:t.prototype,o)&&e(t,o,{configurable:!0,value:n})}},function(t,n,r){var e=r(1),i=r(46),o=r(4),u=r(150),c="["+u+"]",f="​",a=RegExp("^"+c+c+"*"),s=RegExp(c+c+"*$"),l=function(t,n,r){var i={},c=o(function(){return!!u[t]()||f[t]()!=f}),a=i[t]=c?n(h):u[t];r&&(i[r]=a),e(e.P+e.F*c,"String",i)},h=l.trim=function(t,n){return t=String(i(t)),1&n&&(t=t.replace(a,"")),2&n&&(t=t.replace(s,"")),t};t.exports=l},function(t,n,r){t.exports={default:r(86),__esModule:!0}},function(t,n,r){t.exports={default:r(87),__esModule:!0}},function(t,n,r){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(84),o=e(i),u=r(83),c=e(u),f="function"==typeof c.default&&"symbol"==typeof o.default?function(t){return typeof t}:function(t){return t&&"function"==typeof c.default&&t.constructor===c.default&&t!==c.default.prototype?"symbol":typeof t};n.default="function"==typeof c.default&&"symbol"===f(o.default)?function(t){return void 0===t?"undefined":f(t)}:function(t){return t&&"function"==typeof c.default&&t.constructor===c.default&&t!==c.default.prototype?"symbol":void 0===t?"undefined":f(t)}},function(t,n,r){r(110),r(108),r(111),r(112),t.exports=r(25).Symbol},function(t,n,r){r(109),r(113),t.exports=r(44).f("iterator")},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n){t.exports=function(){}},function(t,n,r){var e=r(9),i=r(106),o=r(105);t.exports=function(t){return function(n,r,u){var c,f=e(n),a=i(f.length),s=o(u,a);if(t&&r!=r){for(;a>s;)if((c=f[s++])!=c)return!0}else for(;a>s;s++)if((t||s in f)&&f[s]===r)return t||s||0;return!t&&-1}}},function(t,n,r){var e=r(88);t.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,i){return t.call(n,r,e,i)}}return function(){return t.apply(n,arguments)}}},function(t,n,r){var e=r(19),i=r(62),o=r(37);t.exports=function(t){var n=e(t),r=i.f;if(r)for(var u,c=r(t),f=o.f,a=0;c.length>a;)f.call(t,u=c[a++])&&n.push(u);return n}},function(t,n,r){t.exports=r(5).document&&document.documentElement},function(t,n,r){var e=r(56);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==e(t)?t.split(""):Object(t)}},function(t,n,r){var e=r(56);t.exports=Array.isArray||function(t){return"Array"==e(t)}},function(t,n,r){"use strict";var e=r(60),i=r(22),o=r(38),u={};r(13)(u,r(15)("iterator"),function(){return this}),t.exports=function(t,n,r){t.prototype=e(u,{next:i(1,r)}),o(t,n+" Iterator")}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,r){var e=r(19),i=r(9);t.exports=function(t,n){for(var r,o=i(t),u=e(o),c=u.length,f=0;c>f;)if(o[r=u[f++]]===n)return r}},function(t,n,r){var e=r(23)("meta"),i=r(21),o=r(8),u=r(14).f,c=0,f=Object.isExtensible||function(){return!0},a=!r(18)(function(){return f(Object.preventExtensions({}))}),s=function(t){u(t,e,{value:{i:"O"+ ++c,w:{}}})},l=function(t,n){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,e)){if(!f(t))return"F";if(!n)return"E";s(t)}return t[e].i},h=function(t,n){if(!o(t,e)){if(!f(t))return!0;if(!n)return!1;s(t)}return t[e].w},v=function(t){return a&&p.NEED&&f(t)&&!o(t,e)&&s(t),t},p=t.exports={KEY:e,NEED:!1,fastKey:l,getWeak:h,onFreeze:v}},function(t,n,r){var e=r(14),i=r(20),o=r(19);t.exports=r(12)?Object.defineProperties:function(t,n){i(t);for(var r,u=o(n),c=u.length,f=0;c>f;)e.f(t,r=u[f++],n[r]);return t}},function(t,n,r){var e=r(37),i=r(22),o=r(9),u=r(42),c=r(8),f=r(58),a=Object.getOwnPropertyDescriptor;n.f=r(12)?a:function(t,n){if(t=o(t),n=u(n,!0),f)try{return a(t,n)}catch(t){}if(c(t,n))return i(!e.f.call(t,n),t[n])}},function(t,n,r){var e=r(9),i=r(61).f,o={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return i(t)}catch(t){return u.slice()}};t.exports.f=function(t){return u&&"[object Window]"==o.call(t)?c(t):i(e(t))}},function(t,n,r){var e=r(8),i=r(77),o=r(39)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),e(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n,r){var e=r(41),i=r(33);t.exports=function(t){return function(n,r){var o,u,c=String(i(n)),f=e(r),a=c.length;return f<0||f>=a?t?"":void 0:(o=c.charCodeAt(f),o<55296||o>56319||f+1===a||(u=c.charCodeAt(f+1))<56320||u>57343?t?c.charAt(f):o:t?c.slice(f,f+2):u-56320+(o-55296<<10)+65536)}}},function(t,n,r){var e=r(41),i=Math.max,o=Math.min;t.exports=function(t,n){return t=e(t),t<0?i(t+n,0):o(t,n)}},function(t,n,r){var e=r(41),i=Math.min;t.exports=function(t){return t>0?i(e(t),9007199254740991):0}},function(t,n,r){"use strict";var e=r(89),i=r(97),o=r(35),u=r(9);t.exports=r(59)(Array,"Array",function(t,n){this._t=u(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):"keys"==n?i(0,r):"values"==n?i(0,t[r]):i(0,[r,t[r]])},"values"),o.Arguments=o.Array,e("keys"),e("values"),e("entries")},function(t,n){},function(t,n,r){"use strict";var e=r(104)(!0);r(59)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,r=this._i;return r>=n.length?{value:void 0,done:!0}:(t=e(n,r),this._i+=t.length,{value:t,done:!1})})},function(t,n,r){"use strict";var e=r(5),i=r(8),o=r(12),u=r(51),c=r(64),f=r(99).KEY,a=r(18),s=r(40),l=r(38),h=r(23),v=r(15),p=r(44),d=r(43),y=r(98),g=r(92),b=r(95),m=r(20),x=r(9),w=r(42),S=r(22),_=r(60),O=r(102),E=r(101),P=r(14),j=r(19),F=E.f,M=P.f,A=O.f,N=e.Symbol,T=e.JSON,I=T&&T.stringify,k="prototype",L=v("_hidden"),R=v("toPrimitive"),C={}.propertyIsEnumerable,D=s("symbol-registry"),U=s("symbols"),W=s("op-symbols"),G=Object[k],B="function"==typeof N,V=e.QObject,z=!V||!V[k]||!V[k].findChild,q=o&&a(function(){return 7!=_(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(t,n,r){var e=F(G,n);e&&delete G[n],M(t,n,r),e&&t!==G&&M(G,n,e)}:M,K=function(t){var n=U[t]=_(N[k]);return n._k=t,n},J=B&&"symbol"==typeof N.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof N},Y=function(t,n,r){return t===G&&Y(W,n,r),m(t),n=w(n,!0),m(r),i(U,n)?(r.enumerable?(i(t,L)&&t[L][n]&&(t[L][n]=!1),r=_(r,{enumerable:S(0,!1)})):(i(t,L)||M(t,L,S(1,{})),t[L][n]=!0),q(t,n,r)):M(t,n,r)},H=function(t,n){m(t);for(var r,e=g(n=x(n)),i=0,o=e.length;o>i;)Y(t,r=e[i++],n[r]);return t},$=function(t,n){return void 0===n?_(t):H(_(t),n)},X=function(t){var n=C.call(this,t=w(t,!0));return!(this===G&&i(U,t)&&!i(W,t))&&(!(n||!i(this,t)||!i(U,t)||i(this,L)&&this[L][t])||n)},Q=function(t,n){if(t=x(t),n=w(n,!0),t!==G||!i(U,n)||i(W,n)){var r=F(t,n);return!r||!i(U,n)||i(t,L)&&t[L][n]||(r.enumerable=!0),r}},Z=function(t){for(var n,r=A(x(t)),e=[],o=0;r.length>o;)i(U,n=r[o++])||n==L||n==f||e.push(n);return e},tt=function(t){for(var n,r=t===G,e=A(r?W:x(t)),o=[],u=0;e.length>u;)!i(U,n=e[u++])||r&&!i(G,n)||o.push(U[n]);return o};B||(N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),n=function(r){this===G&&n.call(W,r),i(this,L)&&i(this[L],t)&&(this[L][t]=!1),q(this,t,S(1,r))};return o&&z&&q(G,t,{configurable:!0,set:n}),K(t)},c(N[k],"toString",function(){return this._k}),E.f=Q,P.f=Y,r(61).f=O.f=Z,r(37).f=X,r(62).f=tt,o&&!r(36)&&c(G,"propertyIsEnumerable",X,!0),p.f=function(t){return K(v(t))}),u(u.G+u.W+u.F*!B,{Symbol:N});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;nt.length>rt;)v(nt[rt++]);for(var nt=j(v.store),rt=0;nt.length>rt;)d(nt[rt++]);u(u.S+u.F*!B,"Symbol",{for:function(t){return i(D,t+="")?D[t]:D[t]=N(t)},keyFor:function(t){if(J(t))return y(D,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){z=!0},useSimple:function(){z=!1}}),u(u.S+u.F*!B,"Object",{create:$,defineProperty:Y,defineProperties:H,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:tt}),T&&u(u.S+u.F*(!B||a(function(){var t=N();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!J(t)){for(var n,r,e=[t],i=1;arguments.length>i;)e.push(arguments[i++]);return n=e[1],"function"==typeof n&&(r=n),!r&&b(n)||(n=function(t,n){if(r&&(n=r.call(this,t,n)),!J(n))return n}),e[1]=n,I.apply(T,e)}}}),N[k][R]||r(13)(N[k],R,N[k].valueOf),l(N,"Symbol"),l(Math,"Math",!0),l(e.JSON,"JSON",!0)},function(t,n,r){r(43)("asyncIterator")},function(t,n,r){r(43)("observable")},function(t,n,r){r(107);for(var e=r(5),i=r(13),o=r(35),u=r(15)("toStringTag"),c=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],f=0;f<5;f++){var a=c[f],s=e[a],l=s&&s.prototype;l&&!l[u]&&i(l,u,a),o[a]=o.Array}},function(t,n,r){var e=r(45),i=r(7)("toStringTag"),o="Arguments"==e(function(){return arguments}()),u=function(t,n){try{return t[n]}catch(t){}};t.exports=function(t){var n,r,c;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=u(n=Object(t),i))?r:o?e(n):"Object"==(c=e(n))&&"function"==typeof n.callee?"Arguments":c}},function(t,n,r){var e=r(45);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==e(t)?t.split(""):Object(t)}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,r){var e=r(30),i=r(16),o=r(75);t.exports=function(t){return function(n,r,u){var c,f=e(n),a=i(f.length),s=o(u,a);if(t&&r!=r){for(;a>s;)if((c=f[s++])!=c)return!0}else for(;a>s;s++)if((t||s in f)&&f[s]===r)return t||s||0;return!t&&-1}}},function(t,n,r){"use strict";var e=r(3),i=r(1),o=r(28),u=r(73),c=r(65),f=r(79),a=r(68),s=r(6),l=r(4),h=r(123),v=r(81),p=r(136);t.exports=function(t,n,r,d,y,g){var b=e[t],m=b,x=y?"set":"add",w=m&&m.prototype,S={},_=function(t){var n=w[t];o(w,t,"delete"==t?function(t){return!(g&&!s(t))&&n.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!s(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!s(t)?void 0:n.call(this,0===t?0:t)}:"add"==t?function(t){return n.call(this,0===t?0:t),this}:function(t,r){return n.call(this,0===t?0:t,r),this})};if("function"==typeof m&&(g||w.forEach&&!l(function(){(new m).entries().next()}))){var O=new m,E=O[x](g?{}:-0,1)!=O,P=l(function(){O.has(1)}),j=h(function(t){new m(t)}),F=!g&&l(function(){for(var t=new m,n=5;n--;)t[x](n,n);return!t.has(-0)});j||(m=n(function(n,r){a(n,m,t);var e=p(new b,n,m);return void 0!=r&&f(r,y,e[x],e),e}),m.prototype=w,w.constructor=m),(P||F)&&(_("delete"),_("has"),y&&_("get")),(F||E)&&_(x),g&&w.clear&&delete w.clear}else m=d.getConstructor(n,t,y,x),u(m.prototype,r),c.NEED=!0;return v(m,t),S[t]=m,i(i.G+i.W+i.F*(m!=b),S),g||d.setStrong(m,t,y),m}},function(t,n,r){"use strict";var e=r(27),i=r(28),o=r(4),u=r(46),c=r(7);t.exports=function(t,n,r){var f=c(t),a=r(u,f,""[t]),s=a[0],l=a[1];o(function(){var n={};return n[f]=function(){return 7},7!=""[t](n)})&&(i(String.prototype,t,s),e(RegExp.prototype,f,2==n?function(t,n){return l.call(t,this,n)}:function(t){return l.call(t,this)}))}
},function(t,n,r){"use strict";var e=r(2);t.exports=function(){var t=e(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n}},function(t,n){t.exports=function(t,n,r){var e=void 0===r;switch(n.length){case 0:return e?t():t.call(r);case 1:return e?t(n[0]):t.call(r,n[0]);case 2:return e?t(n[0],n[1]):t.call(r,n[0],n[1]);case 3:return e?t(n[0],n[1],n[2]):t.call(r,n[0],n[1],n[2]);case 4:return e?t(n[0],n[1],n[2],n[3]):t.call(r,n[0],n[1],n[2],n[3])}return t.apply(r,n)}},function(t,n,r){var e=r(6),i=r(45),o=r(7)("match");t.exports=function(t){var n;return e(t)&&(void 0!==(n=t[o])?!!n:"RegExp"==i(t))}},function(t,n,r){var e=r(7)("iterator"),i=!1;try{var o=[7][e]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,n){if(!n&&!i)return!1;var r=!1;try{var o=[7],u=o[e]();u.next=function(){return{done:r=!0}},o[e]=function(){return u},t(o)}catch(t){}return r}},function(t,n,r){t.exports=r(69)||!r(4)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete r(3)[t]})},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,r){var e=r(3),i="__core-js_shared__",o=e[i]||(e[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,n,r){for(var e,i=r(3),o=r(27),u=r(76),c=u("typed_array"),f=u("view"),a=!(!i.ArrayBuffer||!i.DataView),s=a,l=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l<9;)(e=i[h[l++]])?(o(e.prototype,c,!0),o(e.prototype,f,!0)):s=!1;t.exports={ABV:a,CONSTR:s,TYPED:c,VIEW:f}},function(t,n){"use strict";var r={versions:function(){var t=window.navigator.userAgent;return{trident:t.indexOf("Trident")>-1,presto:t.indexOf("Presto")>-1,webKit:t.indexOf("AppleWebKit")>-1,gecko:t.indexOf("Gecko")>-1&&-1==t.indexOf("KHTML"),mobile:!!t.match(/AppleWebKit.*Mobile.*/),ios:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:t.indexOf("Android")>-1||t.indexOf("Linux")>-1,iPhone:t.indexOf("iPhone")>-1||t.indexOf("Mac")>-1,iPad:t.indexOf("iPad")>-1,webApp:-1==t.indexOf("Safari"),weixin:-1==t.indexOf("MicroMessenger")}}()};t.exports=r},function(t,n,r){"use strict";var e=r(85),i=function(t){return t&&t.__esModule?t:{default:t}}(e),o=function(){function t(t,n,e){return n||e?String.fromCharCode(n||e):r[t]||t}function n(t){return e[t]}var r={"&quot;":'"',"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" "},e={};for(var u in r)e[r[u]]=u;return r["&apos;"]="'",e["'"]="&#39;",{encode:function(t){return t?(""+t).replace(/['<> "&]/g,n).replace(/\r?\n/g,"<br/>").replace(/\s/g,"&nbsp;"):""},decode:function(n){return n?(""+n).replace(/<br\s*\/?>/gi,"\n").replace(/&quot;|&lt;|&gt;|&amp;|&nbsp;|&apos;|&#(\d+);|&#(\d+)/g,t).replace(/\u00a0/g," "):""},encodeBase16:function(t){if(!t)return t;t+="";for(var n=[],r=0,e=t.length;e>r;r++)n.push(t.charCodeAt(r).toString(16).toUpperCase());return n.join("")},encodeBase16forJSON:function(t){if(!t)return t;t=t.replace(/[\u4E00-\u9FBF]/gi,function(t){return escape(t).replace("%u","\\u")});for(var n=[],r=0,e=t.length;e>r;r++)n.push(t.charCodeAt(r).toString(16).toUpperCase());return n.join("")},decodeBase16:function(t){if(!t)return t;t+="";for(var n=[],r=0,e=t.length;e>r;r+=2)n.push(String.fromCharCode("0x"+t.slice(r,r+2)));return n.join("")},encodeObject:function(t){if(t instanceof Array)for(var n=0,r=t.length;r>n;n++)t[n]=o.encodeObject(t[n]);else if("object"==(void 0===t?"undefined":(0,i.default)(t)))for(var e in t)t[e]=o.encodeObject(t[e]);else if("string"==typeof t)return o.encode(t);return t},loadScript:function(t){var n=document.createElement("script");document.getElementsByTagName("body")[0].appendChild(n),n.setAttribute("src",t)},addLoadEvent:function(t){var n=window.onload;"function"!=typeof window.onload?window.onload=t:window.onload=function(){n(),t()}}}}();t.exports=o},function(t,n,r){"use strict";var e=r(17),i=r(75),o=r(16);t.exports=function(t){for(var n=e(this),r=o(n.length),u=arguments.length,c=i(u>1?arguments[1]:void 0,r),f=u>2?arguments[2]:void 0,a=void 0===f?r:i(f,r);a>c;)n[c++]=t;return n}},function(t,n,r){"use strict";var e=r(11),i=r(66);t.exports=function(t,n,r){n in t?e.f(t,n,i(0,r)):t[n]=r}},function(t,n,r){var e=r(6),i=r(3).document,o=e(i)&&e(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n,r){var e=r(7)("match");t.exports=function(t){var n=/./;try{"/./"[t](n)}catch(r){try{return n[e]=!1,!"/./"[t](n)}catch(t){}}return!0}},function(t,n,r){t.exports=r(3).document&&document.documentElement},function(t,n,r){var e=r(6),i=r(144).set;t.exports=function(t,n,r){var o,u=n.constructor;return u!==r&&"function"==typeof u&&(o=u.prototype)!==r.prototype&&e(o)&&i&&i(t,o),t}},function(t,n,r){var e=r(80),i=r(7)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(e.Array===t||o[i]===t)}},function(t,n,r){var e=r(45);t.exports=Array.isArray||function(t){return"Array"==e(t)}},function(t,n,r){"use strict";var e=r(70),i=r(66),o=r(81),u={};r(27)(u,r(7)("iterator"),function(){return this}),t.exports=function(t,n,r){t.prototype=e(u,{next:i(1,r)}),o(t,n+" Iterator")}},function(t,n,r){"use strict";var e=r(69),i=r(1),o=r(28),u=r(27),c=r(24),f=r(80),a=r(139),s=r(81),l=r(32),h=r(7)("iterator"),v=!([].keys&&"next"in[].keys()),p="keys",d="values",y=function(){return this};t.exports=function(t,n,r,g,b,m,x){a(r,n,g);var w,S,_,O=function(t){if(!v&&t in F)return F[t];switch(t){case p:case d:return function(){return new r(this,t)}}return function(){return new r(this,t)}},E=n+" Iterator",P=b==d,j=!1,F=t.prototype,M=F[h]||F["@@iterator"]||b&&F[b],A=M||O(b),N=b?P?O("entries"):A:void 0,T="Array"==n?F.entries||M:M;if(T&&(_=l(T.call(new t)))!==Object.prototype&&(s(_,E,!0),e||c(_,h)||u(_,h,y)),P&&M&&M.name!==d&&(j=!0,A=function(){return M.call(this)}),e&&!x||!v&&!j&&F[h]||u(F,h,A),f[n]=A,f[E]=y,b)if(w={values:P?A:O(d),keys:m?A:O(p),entries:N},x)for(S in w)S in F||o(F,S,w[S]);else i(i.P+i.F*(v||j),n,w);return w}},function(t,n){var r=Math.expm1;t.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:r},function(t,n){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,n,r){var e=r(3),i=r(151).set,o=e.MutationObserver||e.WebKitMutationObserver,u=e.process,c=e.Promise,f="process"==r(45)(u);t.exports=function(){var t,n,r,a=function(){var e,i;for(f&&(e=u.domain)&&e.exit();t;){i=t.fn,t=t.next;try{i()}catch(e){throw t?r():n=void 0,e}}n=void 0,e&&e.enter()};if(f)r=function(){u.nextTick(a)};else if(o){var s=!0,l=document.createTextNode("");new o(a).observe(l,{characterData:!0}),r=function(){l.data=s=!s}}else if(c&&c.resolve){var h=c.resolve();r=function(){h.then(a)}}else r=function(){i.call(e,a)};return function(e){var i={fn:e,next:void 0};n&&(n.next=i),t||(t=i,r()),n=i}}},function(t,n,r){var e=r(6),i=r(2),o=function(t,n){if(i(t),!e(n)&&null!==n)throw TypeError(n+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,e){try{e=r(53)(Function.call,r(31).f(Object.prototype,"__proto__").set,2),e(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,r){return o(t,r),n?t.__proto__=r:e(t,r),t}}({},!1):void 0),check:o}},function(t,n,r){var e=r(126)("keys"),i=r(76);t.exports=function(t){return e[t]||(e[t]=i(t))}},function(t,n,r){var e=r(2),i=r(26),o=r(7)("species");t.exports=function(t,n){var r,u=e(t).constructor;return void 0===u||void 0==(r=e(u)[o])?n:i(r)}},function(t,n,r){var e=r(67),i=r(46);t.exports=function(t){return function(n,r){var o,u,c=String(i(n)),f=e(r),a=c.length;return f<0||f>=a?t?"":void 0:(o=c.charCodeAt(f),o<55296||o>56319||f+1===a||(u=c.charCodeAt(f+1))<56320||u>57343?t?c.charAt(f):o:t?c.slice(f,f+2):u-56320+(o-55296<<10)+65536)}}},function(t,n,r){var e=r(122),i=r(46);t.exports=function(t,n,r){if(e(n))throw TypeError("String#"+r+" doesn't accept regex!");return String(i(t))}},function(t,n,r){"use strict";var e=r(67),i=r(46);t.exports=function(t){var n=String(i(this)),r="",o=e(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(n+=n))1&o&&(r+=n);return r}},function(t,n){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,n,r){var e,i,o,u=r(53),c=r(121),f=r(135),a=r(132),s=r(3),l=s.process,h=s.setImmediate,v=s.clearImmediate,p=s.MessageChannel,d=0,y={},g="onreadystatechange",b=function(){var t=+this;if(y.hasOwnProperty(t)){var n=y[t];delete y[t],n()}},m=function(t){b.call(t.data)};h&&v||(h=function(t){for(var n=[],r=1;arguments.length>r;)n.push(arguments[r++]);return y[++d]=function(){c("function"==typeof t?t:Function(t),n)},e(d),d},v=function(t){delete y[t]},"process"==r(45)(l)?e=function(t){l.nextTick(u(b,t,1))}:p?(i=new p,o=i.port2,i.port1.onmessage=m,e=u(o.postMessage,o,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts?(e=function(t){s.postMessage(t+"","*")},s.addEventListener("message",m,!1)):e=g in a("script")?function(t){f.appendChild(a("script"))[g]=function(){f.removeChild(this),b.call(t)}}:function(t){setTimeout(u(b,t,1),0)}),t.exports={set:h,clear:v}},function(t,n,r){"use strict";var e=r(3),i=r(10),o=r(69),u=r(127),c=r(27),f=r(73),a=r(4),s=r(68),l=r(67),h=r(16),v=r(71).f,p=r(11).f,d=r(130),y=r(81),g="ArrayBuffer",b="DataView",m="prototype",x="Wrong length!",w="Wrong index!",S=e[g],_=e[b],O=e.Math,E=e.RangeError,P=e.Infinity,j=S,F=O.abs,M=O.pow,A=O.floor,N=O.log,T=O.LN2,I="buffer",k="byteLength",L="byteOffset",R=i?"_b":I,C=i?"_l":k,D=i?"_o":L,U=function(t,n,r){var e,i,o,u=Array(r),c=8*r-n-1,f=(1<<c)-1,a=f>>1,s=23===n?M(2,-24)-M(2,-77):0,l=0,h=t<0||0===t&&1/t<0?1:0;for(t=F(t),t!=t||t===P?(i=t!=t?1:0,e=f):(e=A(N(t)/T),t*(o=M(2,-e))<1&&(e--,o*=2),t+=e+a>=1?s/o:s*M(2,1-a),t*o>=2&&(e++,o/=2),e+a>=f?(i=0,e=f):e+a>=1?(i=(t*o-1)*M(2,n),e+=a):(i=t*M(2,a-1)*M(2,n),e=0));n>=8;u[l++]=255&i,i/=256,n-=8);for(e=e<<n|i,c+=n;c>0;u[l++]=255&e,e/=256,c-=8);return u[--l]|=128*h,u},W=function(t,n,r){var e,i=8*r-n-1,o=(1<<i)-1,u=o>>1,c=i-7,f=r-1,a=t[f--],s=127&a;for(a>>=7;c>0;s=256*s+t[f],f--,c-=8);for(e=s&(1<<-c)-1,s>>=-c,c+=n;c>0;e=256*e+t[f],f--,c-=8);if(0===s)s=1-u;else{if(s===o)return e?NaN:a?-P:P;e+=M(2,n),s-=u}return(a?-1:1)*e*M(2,s-n)},G=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},B=function(t){return[255&t]},V=function(t){return[255&t,t>>8&255]},z=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},q=function(t){return U(t,52,8)},K=function(t){return U(t,23,4)},J=function(t,n,r){p(t[m],n,{get:function(){return this[r]}})},Y=function(t,n,r,e){var i=+r,o=l(i);if(i!=o||o<0||o+n>t[C])throw E(w);var u=t[R]._b,c=o+t[D],f=u.slice(c,c+n);return e?f:f.reverse()},H=function(t,n,r,e,i,o){var u=+r,c=l(u);if(u!=c||c<0||c+n>t[C])throw E(w);for(var f=t[R]._b,a=c+t[D],s=e(+i),h=0;h<n;h++)f[a+h]=s[o?h:n-h-1]},$=function(t,n){s(t,S,g);var r=+n,e=h(r);if(r!=e)throw E(x);return e};if(u.ABV){if(!a(function(){new S})||!a(function(){new S(.5)})){S=function(t){return new j($(this,t))};for(var X,Q=S[m]=j[m],Z=v(j),tt=0;Z.length>tt;)(X=Z[tt++])in S||c(S,X,j[X]);o||(Q.constructor=S)}var nt=new _(new S(2)),rt=_[m].setInt8;nt.setInt8(0,2147483648),nt.setInt8(1,2147483649),!nt.getInt8(0)&&nt.getInt8(1)||f(_[m],{setInt8:function(t,n){rt.call(this,t,n<<24>>24)},setUint8:function(t,n){rt.call(this,t,n<<24>>24)}},!0)}else S=function(t){var n=$(this,t);this._b=d.call(Array(n),0),this[C]=n},_=function(t,n,r){s(this,_,b),s(t,S,b);var e=t[C],i=l(n);if(i<0||i>e)throw E("Wrong offset!");if(r=void 0===r?e-i:h(r),i+r>e)throw E(x);this[R]=t,this[D]=i,this[C]=r},i&&(J(S,k,"_l"),J(_,I,"_b"),J(_,k,"_l"),J(_,L,"_o")),f(_[m],{getInt8:function(t){return Y(this,1,t)[0]<<24>>24},getUint8:function(t){return Y(this,1,t)[0]},getInt16:function(t){var n=Y(this,2,t,arguments[1]);return(n[1]<<8|n[0])<<16>>16},getUint16:function(t){var n=Y(this,2,t,arguments[1]);return n[1]<<8|n[0]},getInt32:function(t){return G(Y(this,4,t,arguments[1]))},getUint32:function(t){return G(Y(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return W(Y(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return W(Y(this,8,t,arguments[1]),52,8)},setInt8:function(t,n){H(this,1,t,B,n)},setUint8:function(t,n){H(this,1,t,B,n)},setInt16:function(t,n){H(this,2,t,V,n,arguments[2])},setUint16:function(t,n){H(this,2,t,V,n,arguments[2])},setInt32:function(t,n){H(this,4,t,z,n,arguments[2])},setUint32:function(t,n){H(this,4,t,z,n,arguments[2])},setFloat32:function(t,n){H(this,4,t,K,n,arguments[2])},setFloat64:function(t,n){H(this,8,t,q,n,arguments[2])}});y(S,g),y(_,b),c(_[m],u.VIEW,!0),n[g]=S,n[b]=_},function(t,n,r){var e=r(3),i=r(52),o=r(69),u=r(182),c=r(11).f;t.exports=function(t){var n=i.Symbol||(i.Symbol=o?{}:e.Symbol||{});"_"==t.charAt(0)||t in n||c(n,t,{value:u.f(t)})}},function(t,n,r){var e=r(114),i=r(7)("iterator"),o=r(80);t.exports=r(52).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[e(t)]}},function(t,n,r){"use strict";var e=r(78),i=r(170),o=r(80),u=r(30);t.exports=r(140)(Array,"Array",function(t,n){this._t=u(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):"keys"==n?i(0,r):"values"==n?i(0,t[r]):i(0,[r,t[r]])},"values"),o.Arguments=o.Array,e("keys"),e("values"),e("entries")},function(t,n){function r(t,n){t.classList?t.classList.add(n):t.className+=" "+n}t.exports=r},function(t,n){function r(t,n){if(t.classList)t.classList.remove(n);else{var r=new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi");t.className=t.className.replace(r," ")}}t.exports=r},function(t,n){function r(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function i(t){if(s===setTimeout)return setTimeout(t,0);if((s===r||!s)&&setTimeout)return s=setTimeout,setTimeout(t,0);try{return s(t,0)}catch(n){try{return s.call(null,t,0)}catch(n){return s.call(this,t,0)}}}function o(t){if(l===clearTimeout)return clearTimeout(t);if((l===e||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(n){try{return l.call(null,t)}catch(n){return l.call(this,t)}}}function u(){d&&v&&(d=!1,v.length?p=v.concat(p):y=-1,p.length&&c())}function c(){if(!d){var t=i(u);d=!0;for(var n=p.length;n;){for(v=p,p=[];++y<n;)v&&v[y].run();y=-1,n=p.length}v=null,d=!1,o(t)}}function f(t,n){this.fun=t,this.array=n}function a(){}var s,l,h=t.exports={};!function(){try{s="function"==typeof setTimeout?setTimeout:r}catch(t){s=r}try{l="function"==typeof clearTimeout?clearTimeout:e}catch(t){l=e}}();var v,p=[],d=!1,y=-1;h.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];p.push(new f(t,n)),1!==p.length||d||i(c)},f.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=a,h.addListener=a,h.once=a,h.off=a,h.removeListener=a,h.removeAllListeners=a,h.emit=a,h.prependListener=a,h.prependOnceListener=a,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,n,r){var e=r(45);t.exports=function(t,n){if("number"!=typeof t&&"Number"!=e(t))throw TypeError(n);return+t}},function(t,n,r){"use strict";var e=r(17),i=r(75),o=r(16);t.exports=[].copyWithin||function(t,n){var r=e(this),u=o(r.length),c=i(t,u),f=i(n,u),a=arguments.length>2?arguments[2]:void 0,s=Math.min((void 0===a?u:i(a,u))-f,u-c),l=1;for(f<c&&c<f+s&&(l=-1,f+=s-1,c+=s-1);s-- >0;)f in r?r[c]=r[f]:delete r[c],c+=l,f+=l;return r}},function(t,n,r){var e=r(79);t.exports=function(t,n){var r=[];return e(t,!1,r.push,r,n),r}},function(t,n,r){var e=r(26),i=r(17),o=r(115),u=r(16);t.exports=function(t,n,r,c,f){e(n);var a=i(t),s=o(a),l=u(a.length),h=f?l-1:0,v=f?-1:1;if(r<2)for(;;){if(h in s){c=s[h],h+=v;break}if(h+=v,f?h<0:l<=h)throw TypeError("Reduce of empty array with no initial value")}for(;f?h>=0:l>h;h+=v)h in s&&(c=n(c,s[h],h,a));return c}},function(t,n,r){"use strict";var e=r(26),i=r(6),o=r(121),u=[].slice,c={},f=function(t,n,r){if(!(n in c)){for(var e=[],i=0;i<n;i++)e[i]="a["+i+"]";c[n]=Function("F,a","return new F("+e.join(",")+")")}return c[n](t,r)};t.exports=Function.bind||function(t){var n=e(this),r=u.call(arguments,1),c=function(){var e=r.concat(u.call(arguments));return this instanceof c?f(n,e.length,e):o(n,e,t)};return i(n.prototype)&&(c.prototype=n.prototype),c}},function(t,n,r){"use strict";var e=r(11).f,i=r(70),o=r(73),u=r(53),c=r(68),f=r(46),a=r(79),s=r(140),l=r(170),h=r(74),v=r(10),p=r(65).fastKey,d=v?"_s":"size",y=function(t,n){var r,e=p(n);if("F"!==e)return t._i[e];for(r=t._f;r;r=r.n)if(r.k==n)return r};t.exports={getConstructor:function(t,n,r,s){var l=t(function(t,e){c(t,l,n,"_i"),t._i=i(null),t._f=void 0,t._l=void 0,t[d]=0,void 0!=e&&a(e,r,t[s],t)});return o(l.prototype,{clear:function(){for(var t=this,n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[d]=0},delete:function(t){var n=this,r=y(n,t);if(r){var e=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=e),e&&(e.p=i),n._f==r&&(n._f=e),n._l==r&&(n._l=i),n[d]--}return!!r},forEach:function(t){c(this,l,"forEach");for(var n,r=u(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!y(this,t)}}),v&&e(l.prototype,"size",{get:function(){return f(this[d])}}),l},def:function(t,n,r){var e,i,o=y(t,n);return o?o.v=r:(t._l=o={i:i=p(n,!0),k:n,v:r,p:e=t._l,n:void 0,r:!1},t._f||(t._f=o),e&&(e.n=o),t[d]++,"F"!==i&&(t._i[i]=o)),t},getEntry:y,setStrong:function(t,n,r){s(t,n,function(t,n){this._t=t,this._k=n,this._l=void 0},function(){for(var t=this,n=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?"keys"==n?l(0,r.k):"values"==n?l(0,r.v):l(0,[r.k,r.v]):(t._t=void 0,l(1))},r?"entries":"values",!r,!0),h(n)}}},function(t,n,r){var e=r(114),i=r(161);t.exports=function(t){return function(){if(e(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,n,r){"use strict";var e=r(73),i=r(65).getWeak,o=r(2),u=r(6),c=r(68),f=r(79),a=r(48),s=r(24),l=a(5),h=a(6),v=0,p=function(t){return t._l||(t._l=new d)},d=function(){this.a=[]},y=function(t,n){return l(t.a,function(t){return t[0]===n})};d.prototype={get:function(t){var n=y(this,t);if(n)return n[1]},has:function(t){return!!y(this,t)},set:function(t,n){var r=y(this,t);r?r[1]=n:this.a.push([t,n])},delete:function(t){var n=h(this.a,function(n){return n[0]===t});return~n&&this.a.splice(n,1),!!~n}},t.exports={getConstructor:function(t,n,r,o){var a=t(function(t,e){c(t,a,n,"_i"),t._i=v++,t._l=void 0,void 0!=e&&f(e,r,t[o],t)});return e(a.prototype,{delete:function(t){if(!u(t))return!1;var n=i(t);return!0===n?p(this).delete(t):n&&s(n,this._i)&&delete n[this._i]},has:function(t){if(!u(t))return!1;var n=i(t);return!0===n?p(this).has(t):n&&s(n,this._i)}}),a},def:function(t,n,r){var e=i(o(n),!0);return!0===e?p(t).set(n,r):e[t._i]=r,t},ufstore:p}},function(t,n,r){t.exports=!r(10)&&!r(4)(function(){return 7!=Object.defineProperty(r(132)("div"),"a",{get:function(){return 7}}).a})},function(t,n,r){var e=r(6),i=Math.floor;t.exports=function(t){return!e(t)&&isFinite(t)&&i(t)===t}},function(t,n,r){var e=r(2);t.exports=function(t,n,r,i){try{return i?n(e(r)[0],r[1]):n(r)}catch(n){var o=t.return;throw void 0!==o&&e(o.call(t)),n}}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,n,r){"use strict";var e=r(72),i=r(125),o=r(116),u=r(17),c=r(115),f=Object.assign;t.exports=!f||r(4)(function(){var t={},n={},r=Symbol(),e="abcdefghijklmnopqrst";return t[r]=7,e.split("").forEach(function(t){n[t]=t}),7!=f({},t)[r]||Object.keys(f({},n)).join("")!=e})?function(t,n){for(var r=u(t),f=arguments.length,a=1,s=i.f,l=o.f;f>a;)for(var h,v=c(arguments[a++]),p=s?e(v).concat(s(v)):e(v),d=p.length,y=0;d>y;)l.call(v,h=p[y++])&&(r[h]=v[h]);return r}:f},function(t,n,r){var e=r(11),i=r(2),o=r(72);t.exports=r(10)?Object.defineProperties:function(t,n){i(t);for(var r,u=o(n),c=u.length,f=0;c>f;)e.f(t,r=u[f++],n[r]);return t}},function(t,n,r){var e=r(30),i=r(71).f,o={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return i(t)}catch(t){return u.slice()}};t.exports.f=function(t){return u&&"[object Window]"==o.call(t)?c(t):i(e(t))}},function(t,n,r){var e=r(24),i=r(30),o=r(117)(!1),u=r(145)("IE_PROTO");t.exports=function(t,n){var r,c=i(t),f=0,a=[];for(r in c)r!=u&&e(c,r)&&a.push(r);for(;n.length>f;)e(c,r=n[f++])&&(~o(a,r)||a.push(r));return a}},function(t,n,r){var e=r(72),i=r(30),o=r(116).f;t.exports=function(t){return function(n){for(var r,u=i(n),c=e(u),f=c.length,a=0,s=[];f>a;)o.call(u,r=c[a++])&&s.push(t?[r,u[r]]:u[r]);return s}}},function(t,n,r){var e=r(71),i=r(125),o=r(2),u=r(3).Reflect;t.exports=u&&u.ownKeys||function(t){var n=e.f(o(t)),r=i.f;return r?n.concat(r(t)):n}},function(t,n,r){var e=r(3).parseFloat,i=r(82).trim;t.exports=1/e(r(150)+"-0")!=-1/0?function(t){var n=i(String(t),3),r=e(n);return 0===r&&"-"==n.charAt(0)?-0:r}:e},function(t,n,r){var e=r(3).parseInt,i=r(82).trim,o=r(150),u=/^[\-+]?0[xX]/;t.exports=8!==e(o+"08")||22!==e(o+"0x16")?function(t,n){var r=i(String(t),3);return e(r,n>>>0||(u.test(r)?16:10))}:e},function(t,n){t.exports=Object.is||function(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n}},function(t,n,r){var e=r(16),i=r(149),o=r(46);t.exports=function(t,n,r,u){var c=String(o(t)),f=c.length,a=void 0===r?" ":String(r),s=e(n);if(s<=f||""==a)return c;var l=s-f,h=i.call(a,Math.ceil(l/a.length));return h.length>l&&(h=h.slice(0,l)),u?h+c:c+h}},function(t,n,r){n.f=r(7)},function(t,n,r){"use strict";var e=r(164);t.exports=r(118)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var n=e.getEntry(this,t);return n&&n.v},set:function(t,n){return e.def(this,0===t?0:t,n)}},e,!0)},function(t,n,r){r(10)&&"g"!=/./g.flags&&r(11).f(RegExp.prototype,"flags",{configurable:!0,get:r(120)})},function(t,n,r){"use strict";var e=r(164);t.exports=r(118)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return e.def(this,t=0===t?0:t,t)}},e)},function(t,n,r){"use strict";var e,i=r(48)(0),o=r(28),u=r(65),c=r(172),f=r(166),a=r(6),s=u.getWeak,l=Object.isExtensible,h=f.ufstore,v={},p=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},d={get:function(t){if(a(t)){var n=s(t);return!0===n?h(this).get(t):n?n[this._i]:void 0}},set:function(t,n){return f.def(this,t,n)}},y=t.exports=r(118)("WeakMap",p,d,f,!0,!0);7!=(new y).set((Object.freeze||Object)(v),7).get(v)&&(e=f.getConstructor(p),c(e.prototype,d),u.NEED=!0,i(["delete","has","get","set"],function(t){var n=y.prototype,r=n[t];o(n,t,function(n,i){if(a(n)&&!l(n)){this._f||(this._f=new e);var o=this._f[t](n,i);return"set"==t?this:o}return r.call(this,n,i)})}))},,,,function(t,n){"use strict";function r(){var t=document.querySelector("#page-nav");if(t&&!document.querySelector("#page-nav .extend.prev")&&(t.innerHTML='<a class="extend prev disabled" rel="prev">&laquo; Prev</a>'+t.innerHTML),t&&!document.querySelector("#page-nav .extend.next")&&(t.innerHTML=t.innerHTML+'<a class="extend next disabled" rel="next">Next &raquo;</a>'),yiliaConfig&&yiliaConfig.open_in_new){document.querySelectorAll(".article-entry a:not(.article-more-a)").forEach(function(t){var n=t.getAttribute("target");n&&""!==n||t.setAttribute("target","_blank")})}if(yiliaConfig&&yiliaConfig.toc_hide_index){document.querySelectorAll(".toc-number").forEach(function(t){t.style.display="none"})}var n=document.querySelector("#js-aboutme");n&&0!==n.length&&(n.innerHTML=n.innerText)}t.exports={init:r}},function(t,n,r){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function i(t,n){var r=/\/|index.html/g;return t.replace(r,"")===n.replace(r,"")}function o(){for(var t=document.querySelectorAll(".js-header-menu li a"),n=window.location.pathname,r=0,e=t.length;r<e;r++){var o=t[r];i(n,o.getAttribute("href"))&&(0,h.default)(o,"active")}}function u(t){for(var n=t.offsetLeft,r=t.offsetParent;null!==r;)n+=r.offsetLeft,r=r.offsetParent;return n}function c(t){for(var n=t.offsetTop,r=t.offsetParent;null!==r;)n+=r.offsetTop,r=r.offsetParent;return n}function f(t,n,r,e,i){var o=u(t),f=c(t)-n;if(f-r<=i){var a=t.$newDom;a||(a=t.cloneNode(!0),(0,d.default)(t,a),t.$newDom=a,a.style.position="fixed",a.style.top=(r||f)+"px",a.style.left=o+"px",a.style.zIndex=e||2,a.style.width="100%",a.style.color="#fff"),a.style.visibility="visible",t.style.visibility="hidden"}else{t.style.visibility="visible";var s=t.$newDom;s&&(s.style.visibility="hidden")}}function a(){var t=document.querySelector(".js-overlay"),n=document.querySelector(".js-header-menu");f(t,document.body.scrollTop,-63,2,0),f(n,document.body.scrollTop,1,3,0)}function s(){document.querySelector("#container").addEventListener("scroll",function(t){a()}),window.addEventListener("scroll",function(t){a()}),a()}var l=r(156),h=e(l),v=r(157),p=(e(v),r(382)),d=e(p),y=r(128),g=e(y),b=r(190),m=e(b),x=r(129);(function(){g.default.versions.mobile&&window.screen.width<800&&(o(),s())})(),(0,x.addLoadEvent)(function(){m.default.init()}),t.exports={}},,,,function(t,n,r){(function(t){"use strict";function n(t,n,r){t[n]||Object[e](t,n,{writable:!0,configurable:!0,value:r})}if(r(381),r(391),r(198),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var e="defineProperty";n(String.prototype,"padLeft","".padStart),n(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&n(Array,t,Function.call.bind([][t]))})}).call(n,function(){return this}())},,,function(t,n,r){r(210),t.exports=r(52).RegExp.escape},,,,function(t,n,r){var e=r(6),i=r(138),o=r(7)("species");t.exports=function(t){var n;return i(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)||(n=void 0),e(n)&&null===(n=n[o])&&(n=void 0)),void 0===n?Array:n}},function(t,n,r){var e=r(202);t.exports=function(t,n){return new(e(t))(n)}},function(t,n,r){"use strict";var e=r(2),i=r(50),o="number";t.exports=function(t){if("string"!==t&&t!==o&&"default"!==t)throw TypeError("Incorrect hint");return i(e(this),t!=o)}},function(t,n,r){var e=r(72),i=r(125),o=r(116);t.exports=function(t){var n=e(t),r=i.f;if(r)for(var u,c=r(t),f=o.f,a=0;c.length>a;)f.call(t,u=c[a++])&&n.push(u);return n}},function(t,n,r){var e=r(72),i=r(30);t.exports=function(t,n){for(var r,o=i(t),u=e(o),c=u.length,f=0;c>f;)if(o[r=u[f++]]===n)return r}},function(t,n,r){"use strict";var e=r(208),i=r(121),o=r(26);t.exports=function(){for(var t=o(this),n=arguments.length,r=Array(n),u=0,c=e._,f=!1;n>u;)(r[u]=arguments[u++])===c&&(f=!0);return function(){var e,o=this,u=arguments.length,a=0,s=0;if(!f&&!u)return i(t,r,o);if(e=r.slice(),f)for(;n>a;a++)e[a]===c&&(e[a]=arguments[s++]);for(;u>s;)e.push(arguments[s++]);return i(t,e,o)}}},function(t,n,r){t.exports=r(3)},function(t,n){t.exports=function(t,n){var r=n===Object(n)?function(t){return n[t]}:n;return function(n){return String(n).replace(t,r)}}},function(t,n,r){var e=r(1),i=r(209)(/[\\^$*+?.()|[\]{}]/g,"\\$&");e(e.S,"RegExp",{escape:function(t){return i(t)}})},function(t,n,r){var e=r(1);e(e.P,"Array",{copyWithin:r(160)}),r(78)("copyWithin")},function(t,n,r){"use strict";var e=r(1),i=r(48)(4);e(e.P+e.F*!r(47)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,n,r){var e=r(1);e(e.P,"Array",{fill:r(130)}),r(78)("fill")},function(t,n,r){"use strict";var e=r(1),i=r(48)(2);e(e.P+e.F*!r(47)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(1),i=r(48)(6),o="findIndex",u=!0;o in[]&&Array(1)[o](function(){u=!1}),e(e.P+e.F*u,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(78)(o)},function(t,n,r){"use strict";var e=r(1),i=r(48)(5),o="find",u=!0;o in[]&&Array(1)[o](function(){u=!1}),e(e.P+e.F*u,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(78)(o)},function(t,n,r){"use strict";var e=r(1),i=r(48)(0),o=r(47)([].forEach,!0);e(e.P+e.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(53),i=r(1),o=r(17),u=r(169),c=r(137),f=r(16),a=r(131),s=r(154);i(i.S+i.F*!r(123)(function(t){Array.from(t)}),"Array",{from:function(t){var n,r,i,l,h=o(t),v="function"==typeof this?this:Array,p=arguments.length,d=p>1?arguments[1]:void 0,y=void 0!==d,g=0,b=s(h);if(y&&(d=e(d,p>2?arguments[2]:void 0,2)),void 0==b||v==Array&&c(b))for(n=f(h.length),r=new v(n);n>g;g++)a(r,g,y?d(h[g],g):h[g]);else for(l=b.call(h),r=new v;!(i=l.next()).done;g++)a(r,g,y?u(l,d,[i.value,g],!0):i.value);return r.length=g,r}})},function(t,n,r){"use strict";var e=r(1),i=r(117)(!1),o=[].indexOf,u=!!o&&1/[1].indexOf(1,-0)<0;e(e.P+e.F*(u||!r(47)(o)),"Array",{indexOf:function(t){return u?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,n,r){var e=r(1);e(e.S,"Array",{isArray:r(138)})},function(t,n,r){"use strict";var e=r(1),i=r(30),o=[].join;e(e.P+e.F*(r(115)!=Object||!r(47)(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},function(t,n,r){"use strict";var e=r(1),i=r(30),o=r(67),u=r(16),c=[].lastIndexOf,f=!!c&&1/[1].lastIndexOf(1,-0)<0;e(e.P+e.F*(f||!r(47)(c)),"Array",{lastIndexOf:function(t){if(f)return c.apply(this,arguments)||0;var n=i(this),r=u(n.length),e=r-1;for(arguments.length>1&&(e=Math.min(e,o(arguments[1]))),e<0&&(e=r+e);e>=0;e--)if(e in n&&n[e]===t)return e||0;return-1}})},function(t,n,r){"use strict";var e=r(1),i=r(48)(1);e(e.P+e.F*!r(47)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(1),i=r(131);e(e.S+e.F*r(4)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,n=arguments.length,r=new("function"==typeof this?this:Array)(n);n>t;)i(r,t,arguments[t++]);return r.length=n,r}})},function(t,n,r){"use strict";var e=r(1),i=r(162);e(e.P+e.F*!r(47)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,n,r){"use strict";var e=r(1),i=r(162);e(e.P+e.F*!r(47)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,n,r){"use strict";var e=r(1),i=r(135),o=r(45),u=r(75),c=r(16),f=[].slice;e(e.P+e.F*r(4)(function(){i&&f.call(i)}),"Array",{slice:function(t,n){var r=c(this.length),e=o(this);if(n=void 0===n?r:n,"Array"==e)return f.call(this,t,n);for(var i=u(t,r),a=u(n,r),s=c(a-i),l=Array(s),h=0;h<s;h++)l[h]="String"==e?this.charAt(i+h):this[i+h];return l}})},function(t,n,r){"use strict";var e=r(1),i=r(48)(3);e(e.P+e.F*!r(47)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,n,r){"use strict";var e=r(1),i=r(26),o=r(17),u=r(4),c=[].sort,f=[1,2,3];e(e.P+e.F*(u(function(){f.sort(void 0)})||!u(function(){f.sort(null)})||!r(47)(c)),"Array",{sort:function(t){return void 0===t?c.call(o(this)):c.call(o(this),i(t))}})},function(t,n,r){r(74)("Array")},function(t,n,r){var e=r(1);e(e.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,n,r){"use strict";var e=r(1),i=r(4),o=Date.prototype.getTime,u=function(t){return t>9?t:"0"+t};e(e.P+e.F*(i(function(){return"0385-07-25T07:06:39.999Z"!=new Date(-5e13-1).toISOString()})||!i(function(){new Date(NaN).toISOString()})),"Date",{toISOString:function(){
if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var t=this,n=t.getUTCFullYear(),r=t.getUTCMilliseconds(),e=n<0?"-":n>9999?"+":"";return e+("00000"+Math.abs(n)).slice(e?-6:-4)+"-"+u(t.getUTCMonth()+1)+"-"+u(t.getUTCDate())+"T"+u(t.getUTCHours())+":"+u(t.getUTCMinutes())+":"+u(t.getUTCSeconds())+"."+(r>99?r:"0"+u(r))+"Z"}})},function(t,n,r){"use strict";var e=r(1),i=r(17),o=r(50);e(e.P+e.F*r(4)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var n=i(this),r=o(n);return"number"!=typeof r||isFinite(r)?n.toISOString():null}})},function(t,n,r){var e=r(7)("toPrimitive"),i=Date.prototype;e in i||r(27)(i,e,r(204))},function(t,n,r){var e=Date.prototype,i="Invalid Date",o="toString",u=e[o],c=e.getTime;new Date(NaN)+""!=i&&r(28)(e,o,function(){var t=c.call(this);return t===t?u.call(this):i})},function(t,n,r){var e=r(1);e(e.P,"Function",{bind:r(163)})},function(t,n,r){"use strict";var e=r(6),i=r(32),o=r(7)("hasInstance"),u=Function.prototype;o in u||r(11).f(u,o,{value:function(t){if("function"!=typeof this||!e(t))return!1;if(!e(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,n,r){var e=r(11).f,i=r(66),o=r(24),u=Function.prototype,c="name",f=Object.isExtensible||function(){return!0};c in u||r(10)&&e(u,c,{configurable:!0,get:function(){try{var t=this,n=(""+t).match(/^\s*function ([^ (]*)/)[1];return o(t,c)||!f(t)||e(t,c,i(5,n)),n}catch(t){return""}}})},function(t,n,r){var e=r(1),i=r(171),o=Math.sqrt,u=Math.acosh;e(e.S+e.F*!(u&&710==Math.floor(u(Number.MAX_VALUE))&&u(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},function(t,n,r){function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}var i=r(1),o=Math.asinh;i(i.S+i.F*!(o&&1/o(0)>0),"Math",{asinh:e})},function(t,n,r){var e=r(1),i=Math.atanh;e(e.S+e.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,n,r){var e=r(1),i=r(142);e(e.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,n,r){var e=r(1);e(e.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,n,r){var e=r(1),i=Math.exp;e(e.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,n,r){var e=r(1),i=r(141);e(e.S+e.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,n,r){var e=r(1),i=r(142),o=Math.pow,u=o(2,-52),c=o(2,-23),f=o(2,127)*(2-c),a=o(2,-126),s=function(t){return t+1/u-1/u};e(e.S,"Math",{fround:function(t){var n,r,e=Math.abs(t),o=i(t);return e<a?o*s(e/a/c)*a*c:(n=(1+c/u)*e,r=n-(n-e),r>f||r!=r?o*(1/0):o*r)}})},function(t,n,r){var e=r(1),i=Math.abs;e(e.S,"Math",{hypot:function(t,n){for(var r,e,o=0,u=0,c=arguments.length,f=0;u<c;)r=i(arguments[u++]),f<r?(e=f/r,o=o*e*e+1,f=r):r>0?(e=r/f,o+=e*e):o+=r;return f===1/0?1/0:f*Math.sqrt(o)}})},function(t,n,r){var e=r(1),i=Math.imul;e(e.S+e.F*r(4)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(t,n){var r=65535,e=+t,i=+n,o=r&e,u=r&i;return 0|o*u+((r&e>>>16)*u+o*(r&i>>>16)<<16>>>0)}})},function(t,n,r){var e=r(1);e(e.S,"Math",{log10:function(t){return Math.log(t)/Math.LN10}})},function(t,n,r){var e=r(1);e(e.S,"Math",{log1p:r(171)})},function(t,n,r){var e=r(1);e(e.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,n,r){var e=r(1);e(e.S,"Math",{sign:r(142)})},function(t,n,r){var e=r(1),i=r(141),o=Math.exp;e(e.S+e.F*r(4)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,n,r){var e=r(1),i=r(141),o=Math.exp;e(e.S,"Math",{tanh:function(t){var n=i(t=+t),r=i(-t);return n==1/0?1:r==1/0?-1:(n-r)/(o(t)+o(-t))}})},function(t,n,r){var e=r(1);e(e.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,n,r){"use strict";var e=r(3),i=r(24),o=r(45),u=r(136),c=r(50),f=r(4),a=r(71).f,s=r(31).f,l=r(11).f,h=r(82).trim,v="Number",p=e[v],d=p,y=p.prototype,g=o(r(70)(y))==v,b="trim"in String.prototype,m=function(t){var n=c(t,!1);if("string"==typeof n&&n.length>2){n=b?n.trim():h(n,3);var r,e,i,o=n.charCodeAt(0);if(43===o||45===o){if(88===(r=n.charCodeAt(2))||120===r)return NaN}else if(48===o){switch(n.charCodeAt(1)){case 66:case 98:e=2,i=49;break;case 79:case 111:e=8,i=55;break;default:return+n}for(var u,f=n.slice(2),a=0,s=f.length;a<s;a++)if((u=f.charCodeAt(a))<48||u>i)return NaN;return parseInt(f,e)}}return+n};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var n=arguments.length<1?0:t,r=this;return r instanceof p&&(g?f(function(){y.valueOf.call(r)}):o(r)!=v)?u(new d(m(n)),r,p):m(n)};for(var x,w=r(10)?a(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;w.length>S;S++)i(d,x=w[S])&&!i(p,x)&&l(p,x,s(d,x));p.prototype=y,y.constructor=p,r(28)(e,v,p)}},function(t,n,r){var e=r(1);e(e.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,n,r){var e=r(1),i=r(3).isFinite;e(e.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,n,r){var e=r(1);e(e.S,"Number",{isInteger:r(168)})},function(t,n,r){var e=r(1);e(e.S,"Number",{isNaN:function(t){return t!=t}})},function(t,n,r){var e=r(1),i=r(168),o=Math.abs;e(e.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,n,r){var e=r(1);e(e.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,n,r){var e=r(1);e(e.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,n,r){var e=r(1),i=r(178);e(e.S+e.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,n,r){var e=r(1),i=r(179);e(e.S+e.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,n,r){"use strict";var e=r(1),i=r(67),o=r(159),u=r(149),c=1..toFixed,f=Math.floor,a=[0,0,0,0,0,0],s="Number.toFixed: incorrect invocation!",l="0",h=function(t,n){for(var r=-1,e=n;++r<6;)e+=t*a[r],a[r]=e%1e7,e=f(e/1e7)},v=function(t){for(var n=6,r=0;--n>=0;)r+=a[n],a[n]=f(r/t),r=r%t*1e7},p=function(){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==a[t]){var r=String(a[t]);n=""===n?r:n+u.call(l,7-r.length)+r}return n},d=function(t,n,r){return 0===n?r:n%2==1?d(t,n-1,r*t):d(t*t,n/2,r)},y=function(t){for(var n=0,r=t;r>=4096;)n+=12,r/=4096;for(;r>=2;)n+=1,r/=2;return n};e(e.P+e.F*(!!c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r(4)(function(){c.call({})})),"Number",{toFixed:function(t){var n,r,e,c,f=o(this,s),a=i(t),g="",b=l;if(a<0||a>20)throw RangeError(s);if(f!=f)return"NaN";if(f<=-1e21||f>=1e21)return String(f);if(f<0&&(g="-",f=-f),f>1e-21)if(n=y(f*d(2,69,1))-69,r=n<0?f*d(2,-n,1):f/d(2,n,1),r*=4503599627370496,(n=52-n)>0){for(h(0,r),e=a;e>=7;)h(1e7,0),e-=7;for(h(d(10,e,1),0),e=n-1;e>=23;)v(1<<23),e-=23;v(1<<e),h(1,1),v(2),b=p()}else h(0,r),h(1<<-n,0),b=p()+u.call(l,a);return a>0?(c=b.length,b=g+(c<=a?"0."+u.call(l,a-c)+b:b.slice(0,c-a)+"."+b.slice(c-a))):b=g+b,b}})},function(t,n,r){"use strict";var e=r(1),i=r(4),o=r(159),u=1..toPrecision;e(e.P+e.F*(i(function(){return"1"!==u.call(1,void 0)})||!i(function(){u.call({})})),"Number",{toPrecision:function(t){var n=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?u.call(n):u.call(n,t)}})},function(t,n,r){var e=r(1);e(e.S+e.F,"Object",{assign:r(172)})},function(t,n,r){var e=r(1);e(e.S,"Object",{create:r(70)})},function(t,n,r){var e=r(1);e(e.S+e.F*!r(10),"Object",{defineProperties:r(173)})},function(t,n,r){var e=r(1);e(e.S+e.F*!r(10),"Object",{defineProperty:r(11).f})},function(t,n,r){var e=r(6),i=r(65).onFreeze;r(49)("freeze",function(t){return function(n){return t&&e(n)?t(i(n)):n}})},function(t,n,r){var e=r(30),i=r(31).f;r(49)("getOwnPropertyDescriptor",function(){return function(t,n){return i(e(t),n)}})},function(t,n,r){r(49)("getOwnPropertyNames",function(){return r(174).f})},function(t,n,r){var e=r(17),i=r(32);r(49)("getPrototypeOf",function(){return function(t){return i(e(t))}})},function(t,n,r){var e=r(6);r(49)("isExtensible",function(t){return function(n){return!!e(n)&&(!t||t(n))}})},function(t,n,r){var e=r(6);r(49)("isFrozen",function(t){return function(n){return!e(n)||!!t&&t(n)}})},function(t,n,r){var e=r(6);r(49)("isSealed",function(t){return function(n){return!e(n)||!!t&&t(n)}})},function(t,n,r){var e=r(1);e(e.S,"Object",{is:r(180)})},function(t,n,r){var e=r(17),i=r(72);r(49)("keys",function(){return function(t){return i(e(t))}})},function(t,n,r){var e=r(6),i=r(65).onFreeze;r(49)("preventExtensions",function(t){return function(n){return t&&e(n)?t(i(n)):n}})},function(t,n,r){var e=r(6),i=r(65).onFreeze;r(49)("seal",function(t){return function(n){return t&&e(n)?t(i(n)):n}})},function(t,n,r){var e=r(1);e(e.S,"Object",{setPrototypeOf:r(144).set})},function(t,n,r){"use strict";var e=r(114),i={};i[r(7)("toStringTag")]="z",i+""!="[object z]"&&r(28)(Object.prototype,"toString",function(){return"[object "+e(this)+"]"},!0)},function(t,n,r){var e=r(1),i=r(178);e(e.G+e.F*(parseFloat!=i),{parseFloat:i})},function(t,n,r){var e=r(1),i=r(179);e(e.G+e.F*(parseInt!=i),{parseInt:i})},function(t,n,r){"use strict";var e,i,o,u=r(69),c=r(3),f=r(53),a=r(114),s=r(1),l=r(6),h=r(26),v=r(68),p=r(79),d=r(146),y=r(151).set,g=r(143)(),b="Promise",m=c.TypeError,x=c.process,w=c[b],x=c.process,S="process"==a(x),_=function(){},O=!!function(){try{var t=w.resolve(1),n=(t.constructor={})[r(7)("species")]=function(t){t(_,_)};return(S||"function"==typeof PromiseRejectionEvent)&&t.then(_)instanceof n}catch(t){}}(),E=function(t,n){return t===n||t===w&&n===o},P=function(t){var n;return!(!l(t)||"function"!=typeof(n=t.then))&&n},j=function(t){return E(w,t)?new F(t):new i(t)},F=i=function(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw m("Bad Promise constructor");n=t,r=e}),this.resolve=h(n),this.reject=h(r)},M=function(t){try{t()}catch(t){return{error:t}}},A=function(t,n){if(!t._n){t._n=!0;var r=t._c;g(function(){for(var e=t._v,i=1==t._s,o=0;r.length>o;)!function(n){var r,o,u=i?n.ok:n.fail,c=n.resolve,f=n.reject,a=n.domain;try{u?(i||(2==t._h&&I(t),t._h=1),!0===u?r=e:(a&&a.enter(),r=u(e),a&&a.exit()),r===n.promise?f(m("Promise-chain cycle")):(o=P(r))?o.call(r,c,f):c(r)):f(e)}catch(t){f(t)}}(r[o++]);t._c=[],t._n=!1,n&&!t._h&&N(t)})}},N=function(t){y.call(c,function(){var n,r,e,i=t._v;if(T(t)&&(n=M(function(){S?x.emit("unhandledRejection",i,t):(r=c.onunhandledrejection)?r({promise:t,reason:i}):(e=c.console)&&e.error&&e.error("Unhandled promise rejection",i)}),t._h=S||T(t)?2:1),t._a=void 0,n)throw n.error})},T=function(t){if(1==t._h)return!1;for(var n,r=t._a||t._c,e=0;r.length>e;)if(n=r[e++],n.fail||!T(n.promise))return!1;return!0},I=function(t){y.call(c,function(){var n;S?x.emit("rejectionHandled",t):(n=c.onrejectionhandled)&&n({promise:t,reason:t._v})})},k=function(t){var n=this;n._d||(n._d=!0,n=n._w||n,n._v=t,n._s=2,n._a||(n._a=n._c.slice()),A(n,!0))},L=function(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw m("Promise can't be resolved itself");(n=P(t))?g(function(){var e={_w:r,_d:!1};try{n.call(t,f(L,e,1),f(k,e,1))}catch(t){k.call(e,t)}}):(r._v=t,r._s=1,A(r,!1))}catch(t){k.call({_w:r,_d:!1},t)}}};O||(w=function(t){v(this,w,b,"_h"),h(t),e.call(this);try{t(f(L,this,1),f(k,this,1))}catch(t){k.call(this,t)}},e=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},e.prototype=r(73)(w.prototype,{then:function(t,n){var r=j(d(this,w));return r.ok="function"!=typeof t||t,r.fail="function"==typeof n&&n,r.domain=S?x.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&A(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),F=function(){var t=new e;this.promise=t,this.resolve=f(L,t,1),this.reject=f(k,t,1)}),s(s.G+s.W+s.F*!O,{Promise:w}),r(81)(w,b),r(74)(b),o=r(52)[b],s(s.S+s.F*!O,b,{reject:function(t){var n=j(this);return(0,n.reject)(t),n.promise}}),s(s.S+s.F*(u||!O),b,{resolve:function(t){if(t instanceof w&&E(t.constructor,this))return t;var n=j(this);return(0,n.resolve)(t),n.promise}}),s(s.S+s.F*!(O&&r(123)(function(t){w.all(t).catch(_)})),b,{all:function(t){var n=this,r=j(n),e=r.resolve,i=r.reject,o=M(function(){var r=[],o=0,u=1;p(t,!1,function(t){var c=o++,f=!1;r.push(void 0),u++,n.resolve(t).then(function(t){f||(f=!0,r[c]=t,--u||e(r))},i)}),--u||e(r)});return o&&i(o.error),r.promise},race:function(t){var n=this,r=j(n),e=r.reject,i=M(function(){p(t,!1,function(t){n.resolve(t).then(r.resolve,e)})});return i&&e(i.error),r.promise}})},function(t,n,r){var e=r(1),i=r(26),o=r(2),u=(r(3).Reflect||{}).apply,c=Function.apply;e(e.S+e.F*!r(4)(function(){u(function(){})}),"Reflect",{apply:function(t,n,r){var e=i(t),f=o(r);return u?u(e,n,f):c.call(e,n,f)}})},function(t,n,r){var e=r(1),i=r(70),o=r(26),u=r(2),c=r(6),f=r(4),a=r(163),s=(r(3).Reflect||{}).construct,l=f(function(){function t(){}return!(s(function(){},[],t)instanceof t)}),h=!f(function(){s(function(){})});e(e.S+e.F*(l||h),"Reflect",{construct:function(t,n){o(t),u(n);var r=arguments.length<3?t:o(arguments[2]);if(h&&!l)return s(t,n,r);if(t==r){switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3])}var e=[null];return e.push.apply(e,n),new(a.apply(t,e))}var f=r.prototype,v=i(c(f)?f:Object.prototype),p=Function.apply.call(t,v,n);return c(p)?p:v}})},function(t,n,r){var e=r(11),i=r(1),o=r(2),u=r(50);i(i.S+i.F*r(4)(function(){Reflect.defineProperty(e.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,n,r){o(t),n=u(n,!0),o(r);try{return e.f(t,n,r),!0}catch(t){return!1}}})},function(t,n,r){var e=r(1),i=r(31).f,o=r(2);e(e.S,"Reflect",{deleteProperty:function(t,n){var r=i(o(t),n);return!(r&&!r.configurable)&&delete t[n]}})},function(t,n,r){"use strict";var e=r(1),i=r(2),o=function(t){this._t=i(t),this._i=0;var n,r=this._k=[];for(n in t)r.push(n)};r(139)(o,"Object",function(){var t,n=this,r=n._k;do{if(n._i>=r.length)return{value:void 0,done:!0}}while(!((t=r[n._i++])in n._t));return{value:t,done:!1}}),e(e.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,n,r){var e=r(31),i=r(1),o=r(2);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,n){return e.f(o(t),n)}})},function(t,n,r){var e=r(1),i=r(32),o=r(2);e(e.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},function(t,n,r){function e(t,n){var r,c,s=arguments.length<3?t:arguments[2];return a(t)===s?t[n]:(r=i.f(t,n))?u(r,"value")?r.value:void 0!==r.get?r.get.call(s):void 0:f(c=o(t))?e(c,n,s):void 0}var i=r(31),o=r(32),u=r(24),c=r(1),f=r(6),a=r(2);c(c.S,"Reflect",{get:e})},function(t,n,r){var e=r(1);e(e.S,"Reflect",{has:function(t,n){return n in t}})},function(t,n,r){var e=r(1),i=r(2),o=Object.isExtensible;e(e.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},function(t,n,r){var e=r(1);e(e.S,"Reflect",{ownKeys:r(177)})},function(t,n,r){var e=r(1),i=r(2),o=Object.preventExtensions;e(e.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,n,r){var e=r(1),i=r(144);i&&e(e.S,"Reflect",{setPrototypeOf:function(t,n){i.check(t,n);try{return i.set(t,n),!0}catch(t){return!1}}})},function(t,n,r){function e(t,n,r){var f,h,v=arguments.length<4?t:arguments[3],p=o.f(s(t),n);if(!p){if(l(h=u(t)))return e(h,n,r,v);p=a(0)}return c(p,"value")?!(!1===p.writable||!l(v)||(f=o.f(v,n)||a(0),f.value=r,i.f(v,n,f),0)):void 0!==p.set&&(p.set.call(v,r),!0)}var i=r(11),o=r(31),u=r(32),c=r(24),f=r(1),a=r(66),s=r(2),l=r(6);f(f.S,"Reflect",{set:e})},function(t,n,r){var e=r(3),i=r(136),o=r(11).f,u=r(71).f,c=r(122),f=r(120),a=e.RegExp,s=a,l=a.prototype,h=/a/g,v=/a/g,p=new a(h)!==h;if(r(10)&&(!p||r(4)(function(){return v[r(7)("match")]=!1,a(h)!=h||a(v)==v||"/a/i"!=a(h,"i")}))){a=function(t,n){var r=this instanceof a,e=c(t),o=void 0===n;return!r&&e&&t.constructor===a&&o?t:i(p?new s(e&&!o?t.source:t,n):s((e=t instanceof a)?t.source:t,e&&o?f.call(t):n),r?this:l,a)};for(var d=u(s),y=0;d.length>y;)!function(t){t in a||o(a,t,{configurable:!0,get:function(){return s[t]},set:function(n){s[t]=n}})}(d[y++]);l.constructor=a,a.prototype=l,r(28)(e,"RegExp",a)}r(74)("RegExp")},function(t,n,r){r(119)("match",1,function(t,n,r){return[function(r){"use strict";var e=t(this),i=void 0==r?void 0:r[n];return void 0!==i?i.call(r,e):new RegExp(r)[n](String(e))},r]})},function(t,n,r){r(119)("replace",2,function(t,n,r){return[function(e,i){"use strict";var o=t(this),u=void 0==e?void 0:e[n];return void 0!==u?u.call(e,o,i):r.call(String(o),e,i)},r]})},function(t,n,r){r(119)("search",1,function(t,n,r){return[function(r){"use strict";var e=t(this),i=void 0==r?void 0:r[n];return void 0!==i?i.call(r,e):new RegExp(r)[n](String(e))},r]})},function(t,n,r){r(119)("split",2,function(t,n,e){"use strict";var i=r(122),o=e,u=[].push,c="split",f="length",a="lastIndex";if("c"=="abbc"[c](/(b)*/)[1]||4!="test"[c](/(?:)/,-1)[f]||2!="ab"[c](/(?:ab)*/)[f]||4!="."[c](/(.?)(.?)/)[f]||"."[c](/()()/)[f]>1||""[c](/.?/)[f]){var s=void 0===/()??/.exec("")[1];e=function(t,n){var r=String(this);if(void 0===t&&0===n)return[];if(!i(t))return o.call(r,t,n);var e,c,l,h,v,p=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),y=0,g=void 0===n?4294967295:n>>>0,b=new RegExp(t.source,d+"g");for(s||(e=new RegExp("^"+b.source+"$(?!\\s)",d));(c=b.exec(r))&&!((l=c.index+c[0][f])>y&&(p.push(r.slice(y,c.index)),!s&&c[f]>1&&c[0].replace(e,function(){for(v=1;v<arguments[f]-2;v++)void 0===arguments[v]&&(c[v]=void 0)}),c[f]>1&&c.index<r[f]&&u.apply(p,c.slice(1)),h=c[0][f],y=l,p[f]>=g));)b[a]===c.index&&b[a]++;return y===r[f]?!h&&b.test("")||p.push(""):p.push(r.slice(y)),p[f]>g?p.slice(0,g):p}}else"0"[c](void 0,0)[f]&&(e=function(t,n){return void 0===t&&0===n?[]:o.call(this,t,n)});return[function(r,i){var o=t(this),u=void 0==r?void 0:r[n];return void 0!==u?u.call(r,o,i):e.call(String(o),r,i)},e]})},function(t,n,r){"use strict";r(184);var e=r(2),i=r(120),o=r(10),u="toString",c=/./[u],f=function(t){r(28)(RegExp.prototype,u,t,!0)};r(4)(function(){return"/a/b"!=c.call({source:"a",flags:"b"})})?f(function(){var t=e(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):c.name!=u&&f(function(){return c.call(this)})},function(t,n,r){"use strict";r(29)("anchor",function(t){return function(n){return t(this,"a","name",n)}})},function(t,n,r){"use strict";r(29)("big",function(t){return function(){return t(this,"big","","")}})},function(t,n,r){"use strict";r(29)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,n,r){"use strict";r(29)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,n,r){"use strict";var e=r(1),i=r(147)(!1);e(e.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,n,r){"use strict";var e=r(1),i=r(16),o=r(148),u="endsWith",c=""[u];e(e.P+e.F*r(134)(u),"String",{endsWith:function(t){var n=o(this,t,u),r=arguments.length>1?arguments[1]:void 0,e=i(n.length),f=void 0===r?e:Math.min(i(r),e),a=String(t);return c?c.call(n,a,f):n.slice(f-a.length,f)===a}})},function(t,n,r){"use strict";r(29)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,n,r){"use strict";r(29)("fontcolor",function(t){return function(n){return t(this,"font","color",n)}})},function(t,n,r){"use strict";r(29)("fontsize",function(t){return function(n){return t(this,"font","size",n)}})},function(t,n,r){var e=r(1),i=r(75),o=String.fromCharCode,u=String.fromCodePoint;e(e.S+e.F*(!!u&&1!=u.length),"String",{fromCodePoint:function(t){for(var n,r=[],e=arguments.length,u=0;e>u;){if(n=+arguments[u++],i(n,1114111)!==n)throw RangeError(n+" is not a valid code point");r.push(n<65536?o(n):o(55296+((n-=65536)>>10),n%1024+56320))}return r.join("")}})},function(t,n,r){"use strict";var e=r(1),i=r(148),o="includes";e(e.P+e.F*r(134)(o),"String",{includes:function(t){return!!~i(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,n,r){"use strict";r(29)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,n,r){"use strict";var e=r(147)(!0);r(140)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,r=this._i;return r>=n.length?{value:void 0,done:!0}:(t=e(n,r),this._i+=t.length,{value:t,done:!1})})},function(t,n,r){"use strict";r(29)("link",function(t){return function(n){return t(this,"a","href",n)}})},function(t,n,r){var e=r(1),i=r(30),o=r(16);e(e.S,"String",{raw:function(t){for(var n=i(t.raw),r=o(n.length),e=arguments.length,u=[],c=0;r>c;)u.push(String(n[c++])),c<e&&u.push(String(arguments[c]));return u.join("")}})},function(t,n,r){var e=r(1);e(e.P,"String",{repeat:r(149)})},function(t,n,r){"use strict";r(29)("small",function(t){return function(){return t(this,"small","","")}})},function(t,n,r){"use strict";var e=r(1),i=r(16),o=r(148),u="startsWith",c=""[u];e(e.P+e.F*r(134)(u),"String",{startsWith:function(t){var n=o(this,t,u),r=i(Math.min(arguments.length>1?arguments[1]:void 0,n.length)),e=String(t);return c?c.call(n,e,r):n.slice(r,r+e.length)===e}})},function(t,n,r){"use strict";r(29)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,n,r){"use strict";r(29)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,n,r){"use strict";r(29)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,n,r){"use strict";r(82)("trim",function(t){return function(){return t(this,3)}})},function(t,n,r){"use strict";var e=r(3),i=r(24),o=r(10),u=r(1),c=r(28),f=r(65).KEY,a=r(4),s=r(126),l=r(81),h=r(76),v=r(7),p=r(182),d=r(153),y=r(206),g=r(205),b=r(138),m=r(2),x=r(30),w=r(50),S=r(66),_=r(70),O=r(174),E=r(31),P=r(11),j=r(72),F=E.f,M=P.f,A=O.f,N=e.Symbol,T=e.JSON,I=T&&T.stringify,k="prototype",L=v("_hidden"),R=v("toPrimitive"),C={}.propertyIsEnumerable,D=s("symbol-registry"),U=s("symbols"),W=s("op-symbols"),G=Object[k],B="function"==typeof N,V=e.QObject,z=!V||!V[k]||!V[k].findChild,q=o&&a(function(){return 7!=_(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(t,n,r){var e=F(G,n);e&&delete G[n],M(t,n,r),e&&t!==G&&M(G,n,e)}:M,K=function(t){var n=U[t]=_(N[k]);return n._k=t,n},J=B&&"symbol"==typeof N.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof N},Y=function(t,n,r){return t===G&&Y(W,n,r),m(t),n=w(n,!0),m(r),i(U,n)?(r.enumerable?(i(t,L)&&t[L][n]&&(t[L][n]=!1),r=_(r,{enumerable:S(0,!1)})):(i(t,L)||M(t,L,S(1,{})),t[L][n]=!0),q(t,n,r)):M(t,n,r)},H=function(t,n){m(t);for(var r,e=g(n=x(n)),i=0,o=e.length;o>i;)Y(t,r=e[i++],n[r]);return t},$=function(t,n){return void 0===n?_(t):H(_(t),n)},X=function(t){var n=C.call(this,t=w(t,!0));return!(this===G&&i(U,t)&&!i(W,t))&&(!(n||!i(this,t)||!i(U,t)||i(this,L)&&this[L][t])||n)},Q=function(t,n){if(t=x(t),n=w(n,!0),t!==G||!i(U,n)||i(W,n)){var r=F(t,n);return!r||!i(U,n)||i(t,L)&&t[L][n]||(r.enumerable=!0),r}},Z=function(t){for(var n,r=A(x(t)),e=[],o=0;r.length>o;)i(U,n=r[o++])||n==L||n==f||e.push(n);return e},tt=function(t){for(var n,r=t===G,e=A(r?W:x(t)),o=[],u=0;e.length>u;)!i(U,n=e[u++])||r&&!i(G,n)||o.push(U[n]);return o};B||(N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),n=function(r){this===G&&n.call(W,r),i(this,L)&&i(this[L],t)&&(this[L][t]=!1),q(this,t,S(1,r))};return o&&z&&q(G,t,{configurable:!0,set:n}),K(t)},c(N[k],"toString",function(){return this._k}),E.f=Q,P.f=Y,r(71).f=O.f=Z,r(116).f=X,r(125).f=tt,o&&!r(69)&&c(G,"propertyIsEnumerable",X,!0),p.f=function(t){return K(v(t))}),u(u.G+u.W+u.F*!B,{Symbol:N});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;nt.length>rt;)v(nt[rt++]);for(var nt=j(v.store),rt=0;nt.length>rt;)d(nt[rt++]);u(u.S+u.F*!B,"Symbol",{for:function(t){return i(D,t+="")?D[t]:D[t]=N(t)},keyFor:function(t){if(J(t))return y(D,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){z=!0},useSimple:function(){z=!1}}),u(u.S+u.F*!B,"Object",{create:$,defineProperty:Y,defineProperties:H,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:tt}),T&&u(u.S+u.F*(!B||a(function(){var t=N();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!J(t)){for(var n,r,e=[t],i=1;arguments.length>i;)e.push(arguments[i++]);return n=e[1],"function"==typeof n&&(r=n),!r&&b(n)||(n=function(t,n){if(r&&(n=r.call(this,t,n)),!J(n))return n}),e[1]=n,I.apply(T,e)}}}),N[k][R]||r(27)(N[k],R,N[k].valueOf),l(N,"Symbol"),l(Math,"Math",!0),l(e.JSON,"JSON",!0)},function(t,n,r){"use strict";var e=r(1),i=r(127),o=r(152),u=r(2),c=r(75),f=r(16),a=r(6),s=r(3).ArrayBuffer,l=r(146),h=o.ArrayBuffer,v=o.DataView,p=i.ABV&&s.isView,d=h.prototype.slice,y=i.VIEW,g="ArrayBuffer";e(e.G+e.W+e.F*(s!==h),{ArrayBuffer:h}),e(e.S+e.F*!i.CONSTR,g,{isView:function(t){return p&&p(t)||a(t)&&y in t}}),e(e.P+e.U+e.F*r(4)(function(){return!new h(2).slice(1,void 0).byteLength}),g,{slice:function(t,n){if(void 0!==d&&void 0===n)return d.call(u(this),t);for(var r=u(this).byteLength,e=c(t,r),i=c(void 0===n?r:n,r),o=new(l(this,h))(f(i-e)),a=new v(this),s=new v(o),p=0;e<i;)s.setUint8(p++,a.getUint8(e++));return o}}),r(74)(g)},function(t,n,r){var e=r(1);e(e.G+e.W+e.F*!r(127).ABV,{DataView:r(152).DataView})},function(t,n,r){r(55)("Float32",4,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Float64",8,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Int16",2,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Int32",4,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Int8",1,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Uint16",2,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Uint32",4,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Uint8",1,function(t){return function(n,r,e){return t(this,n,r,e)}})},function(t,n,r){r(55)("Uint8",1,function(t){return function(n,r,e){return t(this,n,r,e)}},!0)},function(t,n,r){"use strict";var e=r(166);r(118)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return e.def(this,t,!0)}},e,!1,!0)},function(t,n,r){"use strict";var e=r(1),i=r(117)(!0);e(e.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(78)("includes")},function(t,n,r){var e=r(1),i=r(143)(),o=r(3).process,u="process"==r(45)(o);e(e.G,{asap:function(t){var n=u&&o.domain;i(n?n.bind(t):t)}})},function(t,n,r){var e=r(1),i=r(45);e(e.S,"Error",{isError:function(t){return"Error"===i(t)}})},function(t,n,r){var e=r(1);e(e.P+e.R,"Map",{toJSON:r(165)("Map")})},function(t,n,r){var e=r(1);e(e.S,"Math",{iaddh:function(t,n,r,e){var i=t>>>0,o=n>>>0,u=r>>>0;return o+(e>>>0)+((i&u|(i|u)&~(i+u>>>0))>>>31)|0}})},function(t,n,r){var e=r(1);e(e.S,"Math",{imulh:function(t,n){var r=65535,e=+t,i=+n,o=e&r,u=i&r,c=e>>16,f=i>>16,a=(c*u>>>0)+(o*u>>>16);return c*f+(a>>16)+((o*f>>>0)+(a&r)>>16)}})},function(t,n,r){var e=r(1);e(e.S,"Math",{isubh:function(t,n,r,e){var i=t>>>0,o=n>>>0,u=r>>>0;return o-(e>>>0)-((~i&u|~(i^u)&i-u>>>0)>>>31)|0}})},function(t,n,r){var e=r(1);e(e.S,"Math",{umulh:function(t,n){var r=65535,e=+t,i=+n,o=e&r,u=i&r,c=e>>>16,f=i>>>16,a=(c*u>>>0)+(o*u>>>16);return c*f+(a>>>16)+((o*f>>>0)+(a&r)>>>16)}})},function(t,n,r){"use strict";var e=r(1),i=r(17),o=r(26),u=r(11);r(10)&&e(e.P+r(124),"Object",{__defineGetter__:function(t,n){u.f(i(this),t,{get:o(n),enumerable:!0,configurable:!0})}})},function(t,n,r){"use strict";var e=r(1),i=r(17),o=r(26),u=r(11);r(10)&&e(e.P+r(124),"Object",{__defineSetter__:function(t,n){u.f(i(this),t,{set:o(n),enumerable:!0,configurable:!0})}})},function(t,n,r){var e=r(1),i=r(176)(!0);e(e.S,"Object",{entries:function(t){return i(t)}})},function(t,n,r){var e=r(1),i=r(177),o=r(30),u=r(31),c=r(131);e(e.S,"Object",{getOwnPropertyDescriptors:function(t){for(var n,r=o(t),e=u.f,f=i(r),a={},s=0;f.length>s;)c(a,n=f[s++],e(r,n));return a}})},function(t,n,r){"use strict";var e=r(1),i=r(17),o=r(50),u=r(32),c=r(31).f;r(10)&&e(e.P+r(124),"Object",{__lookupGetter__:function(t){var n,r=i(this),e=o(t,!0);do{if(n=c(r,e))return n.get}while(r=u(r))}})},function(t,n,r){"use strict";var e=r(1),i=r(17),o=r(50),u=r(32),c=r(31).f;r(10)&&e(e.P+r(124),"Object",{__lookupSetter__:function(t){var n,r=i(this),e=o(t,!0);do{if(n=c(r,e))return n.set}while(r=u(r))}})},function(t,n,r){var e=r(1),i=r(176)(!1);e(e.S,"Object",{values:function(t){return i(t)}})},function(t,n,r){"use strict";var e=r(1),i=r(3),o=r(52),u=r(143)(),c=r(7)("observable"),f=r(26),a=r(2),s=r(68),l=r(73),h=r(27),v=r(79),p=v.RETURN,d=function(t){return null==t?void 0:f(t)},y=function(t){var n=t._c;n&&(t._c=void 0,n())},g=function(t){return void 0===t._o},b=function(t){g(t)||(t._o=void 0,y(t))},m=function(t,n){a(t),this._c=void 0,this._o=t,t=new x(this);try{var r=n(t),e=r;null!=r&&("function"==typeof r.unsubscribe?r=function(){e.unsubscribe()}:f(r),this._c=r)}catch(n){return void t.error(n)}g(this)&&y(this)};m.prototype=l({},{unsubscribe:function(){b(this)}});var x=function(t){this._s=t};x.prototype=l({},{next:function(t){var n=this._s;if(!g(n)){var r=n._o;try{var e=d(r.next);if(e)return e.call(r,t)}catch(t){try{b(n)}finally{throw t}}}},error:function(t){var n=this._s;if(g(n))throw t;var r=n._o;n._o=void 0;try{var e=d(r.error);if(!e)throw t;t=e.call(r,t)}catch(t){try{y(n)}finally{throw t}}return y(n),t},complete:function(t){var n=this._s;if(!g(n)){var r=n._o;n._o=void 0;try{var e=d(r.complete);t=e?e.call(r,t):void 0}catch(t){try{y(n)}finally{throw t}}return y(n),t}}});var w=function(t){s(this,w,"Observable","_f")._f=f(t)};l(w.prototype,{subscribe:function(t){return new m(t,this._f)},forEach:function(t){var n=this;return new(o.Promise||i.Promise)(function(r,e){f(t);var i=n.subscribe({next:function(n){try{return t(n)}catch(t){e(t),i.unsubscribe()}},error:e,complete:r})})}}),l(w,{from:function(t){var n="function"==typeof this?this:w,r=d(a(t)[c]);if(r){var e=a(r.call(t));return e.constructor===n?e:new n(function(t){return e.subscribe(t)})}return new n(function(n){var r=!1;return u(function(){if(!r){try{if(v(t,!1,function(t){if(n.next(t),r)return p})===p)return}catch(t){if(r)throw t;return void n.error(t)}n.complete()}}),function(){r=!0}})},of:function(){for(var t=0,n=arguments.length,r=Array(n);t<n;)r[t]=arguments[t++];return new("function"==typeof this?this:w)(function(t){var n=!1;return u(function(){if(!n){for(var e=0;e<r.length;++e)if(t.next(r[e]),n)return;t.complete()}}),function(){n=!0}})}}),h(w.prototype,c,function(){return this}),e(e.G,{Observable:w}),r(74)("Observable")},function(t,n,r){var e=r(54),i=r(2),o=e.key,u=e.set;e.exp({defineMetadata:function(t,n,r,e){u(t,n,i(r),o(e))}})},function(t,n,r){var e=r(54),i=r(2),o=e.key,u=e.map,c=e.store;e.exp({deleteMetadata:function(t,n){var r=arguments.length<3?void 0:o(arguments[2]),e=u(i(n),r,!1);if(void 0===e||!e.delete(t))return!1;if(e.size)return!0;var f=c.get(n);return f.delete(r),!!f.size||c.delete(n)}})},function(t,n,r){var e=r(185),i=r(161),o=r(54),u=r(2),c=r(32),f=o.keys,a=o.key,s=function(t,n){var r=f(t,n),o=c(t);if(null===o)return r;var u=s(o,n);return u.length?r.length?i(new e(r.concat(u))):u:r};o.exp({getMetadataKeys:function(t){return s(u(t),arguments.length<2?void 0:a(arguments[1]))}})},function(t,n,r){var e=r(54),i=r(2),o=r(32),u=e.has,c=e.get,f=e.key,a=function(t,n,r){if(u(t,n,r))return c(t,n,r);var e=o(n);return null!==e?a(t,e,r):void 0};e.exp({getMetadata:function(t,n){return a(t,i(n),arguments.length<3?void 0:f(arguments[2]))}})},function(t,n,r){var e=r(54),i=r(2),o=e.keys,u=e.key;e.exp({getOwnMetadataKeys:function(t){
return o(i(t),arguments.length<2?void 0:u(arguments[1]))}})},function(t,n,r){var e=r(54),i=r(2),o=e.get,u=e.key;e.exp({getOwnMetadata:function(t,n){return o(t,i(n),arguments.length<3?void 0:u(arguments[2]))}})},function(t,n,r){var e=r(54),i=r(2),o=r(32),u=e.has,c=e.key,f=function(t,n,r){if(u(t,n,r))return!0;var e=o(n);return null!==e&&f(t,e,r)};e.exp({hasMetadata:function(t,n){return f(t,i(n),arguments.length<3?void 0:c(arguments[2]))}})},function(t,n,r){var e=r(54),i=r(2),o=e.has,u=e.key;e.exp({hasOwnMetadata:function(t,n){return o(t,i(n),arguments.length<3?void 0:u(arguments[2]))}})},function(t,n,r){var e=r(54),i=r(2),o=r(26),u=e.key,c=e.set;e.exp({metadata:function(t,n){return function(r,e){c(t,n,(void 0!==e?i:o)(r),u(e))}}})},function(t,n,r){var e=r(1);e(e.P+e.R,"Set",{toJSON:r(165)("Set")})},function(t,n,r){"use strict";var e=r(1),i=r(147)(!0);e(e.P,"String",{at:function(t){return i(this,t)}})},function(t,n,r){"use strict";var e=r(1),i=r(46),o=r(16),u=r(122),c=r(120),f=RegExp.prototype,a=function(t,n){this._r=t,this._s=n};r(139)(a,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),e(e.P,"String",{matchAll:function(t){if(i(this),!u(t))throw TypeError(t+" is not a regexp!");var n=String(this),r="flags"in f?String(t.flags):c.call(t),e=new RegExp(t.source,~r.indexOf("g")?r:"g"+r);return e.lastIndex=o(t.lastIndex),new a(e,n)}})},function(t,n,r){"use strict";var e=r(1),i=r(181);e(e.P,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,n,r){"use strict";var e=r(1),i=r(181);e(e.P,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,n,r){"use strict";r(82)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,n,r){"use strict";r(82)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,n,r){r(153)("asyncIterator")},function(t,n,r){r(153)("observable")},function(t,n,r){var e=r(1);e(e.S,"System",{global:r(3)})},function(t,n,r){for(var e=r(155),i=r(28),o=r(3),u=r(27),c=r(80),f=r(7),a=f("iterator"),s=f("toStringTag"),l=c.Array,h=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],v=0;v<5;v++){var p,d=h[v],y=o[d],g=y&&y.prototype;if(g){g[a]||u(g,a,l),g[s]||u(g,s,d),c[d]=l;for(p in e)g[p]||i(g,p,e[p],!0)}}},function(t,n,r){var e=r(1),i=r(151);e(e.G+e.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,n,r){var e=r(3),i=r(1),o=r(121),u=r(207),c=e.navigator,f=!!c&&/MSIE .\./.test(c.userAgent),a=function(t){return f?function(n,r){return t(o(u,[].slice.call(arguments,2),"function"==typeof n?n:Function(n)),r)}:t};i(i.G+i.B+i.F*f,{setTimeout:a(e.setTimeout),setInterval:a(e.setInterval)})},function(t,n,r){r(330),r(269),r(271),r(270),r(273),r(275),r(280),r(274),r(272),r(282),r(281),r(277),r(278),r(276),r(268),r(279),r(283),r(284),r(236),r(238),r(237),r(286),r(285),r(256),r(266),r(267),r(257),r(258),r(259),r(260),r(261),r(262),r(263),r(264),r(265),r(239),r(240),r(241),r(242),r(243),r(244),r(245),r(246),r(247),r(248),r(249),r(250),r(251),r(252),r(253),r(254),r(255),r(317),r(322),r(329),r(320),r(312),r(313),r(318),r(323),r(325),r(308),r(309),r(310),r(311),r(314),r(315),r(316),r(319),r(321),r(324),r(326),r(327),r(328),r(231),r(233),r(232),r(235),r(234),r(220),r(218),r(224),r(221),r(227),r(229),r(217),r(223),r(214),r(228),r(212),r(226),r(225),r(219),r(222),r(211),r(213),r(216),r(215),r(230),r(155),r(302),r(307),r(184),r(303),r(304),r(305),r(306),r(287),r(183),r(185),r(186),r(342),r(331),r(332),r(337),r(340),r(341),r(335),r(338),r(336),r(339),r(333),r(334),r(288),r(289),r(290),r(291),r(292),r(295),r(293),r(294),r(296),r(297),r(298),r(299),r(301),r(300),r(343),r(369),r(372),r(371),r(373),r(374),r(370),r(375),r(376),r(354),r(357),r(353),r(351),r(352),r(355),r(356),r(346),r(368),r(377),r(345),r(347),r(349),r(348),r(350),r(359),r(360),r(362),r(361),r(364),r(363),r(365),r(366),r(367),r(344),r(358),r(380),r(379),r(378),t.exports=r(52)},function(t,n){function r(t,n){if("string"==typeof n)return t.insertAdjacentHTML("afterend",n);var r=t.nextSibling;return r?t.parentNode.insertBefore(n,r):t.parentNode.appendChild(n)}t.exports=r},,,,,,,,,function(t,n,r){(function(n,r){!function(n){"use strict";function e(t,n,r,e){var i=n&&n.prototype instanceof o?n:o,u=Object.create(i.prototype),c=new p(e||[]);return u._invoke=s(t,r,c),u}function i(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}function o(){}function u(){}function c(){}function f(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this._invoke(n,t)}})}function a(t){function n(r,e,o,u){var c=i(t[r],t,e);if("throw"!==c.type){var f=c.arg,a=f.value;return a&&"object"==typeof a&&m.call(a,"__await")?Promise.resolve(a.__await).then(function(t){n("next",t,o,u)},function(t){n("throw",t,o,u)}):Promise.resolve(a).then(function(t){f.value=t,o(f)},u)}u(c.arg)}function e(t,r){function e(){return new Promise(function(e,i){n(t,r,e,i)})}return o=o?o.then(e,e):e()}"object"==typeof r&&r.domain&&(n=r.domain.bind(n));var o;this._invoke=e}function s(t,n,r){var e=P;return function(o,u){if(e===F)throw new Error("Generator is already running");if(e===M){if("throw"===o)throw u;return y()}for(r.method=o,r.arg=u;;){var c=r.delegate;if(c){var f=l(c,r);if(f){if(f===A)continue;return f}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(e===P)throw e=M,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);e=F;var a=i(t,n,r);if("normal"===a.type){if(e=r.done?M:j,a.arg===A)continue;return{value:a.arg,done:r.done}}"throw"===a.type&&(e=M,r.method="throw",r.arg=a.arg)}}}function l(t,n){var r=t.iterator[n.method];if(r===g){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=g,l(t,n),"throw"===n.method))return A;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return A}var e=i(r,t.iterator,n.arg);if("throw"===e.type)return n.method="throw",n.arg=e.arg,n.delegate=null,A;var o=e.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=g),n.delegate=null,A):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,A)}function h(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function v(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function p(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function d(t){if(t){var n=t[w];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,e=function n(){for(;++r<t.length;)if(m.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=g,n.done=!0,n};return e.next=e}}return{next:y}}function y(){return{value:g,done:!0}}var g,b=Object.prototype,m=b.hasOwnProperty,x="function"==typeof Symbol?Symbol:{},w=x.iterator||"@@iterator",S=x.asyncIterator||"@@asyncIterator",_=x.toStringTag||"@@toStringTag",O="object"==typeof t,E=n.regeneratorRuntime;if(E)return void(O&&(t.exports=E));E=n.regeneratorRuntime=O?t.exports:{},E.wrap=e;var P="suspendedStart",j="suspendedYield",F="executing",M="completed",A={},N={};N[w]=function(){return this};var T=Object.getPrototypeOf,I=T&&T(T(d([])));I&&I!==b&&m.call(I,w)&&(N=I);var k=c.prototype=o.prototype=Object.create(N);u.prototype=k.constructor=c,c.constructor=u,c[_]=u.displayName="GeneratorFunction",E.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===u||"GeneratorFunction"===(n.displayName||n.name))},E.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,_ in t||(t[_]="GeneratorFunction")),t.prototype=Object.create(k),t},E.awrap=function(t){return{__await:t}},f(a.prototype),a.prototype[S]=function(){return this},E.AsyncIterator=a,E.async=function(t,n,r,i){var o=new a(e(t,n,r,i));return E.isGeneratorFunction(n)?o:o.next().then(function(t){return t.done?t.value:o.next()})},f(k),k[_]="Generator",k.toString=function(){return"[object Generator]"},E.keys=function(t){var n=[];for(var r in t)n.push(r);return n.reverse(),function r(){for(;n.length;){var e=n.pop();if(e in t)return r.value=e,r.done=!1,r}return r.done=!0,r}},E.values=d,p.prototype={constructor:p,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(v),!t)for(var n in this)"t"===n.charAt(0)&&m.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=g)},stop:function(){this.done=!0;var t=this.tryEntries[0],n=t.completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){function n(n,e){return o.type="throw",o.arg=t,r.next=n,e&&(r.method="next",r.arg=g),!!e}if(this.done)throw t;for(var r=this,e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=m.call(i,"catchLoc"),c=m.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc<=this.prev&&m.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var i=e;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=n,i?(this.method="next",this.next=i.finallyLoc,A):this.complete(o)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),A},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),v(r),A}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var e=r.completion;if("throw"===e.type){var i=e.arg;v(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:d(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=g),A}}}("object"==typeof n?n:"object"==typeof window?window:"object"==typeof self?self:this)}).call(n,function(){return this}(),r(158))}])</script><script src="/./main.0cf68a.js"></script><script>!function(){!function(e){var t=document.createElement("script");document.getElementsByTagName("body")[0].appendChild(t),t.setAttribute("src",e)}("/slider.e37972.js")}()</script>


    
<div class="tools-col" q-class="show:isShow,hide:isShow|isFalse" q-on="click:stop(e)">
  <div class="tools-nav header-menu">
    
    
      
      
      
    
      
      
      
    
    

    <ul style="width: 70%">
    
    
      
      <li style="width: 50%" q-on="click: openSlider(e, 'innerArchive')"><a href="javascript:void(0)" q-class="active:innerArchive">所有文章</a></li>
      
        
      
      <li style="width: 50%" q-on="click: openSlider(e, 'aboutme')"><a href="javascript:void(0)" q-class="active:aboutme">关于我</a></li>
      
        
    </ul>
  </div>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all" q-show="innerArchive">
        <div class="search-wrap">
          <input class="search-ipt" q-model="search" type="text" placeholder="find something…">
          <i class="icon-search icon" q-show="search|isEmptyStr"></i>
          <i class="icon-close icon" q-show="search|isNotEmptyStr" q-on="click:clearChose(e)"></i>
        </div>
        <div class="widget tagcloud search-tag">
          <p class="search-tag-wording">tag:</p>
          <label class="search-switch">
            <input type="checkbox" q-on="click:toggleTag(e)" q-attr="checked:showTags">
          </label>
          <ul class="article-tag-list" q-show="showTags">
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">MySQL</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">面试</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">PHP</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">Redis</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">剑指Offer</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">算法</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">题目</a>
              </li>
            
            <div class="clearfix"></div>
          </ul>
        </div>
        <ul class="search-ul">
          <p q-show="jsonFail" style="padding: 20px; font-size: 12px;">
            缺失模块。<br/>1、请确保node版本大于6.2<br/>2、在博客根目录（注意不是yilia根目录）执行以下命令：<br/> npm i hexo-generator-json-content --save<br/><br/>
            3、在根目录_config.yml里添加配置：
<pre style="font-size: 12px;" q-show="jsonFail">
  jsonContent:
    meta: false
    pages: false
    posts:
      title: true
      date: true
      path: true
      text: false
      raw: false
      content: false
      slug: false
      updated: false
      comments: false
      link: false
      permalink: false
      excerpt: false
      categories: false
      tags: true
</pre>
          </p>
          <li class="search-li" q-repeat="items" q-show="isShow">
            <a q-attr="href:path|urlformat" class="search-title"><i class="icon-quo-left icon"></i><span q-text="title"></span></a>
            <p class="search-time">
              <i class="icon-calendar icon"></i>
              <span q-text="date|dateformat"></span>
            </p>
            <p class="search-tag">
              <i class="icon-price-tags icon"></i>
              <span q-repeat="tags" q-on="click:choseTag(e, name)" q-text="name|tagformat"></span>
            </p>
          </li>
        </ul>
    	</section>
    

    

    
    	<section class="tools-section tools-section-me" q-show="aboutme">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">很惭愧&lt;br&gt;&lt;br&gt;只做了一点微小的工作&lt;br&gt;谢谢大家</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>