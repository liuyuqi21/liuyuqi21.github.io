






<!doctype html>
<html lang="zh-CN">
<head>
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <meta name="author" content="Cellophane">
  
  
  
  
    <meta name="description" content="7. 重建二叉树1234567891011121314151617181920public TreeNode reConstructBinaryTree(int [] pre,int [] in) &#123;       if(pre==null||in==null)&#123;           return null;       &#125;       return func(p...">
  
  <title>剑指Offer-二叉树相关 [ Cellophane ]</title>
  
  
    <link rel="shortcut icon" href="/Blinky.ico">
  
  
  <link rel="stylesheet" href="/css/random.css">
<link rel="stylesheet" href="/css/vegas.min.css">
<link rel="stylesheet" href="/css/highlight-railscasts.css">
<link rel="stylesheet" href="/css/jquery.fancybox.css">
<link rel="stylesheet" href="/css/iconfont/iconfont.css">
<link rel="stylesheet" href="/css/jquery.fancybox-thumbs.css">
<link rel="stylesheet" href="/css/plyr.css">
  
</head>

<body>
<div class="side-navigate hide-area">
  
    <div class="item prev">
      <a href="/2018/09/12/剑指Offer-数组相关/">
        <div class="item-icon"></div>
      </a>
      <div class="item-title">
        剑指Offer-数组相关
      </div>
    </div>
  
  
    <div class="item next">
      <a href="/2018/06/10/剑指Offer-链表相关/">
        <div class="item-icon"></div>
      </a>
      <div class="item-title">
        剑指Offer-链表相关
      </div>
    </div>
  
</div>
<div id="outer-container" class="hide-area">
<div id="container">
  <div id="menu-outer" class="slide-down">
    <div id="menu-inner">
      <div id="brand">
        
        <a onClick="openUserCard()">
          <img id="avatar" src="/images/me3.jpg"/>
          <div id="homelink">Cellophane</div>
        </a>
      </div>
      <div id="menu-list">
        <ul>
        
        
          
            <li>
          
            <a href="/index.html">首页</a>
            
          </li>
        
          
            <li>
          
            <a href="/archives">文章</a>
            
          </li>
        
          
            <li>
          
            <a href="/tags">标签</a>
            
          </li>
        
          
            <li>
          
            <a href="/categories">分类</a>
            
          </li>
        
        </ul>
      </div>
      <div id="show-menu">
        <button>Menu</button>
      </div>
    </div>
  </div>

  <div id="content-outer">
    <div id="content-inner">
      
      
  

  <article id="post">
    <h1>剑指Offer-二叉树相关</h1>
    <p class="page-title-sub">
      <span id = "post-title-date">撰写于 2018-09-11</span>
      
      
      <span id = "post-title-categories">分类
      
      
        
        
        <a href="/categories/算法/">算法</a>
      
      </span>
      
      
      <span id = "post-title-tags">
      标签
      
      
        
        
        <a href="/tags/面试/">面试</a>
      
        
          /
        
        
        <a href="/tags/剑指Offer/">剑指Offer</a>
      
        
          /
        
        
        <a href="/tags/算法/">算法</a>
      
      </span>
      
    </p>
    
    <h2 id="7-重建二叉树"><a href="#7-重建二叉树" class="headerlink" title="7. 重建二叉树"></a>7. 重建二叉树</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">reConstructBinaryTree</span><span class="params">(<span class="keyword">int</span> [] pre,<span class="keyword">int</span> [] in)</span> </span>&#123;</div><div class="line">       <span class="keyword">if</span>(pre==<span class="keyword">null</span>||in==<span class="keyword">null</span>)&#123;</div><div class="line">           <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">       &#125;</div><div class="line">       <span class="keyword">return</span> func(pre,<span class="number">0</span>,pre.length-<span class="number">1</span>,in,<span class="number">0</span>,in.length-<span class="number">1</span>);</div><div class="line">   &#125;</div><div class="line">   <span class="function"><span class="keyword">public</span> TreeNode <span class="title">func</span><span class="params">(<span class="keyword">int</span> []pre,<span class="keyword">int</span> startPre,<span class="keyword">int</span> endPre,<span class="keyword">int</span> []in,<span class="keyword">int</span> startIn,<span class="keyword">int</span> endIn)</span></span>&#123;</div><div class="line">       <span class="keyword">if</span>(startPre&gt;endPre||startIn&gt;endIn)</div><div class="line">           <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">       TreeNode node=<span class="keyword">new</span> TreeNode(pre[startPre]);</div><div class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> i=startIn;i&lt;=endIn;i++)&#123;</div><div class="line">           <span class="keyword">if</span>(in[i]==pre[startPre])&#123;</div><div class="line">               node.left=func(pre,startPre+<span class="number">1</span>,i-startIn+startPre,in,startIn,i-<span class="number">1</span>);</div><div class="line">               node.right=func(pre,i+<span class="number">1</span>-startIn+startPre,endPre,in,i+<span class="number">1</span>,endIn);</div><div class="line">               <span class="keyword">break</span>;</div><div class="line">           &#125;</div><div class="line">       &#125;</div><div class="line">       </div><div class="line">      <span class="keyword">return</span> node;</div><div class="line">   &#125;</div></pre></td></tr></table></figure>
<h2 id="8-二叉树的下一个结点"><a href="#8-二叉树的下一个结点" class="headerlink" title="8. 二叉树的下一个结点"></a>8. 二叉树的下一个结点</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="function">TreeLinkNode* <span class="title">GetNext</span><span class="params">(TreeLinkNode* pNode)</span> </span>&#123;</div><div class="line">       <span class="keyword">if</span> (pNode == <span class="literal">nullptr</span>) &#123;</div><div class="line">           <span class="keyword">return</span> <span class="literal">nullptr</span>;</div><div class="line">       &#125;</div><div class="line">       <span class="keyword">if</span> (pNode-&gt;right) &#123;</div><div class="line">           pNode = pNode-&gt;right;</div><div class="line">           <span class="keyword">while</span> (pNode-&gt;left) &#123;</div><div class="line">               pNode = pNode-&gt;left;</div><div class="line">           &#125;</div><div class="line">           <span class="keyword">return</span> pNode;</div><div class="line">       &#125;</div><div class="line">       <span class="keyword">else</span> &#123;</div><div class="line">           <span class="keyword">while</span> (pNode-&gt;next) &#123;</div><div class="line">               <span class="keyword">if</span> (pNode-&gt;next-&gt;left == pNode) &#123;</div><div class="line">                   <span class="keyword">return</span> pNode-&gt;next;</div><div class="line">               &#125;	</div><div class="line">               pNode = pNode-&gt;next;</div><div class="line">           &#125;</div><div class="line">           <span class="keyword">return</span> <span class="literal">nullptr</span>;</div><div class="line">       &#125;</div><div class="line">   &#125;</div></pre></td></tr></table></figure>
<h2 id="26-树的子结构"><a href="#26-树的子结构" class="headerlink" title="26. 树的子结构"></a>26. 树的子结构</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">HasSubtree</span><span class="params">(TreeNode* pRoot1, TreeNode* pRoot2)</span></span></div><div class="line">&#123;</div><div class="line">	<span class="keyword">if</span> (pRoot1 == <span class="literal">nullptr</span> || pRoot2 == <span class="literal">nullptr</span>) &#123;</div><div class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">bool</span> result = <span class="literal">false</span>;</div><div class="line"></div><div class="line">	<span class="keyword">if</span> (pRoot1-&gt;val == pRoot2-&gt;val) &#123;</div><div class="line">		result = isSubTree(pRoot1, pRoot2);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span> (!result) &#123;</div><div class="line">		result = HasSubtree(pRoot1-&gt;left, pRoot2);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span> (!result) &#123;</div><div class="line">		result = HasSubtree(pRoot1-&gt;right, pRoot2);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> result;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isSubTree</span><span class="params">(TreeNode* pRoot1, TreeNode* pRoot2)</span> </span>&#123;</div><div class="line">	<span class="keyword">if</span> (pRoot2 == <span class="literal">nullptr</span>) &#123;</div><div class="line">		<span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span> (pRoot1 == <span class="literal">nullptr</span>) &#123;</div><div class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">if</span> (pRoot1-&gt;val == pRoot2-&gt;val) &#123;</div><div class="line">		<span class="keyword">return</span> isSubTree(pRoot1-&gt;left, pRoot2-&gt;left) &amp;&amp; isSubTree(pRoot1-&gt;right, pRoot2-&gt;right);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">else</span> &#123;</div><div class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="27-二叉树的镜像"><a href="#27-二叉树的镜像" class="headerlink" title="27. 二叉树的镜像"></a>27. 二叉树的镜像</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">Mirror</span><span class="params">(TreeNode *pRoot)</span> </span>&#123;</div><div class="line">       <span class="keyword">if</span> (pRoot == <span class="literal">nullptr</span>) &#123;</div><div class="line">           <span class="keyword">return</span>;</div><div class="line">       &#125;</div><div class="line">       <span class="keyword">if</span> (pRoot-&gt;left) &#123;</div><div class="line">           Mirror(pRoot-&gt;left);</div><div class="line">       &#125;</div><div class="line">       <span class="keyword">if</span> (pRoot-&gt;right) &#123;</div><div class="line">           Mirror(pRoot-&gt;right);</div><div class="line">       &#125;</div><div class="line">       TreeNode* p = pRoot-&gt;left;</div><div class="line">       pRoot-&gt;left = pRoot-&gt;right;</div><div class="line">       pRoot-&gt;right = p;</div><div class="line">   &#125;</div></pre></td></tr></table></figure>
<h2 id="28-对称的二叉树"><a href="#28-对称的二叉树" class="headerlink" title="28. 对称的二叉树"></a>28. 对称的二叉树</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isSymmetrical</span><span class="params">(TreeNode* pRoot)</span> </span>&#123;</div><div class="line">       <span class="keyword">if</span> (pRoot == <span class="literal">nullptr</span>) &#123;</div><div class="line">              <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">       &#125;</div><div class="line">       <span class="keyword">return</span> isSymmetrical(pRoot-&gt;left, pRoot-&gt;right);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isSymmetrical</span><span class="params">(TreeNode* p1, TreeNode* p2)</span> </span>&#123;</div><div class="line">       <span class="keyword">if</span> (p1 == <span class="literal">nullptr</span>)</div><div class="line">              <span class="keyword">return</span> p1 == p2;</div><div class="line">       <span class="keyword">if</span> (p2 == <span class="literal">nullptr</span>)</div><div class="line">              <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">       <span class="keyword">if</span> (p1-&gt;val != p2-&gt;val)</div><div class="line">              <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">       <span class="keyword">return</span> isSymmetrical(p1-&gt;left, p2-&gt;right) &amp;&amp; isSymmetrical(p1-&gt;right, </div><div class="line">p2-&gt;left);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="32-1-从上往下打印二叉树"><a href="#32-1-从上往下打印二叉树" class="headerlink" title="32.1 从上往下打印二叉树"></a>32.1 从上往下打印二叉树</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; PrintFromTopToBottom(TreeNode* root) &#123;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="built_in">list</span>;</div><div class="line">        <span class="keyword">if</span> (root==<span class="literal">nullptr</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="built_in">list</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">queue</span>&lt;TreeNode*&gt; nodes;</div><div class="line">        nodes.push(root);</div><div class="line">        <span class="keyword">while</span> (nodes.size()) &#123;</div><div class="line">            TreeNode* p = nodes.front();</div><div class="line">            <span class="built_in">list</span>.push_back(p-&gt;val);</div><div class="line">            nodes.pop();</div><div class="line">            <span class="keyword">if</span> (p-&gt;left) &#123;</div><div class="line">                nodes.push(p-&gt;left);</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (p-&gt;right) &#123;</div><div class="line">                nodes.push(p-&gt;right);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="built_in">list</span>;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<h2 id="32-2-分行从上到下打印二叉树"><a href="#32-2-分行从上到下打印二叉树" class="headerlink" title="32.2 分行从上到下打印二叉树"></a>32.2 分行从上到下打印二叉树</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; Print(TreeNode* pRoot) &#123;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; print;</div><div class="line">        <span class="keyword">if</span> (pRoot == <span class="literal">nullptr</span>) &#123;</div><div class="line">            <span class="keyword">return</span> print;</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; line;</div><div class="line">        <span class="built_in">queue</span>&lt;TreeNode*&gt; nodes;</div><div class="line">        nodes.push(pRoot);</div><div class="line">        <span class="keyword">while</span> (nodes.size()) &#123;</div><div class="line">            <span class="keyword">int</span> size = nodes.size();</div><div class="line">            <span class="keyword">while</span> (size != <span class="number">0</span>) &#123;</div><div class="line">                TreeNode* p = nodes.front();</div><div class="line">                line.push_back(p-&gt;val);</div><div class="line">                nodes.pop();</div><div class="line">                size--;</div><div class="line">                <span class="keyword">if</span> (p-&gt;left) &#123;</div><div class="line">                    nodes.push(p-&gt;left);</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span> (p-&gt;right) &#123;</div><div class="line">                    nodes.push(p-&gt;right);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            print.push_back(line);</div><div class="line">            line.clear();</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> print;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<h3 id="用两个队列"><a href="#用两个队列" class="headerlink" title="用两个队列"></a>用两个队列</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; Print(TreeNode* pRoot) &#123;</div><div class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; res;</div><div class="line">	<span class="keyword">if</span> (pRoot == <span class="literal">nullptr</span>) &#123;</div><div class="line">		<span class="keyword">return</span> res;</div><div class="line">	&#125;</div><div class="line">	<span class="built_in">queue</span>&lt;TreeNode*&gt; q1;</div><div class="line">	<span class="built_in">queue</span>&lt;TreeNode*&gt; q2;</div><div class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; line;</div><div class="line">	q1.push(pRoot);</div><div class="line">	<span class="keyword">while</span> (q1.size() || q2.size()) &#123;</div><div class="line">		<span class="keyword">while</span> (q1.size()) &#123;</div><div class="line">			TreeNode* top = q1.front();</div><div class="line">			<span class="keyword">if</span> (top-&gt;left) &#123;</div><div class="line">				q2.push(top-&gt;left);</div><div class="line">			&#125;</div><div class="line">			<span class="keyword">if</span> (top-&gt;right) &#123;</div><div class="line">				q2.push(top-&gt;right);</div><div class="line">			&#125;</div><div class="line">			line.push_back(top-&gt;val);</div><div class="line">			q1.pop();</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span> (line.size())</div><div class="line">			res.push_back(line);</div><div class="line">		line.clear();</div><div class="line">		<span class="keyword">while</span> (q2.size()) &#123;</div><div class="line">			TreeNode* top = q2.front();</div><div class="line">			<span class="keyword">if</span> (top-&gt;left) &#123;</div><div class="line">				q1.push(top-&gt;left);</div><div class="line">			&#125;</div><div class="line">			<span class="keyword">if</span> (top-&gt;right) &#123;</div><div class="line">				q1.push(top-&gt;right);</div><div class="line">			&#125;</div><div class="line">			line.push_back(top-&gt;val);</div><div class="line">			q2.pop();</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span> (line.size())</div><div class="line">			res.push_back(line);</div><div class="line">		line.clear();</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> res;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="32-3-之字形打印二叉树"><a href="#32-3-之字形打印二叉树" class="headerlink" title="32.3 之字形打印二叉树"></a>32.3 之字形打印二叉树</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; Print(TreeNode* pRoot) &#123;</div><div class="line">	<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; res;</div><div class="line">	<span class="keyword">if</span> (pRoot == <span class="literal">nullptr</span>) &#123;</div><div class="line">		<span class="keyword">return</span> res;</div><div class="line">	&#125;</div><div class="line">	<span class="built_in">stack</span>&lt;TreeNode*&gt; s1;</div><div class="line">	<span class="built_in">stack</span>&lt;TreeNode*&gt; s2;</div><div class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; line;</div><div class="line">	s1.push(pRoot);</div><div class="line">	<span class="keyword">while</span> (s1.size() || s2.size()) &#123;</div><div class="line"></div><div class="line">		<span class="keyword">while</span> (s1.size()) &#123;</div><div class="line">			TreeNode* p = s1.top();</div><div class="line">			<span class="keyword">if</span> (p-&gt;left) &#123;</div><div class="line">				s2.push(p-&gt;left);</div><div class="line">			&#125;</div><div class="line">			<span class="keyword">if</span> (p-&gt;right) &#123;</div><div class="line">				s2.push(p-&gt;right);</div><div class="line">			&#125;</div><div class="line">			line.push_back(p-&gt;val);</div><div class="line">			s1.pop();</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span> (line.size());</div><div class="line">		res.push_back(line);</div><div class="line">		line.clear();</div><div class="line">		<span class="keyword">while</span> (s2.size()) &#123;</div><div class="line">			TreeNode* p = s2.top();</div><div class="line">			<span class="keyword">if</span> (p-&gt;right) &#123;</div><div class="line">				s1.push(p-&gt;right);</div><div class="line">			&#125;</div><div class="line">			<span class="keyword">if</span> (p-&gt;left) &#123;</div><div class="line">				s1.push(p-&gt;left);</div><div class="line">			&#125;</div><div class="line">			line.push_back(p-&gt;val);</div><div class="line">			s2.pop();</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">if</span> (line.size())</div><div class="line">			res.push_back(line);</div><div class="line">		line.clear();</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> res;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="33-二叉搜索树的后序遍历序列"><a href="#33-二叉搜索树的后序遍历序列" class="headerlink" title="33. 二叉搜索树的后序遍历序列"></a>33. 二叉搜索树的后序遍历序列</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">VerifySquenceOfBST</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; sequence)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span>(sequence.size() == <span class="number">0</span>)&#123;</div><div class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(sequence.size() == <span class="number">1</span>)&#123;</div><div class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> Verify(sequence,<span class="number">0</span>,sequence.size()<span class="number">-1</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">Verify</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; sequence,<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span>&#123;</div><div class="line">        <span class="keyword">if</span>(l &gt;= r)&#123;</div><div class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> i = l;</div><div class="line">        <span class="keyword">while</span>(sequence[i] &lt; sequence[r])&#123;</div><div class="line">            i++;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=i;j&lt;r;j++)&#123;</div><div class="line">            <span class="keyword">if</span>(sequence[j] &lt; sequence[r])&#123;</div><div class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> Verify(sequence,l,i<span class="number">-1</span>) &amp;&amp; Verify(sequence,i,r<span class="number">-1</span>);</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<h2 id="34-二叉树中和为某一值的路径"><a href="#34-二叉树中和为某一值的路径" class="headerlink" title="34. 二叉树中和为某一值的路径"></a>34. 二叉树中和为某一值的路径</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; ret;</div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; trace;</div><div class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; FindPath(TreeNode* root,<span class="keyword">int</span> expectNumber) &#123;</div><div class="line">    <span class="keyword">if</span>(root)&#123;</div><div class="line">        path(root,expectNumber);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ret;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">path</span><span class="params">(TreeNode* root, <span class="keyword">int</span> expectNumber)</span> </span>&#123;</div><div class="line">    trace.push_back(root-&gt;val);</div><div class="line">    <span class="keyword">if</span> (root-&gt;val == expectNumber&amp;&amp;root-&gt;left == <span class="literal">nullptr</span>&amp;root-&gt;right == <span class="literal">nullptr</span>) &#123;</div><div class="line">        ret.push_back(trace);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">if</span> (root-&gt;left) &#123;</div><div class="line">            path(root-&gt;left, expectNumber - root-&gt;val);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (root-&gt;right) &#123;</div><div class="line">            path(root-&gt;right, expectNumber - root-&gt;val);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    trace.pop_back();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="37-序列化二叉树"><a href="#37-序列化二叉树" class="headerlink" title="37. 序列化二叉树"></a>37. 序列化二叉树</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div></pre></td></tr></table></figure>
<h2 id="54-二叉搜索树的第K大节点"><a href="#54-二叉搜索树的第K大节点" class="headerlink" title="54. 二叉搜索树的第K大节点"></a>54. 二叉搜索树的第K大节点</h2><h3 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">TreeNode* ret = <span class="literal">nullptr</span>;</div><div class="line"><span class="keyword">int</span> cnt = <span class="number">0</span>;</div><div class="line"><span class="function">TreeNode* <span class="title">KthNode</span><span class="params">(TreeNode* pRoot, <span class="keyword">int</span> k)</span></span></div><div class="line">&#123;</div><div class="line">    inOrder(pRoot, k);</div><div class="line">    <span class="keyword">return</span> ret;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">inOrder</span><span class="params">(TreeNode* pRoot, <span class="keyword">int</span> k)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (pRoot == <span class="literal">nullptr</span> || k &lt;= <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    inOrder(pRoot-&gt;left, k);</div><div class="line">    cnt++;</div><div class="line">    <span class="keyword">if</span> (cnt == k)</div><div class="line">        ret = pRoot;</div><div class="line">    inOrder(pRoot-&gt;right, k);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="55-1-二叉树的深度"><a href="#55-1-二叉树的深度" class="headerlink" title="55.1 二叉树的深度"></a>55.1 二叉树的深度</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">TreeDepth</span><span class="params">(TreeNode* pRoot)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (pRoot == <span class="literal">nullptr</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> left = TreeDepth(pRoot-&gt;left);</div><div class="line">        <span class="keyword">int</span> right = TreeDepth(pRoot-&gt;right);</div><div class="line">        <span class="keyword">return</span> (left &gt; right) ? (left + <span class="number">1</span>) : (right + <span class="number">1</span>);</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<h2 id="55-2-平衡二叉树"><a href="#55-2-平衡二叉树" class="headerlink" title="55.2 平衡二叉树"></a>55.2 平衡二叉树</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">bool res = true;</div><div class="line">bool IsBalanced_Solution(TreeNode *pRoot)</div><div class="line">&#123;</div><div class="line">    isBalance(pRoot);</div><div class="line">    return res;</div><div class="line">&#125;</div><div class="line">int isBalance(TreeNode *pRoot)</div><div class="line">&#123;</div><div class="line">    if (pRoot == nullptr)</div><div class="line">    &#123;</div><div class="line">        return 0;</div><div class="line">    &#125;</div><div class="line">    int left = isBalance(pRoot-&gt;left);</div><div class="line">    int right = isBalance(pRoot-&gt;right);</div><div class="line">    int diff = left - right;</div><div class="line">    if (diff &gt; 1 || diff &lt; -1)</div><div class="line">    &#123;</div><div class="line">        res = false;</div><div class="line">    &#125;</div><div class="line">    return left &gt; right ? left + 1 : right + 1;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="69-树中两个节点的最低公共祖先"><a href="#69-树中两个节点的最低公共祖先" class="headerlink" title="69. 树中两个节点的最低公共祖先"></a>69. 树中两个节点的最低公共祖先</h2>
  </article>
  <div class="random-toc-area">
  <button class="btn-hide-toc btn-hide-toc-show" style="display: none" onclick="TOCToggle()">显示目录</button>
  <button class="btn-hide-toc btn-hide-toc-hide" onclick="TOCToggle()">隐藏目录</button>
  <div class="random-toc">
    <h2>目录</h2>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#7-重建二叉树"><span class="toc-text">7. 重建二叉树</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-二叉树的下一个结点"><span class="toc-text">8. 二叉树的下一个结点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#26-树的子结构"><span class="toc-text">26. 树的子结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#27-二叉树的镜像"><span class="toc-text">27. 二叉树的镜像</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#28-对称的二叉树"><span class="toc-text">28. 对称的二叉树</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#32-1-从上往下打印二叉树"><span class="toc-text">32.1 从上往下打印二叉树</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#32-2-分行从上到下打印二叉树"><span class="toc-text">32.2 分行从上到下打印二叉树</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#用两个队列"><span class="toc-text">用两个队列</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#32-3-之字形打印二叉树"><span class="toc-text">32.3 之字形打印二叉树</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#33-二叉搜索树的后序遍历序列"><span class="toc-text">33. 二叉搜索树的后序遍历序列</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#34-二叉树中和为某一值的路径"><span class="toc-text">34. 二叉树中和为某一值的路径</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#37-序列化二叉树"><span class="toc-text">37. 序列化二叉树</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#54-二叉搜索树的第K大节点"><span class="toc-text">54. 二叉搜索树的第K大节点</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#递归"><span class="toc-text">递归</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#55-1-二叉树的深度"><span class="toc-text">55.1 二叉树的深度</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#55-2-平衡二叉树"><span class="toc-text">55.2 平衡二叉树</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#69-树中两个节点的最低公共祖先"><span class="toc-text">69. 树中两个节点的最低公共祖先</span></a></li></ol>
  </div>
</div>

  
<nav id="pagination">
  
    <a href="/2018/09/12/剑指Offer-数组相关/" class="prev">&larr; 上一篇 剑指Offer-数组相关</a>
  

  

  
    <a href="/2018/06/10/剑指Offer-链表相关/" class="next">下一篇 剑指Offer-链表相关 &rarr;</a>
  
</nav>

  <!-- JiaThis Button BEGIN -->

<!-- JiaThis Button END -->


      
      
    </div>
  </div>

  <div id="bottom-outer">
    <div id="bottom-inner">
      Site by Cellophane using
      <a href="http://hexo.io">Hexo</a> & <a href="https://github.com/stiekel/hexo-theme-random">Random</a>
      <br>
      
    </div>
  </div>
</div>

</div>


<div id="user-card">
  <div class="center-field">
    <img class="avatar" src="/images/me3.jpg">
    <p id="description"></p>
    <ul class="social-icon">
  
  
    <li>
      <a href="https://github.com/liuyuqi21">
        
          <i class="icon iconfont github">&#xe606;</i>
        
      </a>
    </li>
  
    <li>
      <a href="https://www.zhihu.com/people/ding-wei-33-1/activities">
        
          <i class="icon iconfont zhihu">&#xe60b;</i>
        
      </a>
    </li>
  
    <li>
      <a href="http://chensd.com">
        
          <i class="icon iconfont rss">&#xe60e;</i>
        
      </a>
    </li>
  
</ul>
  </div>
</div>


<div id="btn-view">Hide</div>

<script>
// is trigger analytics / tongji script
var isIgnoreHost = false;

if(window && window.location && window.location.host) {
  isIgnoreHost = ["localhost","127.0.0.1"].some(function(address){
    return 0 === window.location.host.indexOf(address);
  });
}

var isTriggerAnalytics = !( true && isIgnoreHost );

</script>




  
  
    <script src="/js/jquery-2.2.3.min.js"></script>
  
    <script src="/js/vegas.min.js"></script>
  
    <script src="/js/random.js"></script>
  
    <script src="/js/highlight.pack.js"></script>
  
    <script src="/js/jquery.mousewheel.pack.js"></script>
  
    <script src="/js/jquery.fancybox.pack.js"></script>
  
    <script src="/js/jquery.fancybox-thumbs.js"></script>
  
    <script src="/js/plyr.js"></script>
  

<script>

  // fancybox
  var backgroundImages = [];
  
  $('#post').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox') || $(this).parent().hasClass('fancybox-thumb')) return;
      var alt = this.alt || this.title;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'post' + i);
    });
  });
  $(".fancybox").fancybox();

var vegasConfig = {"preload­Image":true,"transition":["flash"],"timer":true,"delay":1500000,"shuffle":true,"count":12};
var unsplashConfig = {"gravity":"center"};
// is show background images
var turnoffBackgroundImage = false;




var backgroundColor = "34495E";

$(".fancybox-thumb").fancybox({
  prevEffect: 'none',
  nextEffect: 'none',
  helpers: {
    title: {
      type: 'outside'
    },
    thumbs: {
      width: 50,
      height: 50
    }
  }
});

// show video with plyr
$(".video-container iframe").each(function(i){
  var url = $(this).attr('src');
  var id = url.split('/').pop();
  var plyrContainer = document.createElement('div');
  plyrContainer.className = 'plyr';
  var plyrElement = document.createElement('div');
  plyrElement.dataset.videoId = id;
  switch(true) {
    case url.search('youtube.com') >= 0:
      plyrElement.dataset.type = 'youtube';
      break;
    case url.search('vimeo.com') >= 0:
      plyrElement.dataset.type = 'vimeo';
      break;
    default:
      return;
  };
  plyrContainer.appendChild(plyrElement);
  $(this).parent().html(plyrContainer);
});
plyr.setup('.plyr', {iconUrl: '/css/sprite.svg'});
</script>
</body>
</html>

